if(function(X,Je){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=X.document?Je(X,!0):function(Ae){if(!Ae.document)throw new Error("jQuery requires a window with a document");return Je(Ae)}:Je(X)}("undefined"!=typeof window?window:this,function(X,Je){"use strict";var Ae=[],Se=Object.getPrototypeOf,Nr=Ae.slice,ns=Ae.flat?function(v){return Ae.flat.call(v)}:function(v){return Ae.concat.apply([],v)},Tr=Ae.push,ia=Ae.indexOf,Un={},sn=Un.toString,Fr=Un.hasOwnProperty,Nn=Fr.toString,ri=Nn.call(Object),jt={},vt=function(v){return"function"==typeof v&&"number"!=typeof v.nodeType&&"function"!=typeof v.item},lt=function(v){return null!=v&&v===v.window},kt=X.document,On={type:!0,src:!0,nonce:!0,noModule:!0};function mn(v,A,C){var S,B,Z=(C=C||kt).createElement("script");if(Z.text=v,A)for(S in On)(B=A[S]||A.getAttribute&&A.getAttribute(S))&&Z.setAttribute(S,B);C.head.appendChild(Z).parentNode.removeChild(Z)}function Or(v){return null==v?v+"":"object"==typeof v||"function"==typeof v?Un[sn.call(v)]||"object":typeof v}var k=function(v,A){return new k.fn.init(v,A)};function yn(v){var A=!!v&&"length"in v&&v.length,C=Or(v);return!vt(v)&&!lt(v)&&("array"===C||0===A||"number"==typeof A&&0<A&&A-1 in v)}k.fn=k.prototype={jquery:"3.6.1",constructor:k,length:0,toArray:function(){return Nr.call(this)},get:function(v){return null==v?Nr.call(this):v<0?this[v+this.length]:this[v]},pushStack:function(v){var A=k.merge(this.constructor(),v);return A.prevObject=this,A},each:function(v){return k.each(this,v)},map:function(v){return this.pushStack(k.map(this,function(A,C){return v.call(A,C,A)}))},slice:function(){return this.pushStack(Nr.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(v,A){return(A+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(v,A){return A%2}))},eq:function(v){var A=this.length,C=+v+(v<0?A:0);return this.pushStack(0<=C&&C<A?[this[C]]:[])},end:function(){return this.prevObject||this.constructor()},push:Tr,sort:Ae.sort,splice:Ae.splice},k.extend=k.fn.extend=function(){var v,A,C,S,B,Z,Y=arguments[0]||{},le=1,se=arguments.length,ve=!1;for("boolean"==typeof Y&&(ve=Y,Y=arguments[le]||{},le++),"object"==typeof Y||vt(Y)||(Y={}),le===se&&(Y=this,le--);le<se;le++)if(null!=(v=arguments[le]))for(A in v)S=v[A],"__proto__"!==A&&Y!==S&&(ve&&S&&(k.isPlainObject(S)||(B=Array.isArray(S)))?(C=Y[A],Z=B&&!Array.isArray(C)?[]:B||k.isPlainObject(C)?C:{},B=!1,Y[A]=k.extend(ve,Z,S)):void 0!==S&&(Y[A]=S));return Y},k.extend({expando:"jQuery"+("3.6.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(v){throw new Error(v)},noop:function(){},isPlainObject:function(v){var A,C;return!(!v||"[object Object]"!==sn.call(v)||(A=Se(v))&&("function"!=typeof(C=Fr.call(A,"constructor")&&A.constructor)||Nn.call(C)!==ri))},isEmptyObject:function(v){var A;for(A in v)return!1;return!0},globalEval:function(v,A,C){mn(v,{nonce:A&&A.nonce},C)},each:function(v,A){var C,S=0;if(yn(v))for(C=v.length;S<C&&!1!==A.call(v[S],S,v[S]);S++);else for(S in v)if(!1===A.call(v[S],S,v[S]))break;return v},makeArray:function(v,A){var C=A||[];return null!=v&&(yn(Object(v))?k.merge(C,"string"==typeof v?[v]:v):Tr.call(C,v)),C},inArray:function(v,A,C){return null==A?-1:ia.call(A,v,C)},merge:function(v,A){for(var C=+A.length,S=0,B=v.length;S<C;S++)v[B++]=A[S];return v.length=B,v},grep:function(v,A,C){for(var S=[],B=0,Z=v.length,Y=!C;B<Z;B++)!A(v[B],B)!==Y&&S.push(v[B]);return S},map:function(v,A,C){var S,B,Z=0,Y=[];if(yn(v))for(S=v.length;Z<S;Z++)null!=(B=A(v[Z],Z,C))&&Y.push(B);else for(Z in v)null!=(B=A(v[Z],Z,C))&&Y.push(B);return ns(Y)},guid:1,support:jt}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=Ae[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(v,A){Un["[object "+A+"]"]=A.toLowerCase()});var wr=function(v){var A,C,S,B,Z,Y,le,se,ve,de,Pe,Ie,we,He,ut,rt,Me,sr,Sr,_t="sizzle"+1*new Date,ct=v.document,fr=0,ot=0,dr=di(),Ir=di(),Oi=di(),qn=di(),Ma=function(G,$){return G===$&&(Pe=!0),0},Na={}.hasOwnProperty,wn=[],cs=wn.pop,Ni=wn.push,Gr=wn.push,Zn=wn.slice,gn=function(G,$){for(var ue=0,xe=G.length;ue<xe;ue++)if(G[ue]===$)return ue;return-1},un="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ye="[\\x20\\t\\r\\n\\f]",Gt="(?:\\\\[\\da-fA-F]{1,6}"+Ye+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Lr="\\["+Ye+"*("+Gt+")(?:"+Ye+"*([*^$|!~]?=)"+Ye+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Gt+"))|)"+Ye+"*\\]",cn=":("+Gt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Lr+")*)|.*)\\)|)",Yr=new RegExp(Ye+"+","g"),ai=new RegExp("^"+Ye+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ye+"+$","g"),Ri=new RegExp("^"+Ye+"*,"+Ye+"*"),hs=new RegExp("^"+Ye+"*([>+~]|"+Ye+")"+Ye+"*"),Eo=new RegExp(Ye+"|>"),Po=new RegExp(cn),fi=new RegExp("^"+Gt+"$"),Ls={ID:new RegExp("^#("+Gt+")"),CLASS:new RegExp("^\\.("+Gt+")"),TAG:new RegExp("^("+Gt+"|[*])"),ATTR:new RegExp("^"+Lr),PSEUDO:new RegExp("^"+cn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ye+"*(even|odd|(([+-]|)(\\d*)n|)"+Ye+"*(?:([+-]|)"+Ye+"*(\\d+)|))"+Ye+"*\\)|)","i"),bool:new RegExp("^(?:"+un+")$","i"),needsContext:new RegExp("^"+Ye+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ye+"*((?:-\\d)?\\d*)"+Ye+"*\\)|)(?=[^-]|$)","i")},Es=/HTML$/i,Bo=/^(?:input|select|textarea|button)$/i,Oo=/^h\d$/i,Wa=/^[^{]+\{\s*\[native \w/,c0=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fo=/[+~]/,Xi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ye+"?|\\\\([^\\r\\n\\f])","g"),si=function(G,$){var ue="0x"+G.slice(1)-65536;return $||(ue<0?String.fromCharCode(ue+65536):String.fromCharCode(ue>>10|55296,1023&ue|56320))},ha=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ro=function(G,$){return $?"\0"===G?"\ufffd":G.slice(0,-1)+"\\"+G.charCodeAt(G.length-1).toString(16)+" ":"\\"+G},h0=function(){Ie()},Go=po(function(G){return!0===G.disabled&&"fieldset"===G.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Gr.apply(wn=Zn.call(ct.childNodes),ct.childNodes)}catch(G){Gr={apply:wn.length?function($,ue){Ni.apply($,Zn.call(ue))}:function($,ue){for(var xe=$.length,ce=0;$[xe++]=ue[ce++];);$.length=xe-1}}}function pr(G,$,ue,xe){var ce,Oe,Re,_e,Qe,xt,pt,yt=$&&$.ownerDocument,Pt=$?$.nodeType:9;if(ue=ue||[],"string"!=typeof G||!G||1!==Pt&&9!==Pt&&11!==Pt)return ue;if(!xe&&(Ie($),$=$||we,ut)){if(11!==Pt&&(Qe=c0.exec(G)))if(ce=Qe[1]){if(9===Pt){if(!(Re=$.getElementById(ce)))return ue;if(Re.id===ce)return ue.push(Re),ue}else if(yt&&(Re=yt.getElementById(ce))&&Sr($,Re)&&Re.id===ce)return ue.push(Re),ue}else{if(Qe[2])return Gr.apply(ue,$.getElementsByTagName(G)),ue;if((ce=Qe[3])&&C.getElementsByClassName&&$.getElementsByClassName)return Gr.apply(ue,$.getElementsByClassName(ce)),ue}if(C.qsa&&!qn[G+" "]&&(!rt||!rt.test(G))&&(1!==Pt||"object"!==$.nodeName.toLowerCase())){if(pt=G,yt=$,1===Pt&&(Eo.test(G)||hs.test(G))){for((yt=fo.test(G)&&go($.parentNode)||$)===$&&C.scope||((_e=$.getAttribute("id"))?_e=_e.replace(ha,Ro):$.setAttribute("id",_e=_t)),Oe=(xt=Y(G)).length;Oe--;)xt[Oe]=(_e?"#"+_e:":scope")+" "+vo(xt[Oe]);pt=xt.join(",")}try{return Gr.apply(ue,yt.querySelectorAll(pt)),ue}catch(bt){qn(G,!0)}finally{_e===_t&&$.removeAttribute("id")}}}return se(G.replace(ai,"$1"),$,ue,xe)}function di(){var G=[];return function $(ue,xe){return G.push(ue+" ")>S.cacheLength&&delete $[G.shift()],$[ue+" "]=xe}}function Fn(G){return G[_t]=!0,G}function gi(G){var $=we.createElement("fieldset");try{return!!G($)}catch(ue){return!1}finally{$.parentNode&&$.parentNode.removeChild($),$=null}}function _a(G,$){for(var ue=G.split("|"),xe=ue.length;xe--;)S.attrHandle[ue[xe]]=$}function jo(G,$){var ue=$&&G,xe=ue&&1===G.nodeType&&1===$.nodeType&&G.sourceIndex-$.sourceIndex;if(xe)return xe;if(ue)for(;ue=ue.nextSibling;)if(ue===$)return-1;return G?1:-1}function fs(G){return function($){return"input"===$.nodeName.toLowerCase()&&$.type===G}}function vi(G){return function($){var ue=$.nodeName.toLowerCase();return("input"===ue||"button"===ue)&&$.type===G}}function Ps(G){return function($){return"form"in $?$.parentNode&&!1===$.disabled?"label"in $?"label"in $.parentNode?$.parentNode.disabled===G:$.disabled===G:$.isDisabled===G||$.isDisabled!==!G&&Go($)===G:$.disabled===G:"label"in $&&$.disabled===G}}function fa(G){return Fn(function($){return $=+$,Fn(function(ue,xe){for(var ce,Oe=G([],ue.length,$),Re=Oe.length;Re--;)ue[ce=Oe[Re]]&&(ue[ce]=!(xe[ce]=ue[ce]))})})}function go(G){return G&&void 0!==G.getElementsByTagName&&G}for(A in C=pr.support={},Z=pr.isXML=function(G){var ue=G&&(G.ownerDocument||G).documentElement;return!Es.test(G&&G.namespaceURI||ue&&ue.nodeName||"HTML")},Ie=pr.setDocument=function(G){var $,ue,xe=G?G.ownerDocument||G:ct;return xe!=we&&9===xe.nodeType&&xe.documentElement&&(He=(we=xe).documentElement,ut=!Z(we),ct!=we&&(ue=we.defaultView)&&ue.top!==ue&&(ue.addEventListener?ue.addEventListener("unload",h0,!1):ue.attachEvent&&ue.attachEvent("onunload",h0)),C.scope=gi(function(ce){return He.appendChild(ce).appendChild(we.createElement("div")),void 0!==ce.querySelectorAll&&!ce.querySelectorAll(":scope fieldset div").length}),C.attributes=gi(function(ce){return ce.className="i",!ce.getAttribute("className")}),C.getElementsByTagName=gi(function(ce){return ce.appendChild(we.createComment("")),!ce.getElementsByTagName("*").length}),C.getElementsByClassName=Wa.test(we.getElementsByClassName),C.getById=gi(function(ce){return He.appendChild(ce).id=_t,!we.getElementsByName||!we.getElementsByName(_t).length}),C.getById?(S.filter.ID=function(ce){var Oe=ce.replace(Xi,si);return function(Re){return Re.getAttribute("id")===Oe}},S.find.ID=function(ce,Oe){if(void 0!==Oe.getElementById&&ut){var Re=Oe.getElementById(ce);return Re?[Re]:[]}}):(S.filter.ID=function(ce){var Oe=ce.replace(Xi,si);return function(Re){var _e=void 0!==Re.getAttributeNode&&Re.getAttributeNode("id");return _e&&_e.value===Oe}},S.find.ID=function(ce,Oe){if(void 0!==Oe.getElementById&&ut){var Re,_e,Qe,xt=Oe.getElementById(ce);if(xt){if((Re=xt.getAttributeNode("id"))&&Re.value===ce)return[xt];for(Qe=Oe.getElementsByName(ce),_e=0;xt=Qe[_e++];)if((Re=xt.getAttributeNode("id"))&&Re.value===ce)return[xt]}return[]}}),S.find.TAG=C.getElementsByTagName?function(ce,Oe){return void 0!==Oe.getElementsByTagName?Oe.getElementsByTagName(ce):C.qsa?Oe.querySelectorAll(ce):void 0}:function(ce,Oe){var Re,_e=[],Qe=0,xt=Oe.getElementsByTagName(ce);if("*"===ce){for(;Re=xt[Qe++];)1===Re.nodeType&&_e.push(Re);return _e}return xt},S.find.CLASS=C.getElementsByClassName&&function(ce,Oe){if(void 0!==Oe.getElementsByClassName&&ut)return Oe.getElementsByClassName(ce)},Me=[],rt=[],(C.qsa=Wa.test(we.querySelectorAll))&&(gi(function(ce){var Oe;He.appendChild(ce).innerHTML="<a id='"+_t+"'></a><select id='"+_t+"-\r\\' msallowcapture=''><option selected=''></option></select>",ce.querySelectorAll("[msallowcapture^='']").length&&rt.push("[*^$]="+Ye+"*(?:''|\"\")"),ce.querySelectorAll("[selected]").length||rt.push("\\["+Ye+"*(?:value|"+un+")"),ce.querySelectorAll("[id~="+_t+"-]").length||rt.push("~="),(Oe=we.createElement("input")).setAttribute("name",""),ce.appendChild(Oe),ce.querySelectorAll("[name='']").length||rt.push("\\["+Ye+"*name"+Ye+"*="+Ye+"*(?:''|\"\")"),ce.querySelectorAll(":checked").length||rt.push(":checked"),ce.querySelectorAll("a#"+_t+"+*").length||rt.push(".#.+[+~]"),ce.querySelectorAll("\\\f"),rt.push("[\\r\\n\\f]")}),gi(function(ce){ce.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Oe=we.createElement("input");Oe.setAttribute("type","hidden"),ce.appendChild(Oe).setAttribute("name","D"),ce.querySelectorAll("[name=d]").length&&rt.push("name"+Ye+"*[*^$|!~]?="),2!==ce.querySelectorAll(":enabled").length&&rt.push(":enabled",":disabled"),He.appendChild(ce).disabled=!0,2!==ce.querySelectorAll(":disabled").length&&rt.push(":enabled",":disabled"),ce.querySelectorAll("*,:x"),rt.push(",.*:")})),(C.matchesSelector=Wa.test(sr=He.matches||He.webkitMatchesSelector||He.mozMatchesSelector||He.oMatchesSelector||He.msMatchesSelector))&&gi(function(ce){C.disconnectedMatch=sr.call(ce,"*"),sr.call(ce,"[s!='']:x"),Me.push("!=",cn)}),rt=rt.length&&new RegExp(rt.join("|")),Me=Me.length&&new RegExp(Me.join("|")),$=Wa.test(He.compareDocumentPosition),Sr=$||Wa.test(He.contains)?function(ce,Oe){var Re=9===ce.nodeType?ce.documentElement:ce,_e=Oe&&Oe.parentNode;return ce===_e||!(!_e||1!==_e.nodeType||!(Re.contains?Re.contains(_e):ce.compareDocumentPosition&&16&ce.compareDocumentPosition(_e)))}:function(ce,Oe){if(Oe)for(;Oe=Oe.parentNode;)if(Oe===ce)return!0;return!1},Ma=$?function(ce,Oe){if(ce===Oe)return Pe=!0,0;var Re=!ce.compareDocumentPosition-!Oe.compareDocumentPosition;return Re||(1&(Re=(ce.ownerDocument||ce)==(Oe.ownerDocument||Oe)?ce.compareDocumentPosition(Oe):1)||!C.sortDetached&&Oe.compareDocumentPosition(ce)===Re?ce==we||ce.ownerDocument==ct&&Sr(ct,ce)?-1:Oe==we||Oe.ownerDocument==ct&&Sr(ct,Oe)?1:de?gn(de,ce)-gn(de,Oe):0:4&Re?-1:1)}:function(ce,Oe){if(ce===Oe)return Pe=!0,0;var Re,_e=0,Qe=ce.parentNode,xt=Oe.parentNode,pt=[ce],yt=[Oe];if(!Qe||!xt)return ce==we?-1:Oe==we?1:Qe?-1:xt?1:de?gn(de,ce)-gn(de,Oe):0;if(Qe===xt)return jo(ce,Oe);for(Re=ce;Re=Re.parentNode;)pt.unshift(Re);for(Re=Oe;Re=Re.parentNode;)yt.unshift(Re);for(;pt[_e]===yt[_e];)_e++;return _e?jo(pt[_e],yt[_e]):pt[_e]==ct?-1:yt[_e]==ct?1:0}),we},pr.matches=function(G,$){return pr(G,null,null,$)},pr.matchesSelector=function(G,$){if(Ie(G),C.matchesSelector&&ut&&!qn[$+" "]&&(!Me||!Me.test($))&&(!rt||!rt.test($)))try{var ue=sr.call(G,$);if(ue||C.disconnectedMatch||G.document&&11!==G.document.nodeType)return ue}catch(xe){qn($,!0)}return 0<pr($,we,null,[G]).length},pr.contains=function(G,$){return(G.ownerDocument||G)!=we&&Ie(G),Sr(G,$)},pr.attr=function(G,$){(G.ownerDocument||G)!=we&&Ie(G);var ue=S.attrHandle[$.toLowerCase()],xe=ue&&Na.call(S.attrHandle,$.toLowerCase())?ue(G,$,!ut):void 0;return void 0!==xe?xe:C.attributes||!ut?G.getAttribute($):(xe=G.getAttributeNode($))&&xe.specified?xe.value:null},pr.escape=function(G){return(G+"").replace(ha,Ro)},pr.error=function(G){throw new Error("Syntax error, unrecognized expression: "+G)},pr.uniqueSort=function(G){var $,ue=[],xe=0,ce=0;if(Pe=!C.detectDuplicates,de=!C.sortStable&&G.slice(0),G.sort(Ma),Pe){for(;$=G[ce++];)$===G[ce]&&(xe=ue.push(ce));for(;xe--;)G.splice(ue[xe],1)}return de=null,G},B=pr.getText=function(G){var $,ue="",xe=0,ce=G.nodeType;if(ce){if(1===ce||9===ce||11===ce){if("string"==typeof G.textContent)return G.textContent;for(G=G.firstChild;G;G=G.nextSibling)ue+=B(G)}else if(3===ce||4===ce)return G.nodeValue}else for(;$=G[xe++];)ue+=B($);return ue},(S=pr.selectors={cacheLength:50,createPseudo:Fn,match:Ls,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(G){return G[1]=G[1].replace(Xi,si),G[3]=(G[3]||G[4]||G[5]||"").replace(Xi,si),"~="===G[2]&&(G[3]=" "+G[3]+" "),G.slice(0,4)},CHILD:function(G){return G[1]=G[1].toLowerCase(),"nth"===G[1].slice(0,3)?(G[3]||pr.error(G[0]),G[4]=+(G[4]?G[5]+(G[6]||1):2*("even"===G[3]||"odd"===G[3])),G[5]=+(G[7]+G[8]||"odd"===G[3])):G[3]&&pr.error(G[0]),G},PSEUDO:function(G){var $,ue=!G[6]&&G[2];return Ls.CHILD.test(G[0])?null:(G[3]?G[2]=G[4]||G[5]||"":ue&&Po.test(ue)&&($=Y(ue,!0))&&($=ue.indexOf(")",ue.length-$)-ue.length)&&(G[0]=G[0].slice(0,$),G[2]=ue.slice(0,$)),G.slice(0,3))}},filter:{TAG:function(G){var $=G.replace(Xi,si).toLowerCase();return"*"===G?function(){return!0}:function(ue){return ue.nodeName&&ue.nodeName.toLowerCase()===$}},CLASS:function(G){var $=dr[G+" "];return $||($=new RegExp("(^|"+Ye+")"+G+"("+Ye+"|$)"))&&dr(G,function(ue){return $.test("string"==typeof ue.className&&ue.className||void 0!==ue.getAttribute&&ue.getAttribute("class")||"")})},ATTR:function(G,$,ue){return function(xe){var ce=pr.attr(xe,G);return null==ce?"!="===$:!$||(ce+="","="===$?ce===ue:"!="===$?ce!==ue:"^="===$?ue&&0===ce.indexOf(ue):"*="===$?ue&&-1<ce.indexOf(ue):"$="===$?ue&&ce.slice(-ue.length)===ue:"~="===$?-1<(" "+ce.replace(Yr," ")+" ").indexOf(ue):"|="===$&&(ce===ue||ce.slice(0,ue.length+1)===ue+"-"))}},CHILD:function(G,$,ue,xe,ce){var Oe="nth"!==G.slice(0,3),Re="last"!==G.slice(-4),_e="of-type"===$;return 1===xe&&0===ce?function(Qe){return!!Qe.parentNode}:function(Qe,xt,pt){var yt,Pt,bt,It,Qr,F,Er=Oe!==Re?"nextSibling":"previousSibling",Vt=Qe.parentNode,Gi=_e&&Qe.nodeName.toLowerCase(),Ur=!pt&&!_e,mr=!1;if(Vt){if(Oe){for(;Er;){for(It=Qe;It=It[Er];)if(_e?It.nodeName.toLowerCase()===Gi:1===It.nodeType)return!1;F=Er="only"===G&&!F&&"nextSibling"}return!0}if(F=[Re?Vt.firstChild:Vt.lastChild],Re&&Ur){for(mr=(Qr=(yt=(Pt=(bt=(It=Vt)[_t]||(It[_t]={}))[It.uniqueID]||(bt[It.uniqueID]={}))[G]||[])[0]===fr&&yt[1])&&yt[2],It=Qr&&Vt.childNodes[Qr];It=++Qr&&It&&It[Er]||(mr=Qr=0)||F.pop();)if(1===It.nodeType&&++mr&&It===Qe){Pt[G]=[fr,Qr,mr];break}}else if(Ur&&(mr=Qr=(yt=(Pt=(bt=(It=Qe)[_t]||(It[_t]={}))[It.uniqueID]||(bt[It.uniqueID]={}))[G]||[])[0]===fr&&yt[1]),!1===mr)for(;(It=++Qr&&It&&It[Er]||(mr=Qr=0)||F.pop())&&((_e?It.nodeName.toLowerCase()!==Gi:1!==It.nodeType)||!++mr||(Ur&&((Pt=(bt=It[_t]||(It[_t]={}))[It.uniqueID]||(bt[It.uniqueID]={}))[G]=[fr,mr]),It!==Qe)););return(mr-=ce)===xe||mr%xe==0&&0<=mr/xe}}},PSEUDO:function(G,$){var ue,xe=S.pseudos[G]||S.setFilters[G.toLowerCase()]||pr.error("unsupported pseudo: "+G);return xe[_t]?xe($):1<xe.length?(ue=[G,G,"",$],S.setFilters.hasOwnProperty(G.toLowerCase())?Fn(function(ce,Oe){for(var Re,_e=xe(ce,$),Qe=_e.length;Qe--;)ce[Re=gn(ce,_e[Qe])]=!(Oe[Re]=_e[Qe])}):function(ce){return xe(ce,0,ue)}):xe}},pseudos:{not:Fn(function(G){var $=[],ue=[],xe=le(G.replace(ai,"$1"));return xe[_t]?Fn(function(ce,Oe,Re,_e){for(var Qe,xt=xe(ce,null,_e,[]),pt=ce.length;pt--;)(Qe=xt[pt])&&(ce[pt]=!(Oe[pt]=Qe))}):function(ce,Oe,Re){return $[0]=ce,xe($,null,Re,ue),$[0]=null,!ue.pop()}}),has:Fn(function(G){return function($){return 0<pr(G,$).length}}),contains:Fn(function(G){return G=G.replace(Xi,si),function($){return-1<($.textContent||B($)).indexOf(G)}}),lang:Fn(function(G){return fi.test(G||"")||pr.error("unsupported lang: "+G),G=G.replace(Xi,si).toLowerCase(),function($){var ue;do{if(ue=ut?$.lang:$.getAttribute("xml:lang")||$.getAttribute("lang"))return(ue=ue.toLowerCase())===G||0===ue.indexOf(G+"-")}while(($=$.parentNode)&&1===$.nodeType);return!1}}),target:function(G){var $=v.location&&v.location.hash;return $&&$.slice(1)===G.id},root:function(G){return G===He},focus:function(G){return G===we.activeElement&&(!we.hasFocus||we.hasFocus())&&!!(G.type||G.href||~G.tabIndex)},enabled:Ps(!1),disabled:Ps(!0),checked:function(G){var $=G.nodeName.toLowerCase();return"input"===$&&!!G.checked||"option"===$&&!!G.selected},selected:function(G){return!0===G.selected},empty:function(G){for(G=G.firstChild;G;G=G.nextSibling)if(G.nodeType<6)return!1;return!0},parent:function(G){return!S.pseudos.empty(G)},header:function(G){return Oo.test(G.nodeName)},input:function(G){return Bo.test(G.nodeName)},button:function(G){var $=G.nodeName.toLowerCase();return"input"===$&&"button"===G.type||"button"===$},text:function(G){var $;return"input"===G.nodeName.toLowerCase()&&"text"===G.type&&(null==($=G.getAttribute("type"))||"text"===$.toLowerCase())},first:fa(function(){return[0]}),last:fa(function(G,$){return[$-1]}),eq:fa(function(G,$,ue){return[ue<0?ue+$:ue]}),even:fa(function(G,$){for(var ue=0;ue<$;ue+=2)G.push(ue);return G}),odd:fa(function(G,$){for(var ue=1;ue<$;ue+=2)G.push(ue);return G}),lt:fa(function(G,$,ue){for(var xe=ue<0?ue+$:$<ue?$:ue;0<=--xe;)G.push(xe);return G}),gt:fa(function(G,$,ue){for(var xe=ue<0?ue+$:ue;++xe<$;)G.push(xe);return G})}}).pseudos.nth=S.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[A]=fs(A);for(A in{submit:!0,reset:!0})S.pseudos[A]=vi(A);function f0(){}function vo(G){for(var $=0,ue=G.length,xe="";$<ue;$++)xe+=G[$].value;return xe}function po(G,$,ue){var xe=$.dir,ce=$.next,Oe=ce||xe,Re=ue&&"parentNode"===Oe,_e=ot++;return $.first?function(Qe,xt,pt){for(;Qe=Qe[xe];)if(1===Qe.nodeType||Re)return G(Qe,xt,pt);return!1}:function(Qe,xt,pt){var yt,Pt,bt,It=[fr,_e];if(pt){for(;Qe=Qe[xe];)if((1===Qe.nodeType||Re)&&G(Qe,xt,pt))return!0}else for(;Qe=Qe[xe];)if(1===Qe.nodeType||Re)if(Pt=(bt=Qe[_t]||(Qe[_t]={}))[Qe.uniqueID]||(bt[Qe.uniqueID]={}),ce&&ce===Qe.nodeName.toLowerCase())Qe=Qe[xe]||Qe;else{if((yt=Pt[Oe])&&yt[0]===fr&&yt[1]===_e)return It[2]=yt[2];if((Pt[Oe]=It)[2]=G(Qe,xt,pt))return!0}return!1}}function oi(G){return 1<G.length?function($,ue,xe){for(var ce=G.length;ce--;)if(!G[ce]($,ue,xe))return!1;return!0}:G[0]}function fe(G,$,ue,xe,ce){for(var Oe,Re=[],_e=0,Qe=G.length,xt=null!=$;_e<Qe;_e++)(Oe=G[_e])&&(ue&&!ue(Oe,xe,ce)||(Re.push(Oe),xt&&$.push(_e)));return Re}function Te(G,$,ue,xe,ce,Oe){return xe&&!xe[_t]&&(xe=Te(xe)),ce&&!ce[_t]&&(ce=Te(ce,Oe)),Fn(function(Re,_e,Qe,xt){var pt,yt,Pt,bt=[],It=[],Qr=_e.length,F=Re||function(Gi,Ur,mr){for(var $r=0,Ya=Ur.length;$r<Ya;$r++)pr(Gi,Ur[$r],mr);return mr}($||"*",Qe.nodeType?[Qe]:Qe,[]),Er=!G||!Re&&$?F:fe(F,bt,G,Qe,xt),Vt=ue?ce||(Re?G:Qr||xe)?[]:_e:Er;if(ue&&ue(Er,Vt,Qe,xt),xe)for(pt=fe(Vt,It),xe(pt,[],Qe,xt),yt=pt.length;yt--;)(Pt=pt[yt])&&(Vt[It[yt]]=!(Er[It[yt]]=Pt));if(Re){if(ce||G){if(ce){for(pt=[],yt=Vt.length;yt--;)(Pt=Vt[yt])&&pt.push(Er[yt]=Pt);ce(null,Vt=[],pt,xt)}for(yt=Vt.length;yt--;)(Pt=Vt[yt])&&-1<(pt=ce?gn(Re,Pt):bt[yt])&&(Re[pt]=!(_e[pt]=Pt))}}else Vt=fe(Vt===_e?Vt.splice(Qr,Vt.length):Vt),ce?ce(null,_e,Vt,xt):Gr.apply(_e,Vt)})}function Ce(G){for(var $,ue,xe,ce=G.length,Oe=S.relative[G[0].type],Re=Oe||S.relative[" "],_e=Oe?1:0,Qe=po(function(yt){return yt===$},Re,!0),xt=po(function(yt){return-1<gn($,yt)},Re,!0),pt=[function(yt,Pt,bt){var It=!Oe&&(bt||Pt!==ve)||(($=Pt).nodeType?Qe(yt,Pt,bt):xt(yt,Pt,bt));return $=null,It}];_e<ce;_e++)if(ue=S.relative[G[_e].type])pt=[po(oi(pt),ue)];else{if((ue=S.filter[G[_e].type].apply(null,G[_e].matches))[_t]){for(xe=++_e;xe<ce&&!S.relative[G[xe].type];xe++);return Te(1<_e&&oi(pt),1<_e&&vo(G.slice(0,_e-1).concat({value:" "===G[_e-2].type?"*":""})).replace(ai,"$1"),ue,_e<xe&&Ce(G.slice(_e,xe)),xe<ce&&Ce(G=G.slice(xe)),xe<ce&&vo(G))}pt.push(ue)}return oi(pt)}return f0.prototype=S.filters=S.pseudos,S.setFilters=new f0,Y=pr.tokenize=function(G,$){var ue,xe,ce,Oe,Re,_e,Qe,xt=Ir[G+" "];if(xt)return $?0:xt.slice(0);for(Re=G,_e=[],Qe=S.preFilter;Re;){for(Oe in ue&&!(xe=Ri.exec(Re))||(xe&&(Re=Re.slice(xe[0].length)||Re),_e.push(ce=[])),ue=!1,(xe=hs.exec(Re))&&(ue=xe.shift(),ce.push({value:ue,type:xe[0].replace(ai," ")}),Re=Re.slice(ue.length)),S.filter)!(xe=Ls[Oe].exec(Re))||Qe[Oe]&&!(xe=Qe[Oe](xe))||(ue=xe.shift(),ce.push({value:ue,type:Oe,matches:xe}),Re=Re.slice(ue.length));if(!ue)break}return $?Re.length:Re?pr.error(G):Ir(G,_e).slice(0)},le=pr.compile=function(G,$){var ue,xe,ce,Oe,Re,_e,Qe=[],xt=[],pt=Oi[G+" "];if(!pt){for($||($=Y(G)),ue=$.length;ue--;)(pt=Ce($[ue]))[_t]?Qe.push(pt):xt.push(pt);(pt=Oi(G,(xe=xt,Oe=0<(ce=Qe).length,Re=0<xe.length,_e=function(yt,Pt,bt,It,Qr){var F,Er,Vt,Gi=0,Ur="0",mr=yt&&[],$r=[],Ya=ve,pi=yt||Re&&S.find.TAG("*",Qr),Zo=fr+=null==Ya?1:Math.random()||.1,qi=pi.length;for(Qr&&(ve=Pt==we||Pt||Qr);Ur!==qi&&null!=(F=pi[Ur]);Ur++){if(Re&&F){for(Er=0,Pt||F.ownerDocument==we||(Ie(F),bt=!ut);Vt=xe[Er++];)if(Vt(F,Pt||we,bt)){It.push(F);break}Qr&&(fr=Zo)}Oe&&((F=!Vt&&F)&&Gi--,yt&&mr.push(F))}if(Gi+=Ur,Oe&&Ur!==Gi){for(Er=0;Vt=ce[Er++];)Vt(mr,$r,Pt,bt);if(yt){if(0<Gi)for(;Ur--;)mr[Ur]||$r[Ur]||($r[Ur]=cs.call(It));$r=fe($r)}Gr.apply(It,$r),Qr&&!yt&&0<$r.length&&1<Gi+ce.length&&pr.uniqueSort(It)}return Qr&&(fr=Zo,ve=Ya),mr},Oe?Fn(_e):_e))).selector=G}return pt},se=pr.select=function(G,$,ue,xe){var ce,Oe,Re,_e,Qe,xt="function"==typeof G&&G,pt=!xe&&Y(G=xt.selector||G);if(ue=ue||[],1===pt.length){if(2<(Oe=pt[0]=pt[0].slice(0)).length&&"ID"===(Re=Oe[0]).type&&9===$.nodeType&&ut&&S.relative[Oe[1].type]){if(!($=(S.find.ID(Re.matches[0].replace(Xi,si),$)||[])[0]))return ue;xt&&($=$.parentNode),G=G.slice(Oe.shift().value.length)}for(ce=Ls.needsContext.test(G)?0:Oe.length;ce--&&!S.relative[_e=(Re=Oe[ce]).type];)if((Qe=S.find[_e])&&(xe=Qe(Re.matches[0].replace(Xi,si),fo.test(Oe[0].type)&&go($.parentNode)||$))){if(Oe.splice(ce,1),!(G=xe.length&&vo(Oe)))return Gr.apply(ue,xe),ue;break}}return(xt||le(G,pt))(xe,$,!ut,ue,!$||fo.test(G)&&go($.parentNode)||$),ue},C.sortStable=_t.split("").sort(Ma).join("")===_t,C.detectDuplicates=!!Pe,Ie(),C.sortDetached=gi(function(G){return 1&G.compareDocumentPosition(we.createElement("fieldset"))}),gi(function(G){return G.innerHTML="<a href='#'></a>","#"===G.firstChild.getAttribute("href")})||_a("type|href|height|width",function(G,$,ue){if(!ue)return G.getAttribute($,"type"===$.toLowerCase()?1:2)}),C.attributes&&gi(function(G){return G.innerHTML="<input/>",G.firstChild.setAttribute("value",""),""===G.firstChild.getAttribute("value")})||_a("value",function(G,$,ue){if(!ue&&"input"===G.nodeName.toLowerCase())return G.defaultValue}),gi(function(G){return null==G.getAttribute("disabled")})||_a(un,function(G,$,ue){var xe;if(!ue)return!0===G[$]?$.toLowerCase():(xe=G.getAttributeNode($))&&xe.specified?xe.value:null}),pr}(X);k.find=wr,k.expr=wr.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=wr.uniqueSort,k.text=wr.getText,k.isXMLDoc=wr.isXML,k.contains=wr.contains,k.escapeSelector=wr.escape;var Vn=function(v,A,C){for(var S=[],B=void 0!==C;(v=v[A])&&9!==v.nodeType;)if(1===v.nodeType){if(B&&k(v).is(C))break;S.push(v)}return S},Cr=function(v,A){for(var C=[];v;v=v.nextSibling)1===v.nodeType&&v!==A&&C.push(v);return C},Li=k.expr.match.needsContext;function vr(v,A){return v.nodeName&&v.nodeName.toLowerCase()===A.toLowerCase()}var hr=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ba(v,A,C){return vt(A)?k.grep(v,function(S,B){return!!A.call(S,B,S)!==C}):A.nodeType?k.grep(v,function(S){return S===A!==C}):"string"!=typeof A?k.grep(v,function(S){return-1<ia.call(A,S)!==C}):k.filter(A,v,C)}k.filter=function(v,A,C){var S=A[0];return C&&(v=":not("+v+")"),1===A.length&&1===S.nodeType?k.find.matchesSelector(S,v)?[S]:[]:k.find.matches(v,k.grep(A,function(B){return 1===B.nodeType}))},k.fn.extend({find:function(v){var A,C,S=this.length,B=this;if("string"!=typeof v)return this.pushStack(k(v).filter(function(){for(A=0;A<S;A++)if(k.contains(B[A],this))return!0}));for(C=this.pushStack([]),A=0;A<S;A++)k.find(v,B[A],C);return 1<S?k.uniqueSort(C):C},filter:function(v){return this.pushStack(Ba(this,v||[],!1))},not:function(v){return this.pushStack(Ba(this,v||[],!0))},is:function(v){return!!Ba(this,"string"==typeof v&&Li.test(v)?k(v):v||[],!1).length}});var ro,Ei=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(v,A,C){var S,B;if(!v)return this;if(C=C||ro,"string"==typeof v){if(!(S="<"===v[0]&&">"===v[v.length-1]&&3<=v.length?[null,v,null]:Ei.exec(v))||!S[1]&&A)return!A||A.jquery?(A||C).find(v):this.constructor(A).find(v);if(S[1]){if(k.merge(this,k.parseHTML(S[1],(A=A instanceof k?A[0]:A)&&A.nodeType?A.ownerDocument||A:kt,!0)),hr.test(S[1])&&k.isPlainObject(A))for(S in A)vt(this[S])?this[S](A[S]):this.attr(S,A[S]);return this}return(B=kt.getElementById(S[2]))&&(this[0]=B,this.length=1),this}return v.nodeType?(this[0]=v,this.length=1,this):vt(v)?void 0!==C.ready?C.ready(v):v(k):k.makeArray(v,this)}).prototype=k.fn,ro=k(kt);var wi=/^(?:parents|prev(?:Until|All))/,no={children:!0,contents:!0,next:!0,prev:!0};function Oa(v,A){for(;(v=v[A])&&1!==v.nodeType;);return v}k.fn.extend({has:function(v){var A=k(v,this),C=A.length;return this.filter(function(){for(var S=0;S<C;S++)if(k.contains(this,A[S]))return!0})},closest:function(v,A){var C,S=0,B=this.length,Z=[],Y="string"!=typeof v&&k(v);if(!Li.test(v))for(;S<B;S++)for(C=this[S];C&&C!==A;C=C.parentNode)if(C.nodeType<11&&(Y?-1<Y.index(C):1===C.nodeType&&k.find.matchesSelector(C,v))){Z.push(C);break}return this.pushStack(1<Z.length?k.uniqueSort(Z):Z)},index:function(v){return v?"string"==typeof v?ia.call(k(v),this[0]):ia.call(this,v.jquery?v[0]:v):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(v,A){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(v,A))))},addBack:function(v){return this.add(null==v?this.prevObject:this.prevObject.filter(v))}}),k.each({parent:function(v){var A=v.parentNode;return A&&11!==A.nodeType?A:null},parents:function(v){return Vn(v,"parentNode")},parentsUntil:function(v,A,C){return Vn(v,"parentNode",C)},next:function(v){return Oa(v,"nextSibling")},prev:function(v){return Oa(v,"previousSibling")},nextAll:function(v){return Vn(v,"nextSibling")},prevAll:function(v){return Vn(v,"previousSibling")},nextUntil:function(v,A,C){return Vn(v,"nextSibling",C)},prevUntil:function(v,A,C){return Vn(v,"previousSibling",C)},siblings:function(v){return Cr((v.parentNode||{}).firstChild,v)},children:function(v){return Cr(v.firstChild)},contents:function(v){return null!=v.contentDocument&&Se(v.contentDocument)?v.contentDocument:(vr(v,"template")&&(v=v.content||v),k.merge([],v.childNodes))}},function(v,A){k.fn[v]=function(C,S){var B=k.map(this,A,C);return"Until"!==v.slice(-5)&&(S=C),S&&"string"==typeof S&&(B=k.filter(S,B)),1<this.length&&(no[v]||k.uniqueSort(B),wi.test(v)&&B.reverse()),this.pushStack(B)}});var Ke=/[^\x20\t\r\n\f]+/g;function kn(v){return v}function Aa(v){throw v}function Ia(v,A,C,S){var B;try{v&&vt(B=v.promise)?B.call(v).done(A).fail(C):v&&vt(B=v.then)?B.call(v,A,C):A.apply(void 0,[v].slice(S))}catch(Z){C.apply(void 0,[Z])}}k.Callbacks=function(v){var C;v="string"==typeof v?(C={},k.each(v.match(Ke)||[],function(Ie,we){C[we]=!0}),C):k.extend({},v);var S,B,Z,Y,le=[],se=[],ve=-1,de=function(){for(Y=Y||v.once,Z=S=!0;se.length;ve=-1)for(B=se.shift();++ve<le.length;)!1===le[ve].apply(B[0],B[1])&&v.stopOnFalse&&(ve=le.length,B=!1);v.memory||(B=!1),S=!1,Y&&(le=B?[]:"")},Pe={add:function(){return le&&(B&&!S&&(ve=le.length-1,se.push(B)),function Ie(we){k.each(we,function(He,ut){vt(ut)?v.unique&&Pe.has(ut)||le.push(ut):ut&&ut.length&&"string"!==Or(ut)&&Ie(ut)})}(arguments),B&&!S&&de()),this},remove:function(){return k.each(arguments,function(Ie,we){for(var He;-1<(He=k.inArray(we,le,He));)le.splice(He,1),He<=ve&&ve--}),this},has:function(Ie){return Ie?-1<k.inArray(Ie,le):0<le.length},empty:function(){return le&&(le=[]),this},disable:function(){return Y=se=[],le=B="",this},disabled:function(){return!le},lock:function(){return Y=se=[],B||S||(le=B=""),this},locked:function(){return!!Y},fireWith:function(Ie,we){return Y||(we=[Ie,(we=we||[]).slice?we.slice():we],se.push(we),S||de()),this},fire:function(){return Pe.fireWith(this,arguments),this},fired:function(){return!!Z}};return Pe},k.extend({Deferred:function(v){var A=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],C="pending",S={state:function(){return C},always:function(){return B.done(arguments).fail(arguments),this},catch:function(Z){return S.then(null,Z)},pipe:function(){var Z=arguments;return k.Deferred(function(Y){k.each(A,function(le,se){var ve=vt(Z[se[4]])&&Z[se[4]];B[se[1]](function(){var de=ve&&ve.apply(this,arguments);de&&vt(de.promise)?de.promise().progress(Y.notify).done(Y.resolve).fail(Y.reject):Y[se[0]+"With"](this,ve?[de]:arguments)})}),Z=null}).promise()},then:function(Z,Y,le){var se=0;function ve(de,Pe,Ie,we){return function(){var He=this,ut=arguments,rt=function(){var sr,Sr;if(!(de<se)){if((sr=Ie.apply(He,ut))===Pe.promise())throw new TypeError("Thenable self-resolution");vt(Sr=sr&&("object"==typeof sr||"function"==typeof sr)&&sr.then)?we?Sr.call(sr,ve(se,Pe,kn,we),ve(se,Pe,Aa,we)):(se++,Sr.call(sr,ve(se,Pe,kn,we),ve(se,Pe,Aa,we),ve(se,Pe,kn,Pe.notifyWith))):(Ie!==kn&&(He=void 0,ut=[sr]),(we||Pe.resolveWith)(He,ut))}},Me=we?rt:function(){try{rt()}catch(sr){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(sr,Me.stackTrace),se<=de+1&&(Ie!==Aa&&(He=void 0,ut=[sr]),Pe.rejectWith(He,ut))}};de?Me():(k.Deferred.getStackHook&&(Me.stackTrace=k.Deferred.getStackHook()),X.setTimeout(Me))}}return k.Deferred(function(de){A[0][3].add(ve(0,de,vt(le)?le:kn,de.notifyWith)),A[1][3].add(ve(0,de,vt(Z)?Z:kn)),A[2][3].add(ve(0,de,vt(Y)?Y:Aa))}).promise()},promise:function(Z){return null!=Z?k.extend(Z,S):S}},B={};return k.each(A,function(Z,Y){var le=Y[2],se=Y[5];S[Y[1]]=le.add,se&&le.add(function(){C=se},A[3-Z][2].disable,A[3-Z][3].disable,A[0][2].lock,A[0][3].lock),le.add(Y[3].fire),B[Y[0]]=function(){return B[Y[0]+"With"](this===B?void 0:this,arguments),this},B[Y[0]+"With"]=le.fireWith}),S.promise(B),v&&v.call(B,B),B},when:function(v){var A=arguments.length,C=A,S=Array(C),B=Nr.call(arguments),Z=k.Deferred(),Y=function(le){return function(se){S[le]=this,B[le]=1<arguments.length?Nr.call(arguments):se,--A||Z.resolveWith(S,B)}};if(A<=1&&(Ia(v,Z.done(Y(C)).resolve,Z.reject,!A),"pending"===Z.state()||vt(B[C]&&B[C].then)))return Z.then();for(;C--;)Ia(B[C],Y(C),Z.reject);return Z.promise()}});var ni=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(v,A){X.console&&X.console.warn&&v&&ni.test(v.name)&&X.console.warn("jQuery.Deferred exception: "+v.message,v.stack,A)},k.readyException=function(v){X.setTimeout(function(){throw v})};var on=k.Deferred();function ba(){kt.removeEventListener("DOMContentLoaded",ba),X.removeEventListener("load",ba),k.ready()}k.fn.ready=function(v){return on.then(v).catch(function(A){k.readyException(A)}),this},k.extend({isReady:!1,readyWait:1,ready:function(v){(!0===v?--k.readyWait:k.isReady)||(k.isReady=!0)!==v&&0<--k.readyWait||on.resolveWith(kt,[k])}}),k.ready.then=on.then,"complete"===kt.readyState||"loading"!==kt.readyState&&!kt.documentElement.doScroll?X.setTimeout(k.ready):(kt.addEventListener("DOMContentLoaded",ba),X.addEventListener("load",ba));var Wr=function(v,A,C,S,B,Z,Y){var le=0,se=v.length,ve=null==C;if("object"===Or(C))for(le in B=!0,C)Wr(v,A,le,C[le],!0,Z,Y);else if(void 0!==S&&(B=!0,vt(S)||(Y=!0),ve&&(Y?(A.call(v,S),A=null):(ve=A,A=function(de,Pe,Ie){return ve.call(k(de),Ie)})),A))for(;le<se;le++)A(v[le],C,Y?S:S.call(v[le],le,A(v[le],C)));return B?v:ve?A.call(v):se?A(v[0],C):Z},Ra=/^-ms-/,aa=/-([a-z])/g;function is(v,A){return A.toUpperCase()}function Rn(v){return v.replace(Ra,"ms-").replace(aa,is)}var Yi=function(v){return 1===v.nodeType||9===v.nodeType||!+v.nodeType};function ln(){this.expando=k.expando+ln.uid++}ln.uid=1,ln.prototype={cache:function(v){var A=v[this.expando];return A||(A={},Yi(v)&&(v.nodeType?v[this.expando]=A:Object.defineProperty(v,this.expando,{value:A,configurable:!0}))),A},set:function(v,A,C){var S,B=this.cache(v);if("string"==typeof A)B[Rn(A)]=C;else for(S in A)B[Rn(S)]=A[S];return B},get:function(v,A){return void 0===A?this.cache(v):v[this.expando]&&v[this.expando][Rn(A)]},access:function(v,A,C){return void 0===A||A&&"string"==typeof A&&void 0===C?this.get(v,A):(this.set(v,A,C),void 0!==C?C:A)},remove:function(v,A){var C,S=v[this.expando];if(void 0!==S){if(void 0!==A)for((C=(A=Array.isArray(A)?A.map(Rn):(A=Rn(A))in S?[A]:A.match(Ke)||[]).length);C--;)delete S[A[C]];(void 0===A||k.isEmptyObject(S))&&(v.nodeType?v[this.expando]=void 0:delete v[this.expando])}},hasData:function(v){var A=v[this.expando];return void 0!==A&&!k.isEmptyObject(A)}};var L=new ln,H=new ln,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pe=/[A-Z]/g;function De(v,A,C){var S,B;if(void 0===C&&1===v.nodeType)if(S="data-"+A.replace(pe,"-$&").toLowerCase(),"string"==typeof(C=v.getAttribute(S))){try{C="true"===(B=C)||"false"!==B&&("null"===B?null:B===+B+""?+B:te.test(B)?JSON.parse(B):B)}catch(Z){}H.set(v,A,C)}else C=void 0;return C}k.extend({hasData:function(v){return H.hasData(v)||L.hasData(v)},data:function(v,A,C){return H.access(v,A,C)},removeData:function(v,A){H.remove(v,A)},_data:function(v,A,C){return L.access(v,A,C)},_removeData:function(v,A){L.remove(v,A)}}),k.fn.extend({data:function(v,A){var C,S,B,Z=this[0],Y=Z&&Z.attributes;if(void 0===v){if(this.length&&(B=H.get(Z),1===Z.nodeType&&!L.get(Z,"hasDataAttrs"))){for(C=Y.length;C--;)Y[C]&&0===(S=Y[C].name).indexOf("data-")&&(S=Rn(S.slice(5)),De(Z,S,B[S]));L.set(Z,"hasDataAttrs",!0)}return B}return"object"==typeof v?this.each(function(){H.set(this,v)}):Wr(this,function(le){var se;if(Z&&void 0===le)return void 0!==(se=H.get(Z,v))||void 0!==(se=De(Z,v))?se:void 0;this.each(function(){H.set(this,v,le)})},null,A,1<arguments.length,null,!0)},removeData:function(v){return this.each(function(){H.remove(this,v)})}}),k.extend({queue:function(v,A,C){var S;if(v)return S=L.get(v,A=(A||"fx")+"queue"),C&&(!S||Array.isArray(C)?S=L.access(v,A,k.makeArray(C)):S.push(C)),S||[]},dequeue:function(v,A){var C=k.queue(v,A=A||"fx"),S=C.length,B=C.shift(),Z=k._queueHooks(v,A);"inprogress"===B&&(B=C.shift(),S--),B&&("fx"===A&&C.unshift("inprogress"),delete Z.stop,B.call(v,function(){k.dequeue(v,A)},Z)),!S&&Z&&Z.empty.fire()},_queueHooks:function(v,A){var C=A+"queueHooks";return L.get(v,C)||L.access(v,C,{empty:k.Callbacks("once memory").add(function(){L.remove(v,[A+"queue",C])})})}}),k.fn.extend({queue:function(v,A){var C=2;return"string"!=typeof v&&(A=v,v="fx",C--),arguments.length<C?k.queue(this[0],v):void 0===A?this:this.each(function(){var S=k.queue(this,v,A);k._queueHooks(this,v),"fx"===v&&"inprogress"!==S[0]&&k.dequeue(this,v)})},dequeue:function(v){return this.each(function(){k.dequeue(this,v)})},clearQueue:function(v){return this.queue(v||"fx",[])},promise:function(v,A){var C,S=1,B=k.Deferred(),Z=this,Y=this.length,le=function(){--S||B.resolveWith(Z,[Z])};for("string"!=typeof v&&(A=v,v=void 0),v=v||"fx";Y--;)(C=L.get(Z[Y],v+"queueHooks"))&&C.empty&&(S++,C.empty.add(le));return le(),B.promise(A)}});var Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),At=["Top","Right","Bottom","Left"],$t=kt.documentElement,Rr=function(v){return k.contains(v.ownerDocument,v)},kr={composed:!0};$t.getRootNode&&(Rr=function(v){return k.contains(v.ownerDocument,v)||v.getRootNode(kr)===v.ownerDocument});var ir=function(v,A){return"none"===(v=A||v).style.display||""===v.style.display&&Rr(v)&&"none"===k.css(v,"display")};function An(v,A,C,S){var B,Z,Y=20,le=S?function(){return S.cur()}:function(){return k.css(v,A,"")},se=le(),ve=C&&C[3]||(k.cssNumber[A]?"":"px"),de=v.nodeType&&(k.cssNumber[A]||"px"!==ve&&+se)&&qe.exec(k.css(v,A));if(de&&de[3]!==ve){for(ve=ve||de[3],de=+(se/=2)||1;Y--;)k.style(v,A,de+ve),(1-Z)*(1-(Z=le()/se||.5))<=0&&(Y=0),de/=Z;k.style(v,A,(de*=2)+ve),C=C||[]}return C&&(de=+de||+se||0,B=C[1]?de+(C[1]+1)*C[2]:+C[2],S&&(S.unit=ve,S.start=de,S.end=B)),B}var Dn={};function Hn(v,A){for(var C,S,B,Z,Y,le,se,ve=[],de=0,Pe=v.length;de<Pe;de++)(S=v[de]).style&&(C=S.style.display,A?("none"===C&&(ve[de]=L.get(S,"display")||null,ve[de]||(S.style.display="")),""===S.style.display&&ir(S)&&(ve[de]=(se=Y=Z=void 0,Y=(B=S).ownerDocument,(se=Dn[le=B.nodeName])||(Z=Y.body.appendChild(Y.createElement(le)),se=k.css(Z,"display"),Z.parentNode.removeChild(Z),"none"===se&&(se="block"),Dn[le]=se)))):"none"!==C&&(ve[de]="none",L.set(S,"display",C)));for(de=0;de<Pe;de++)null!=ve[de]&&(v[de].style.display=ve[de]);return v}k.fn.extend({show:function(){return Hn(this,!0)},hide:function(){return Hn(this)},toggle:function(v){return"boolean"==typeof v?v?this.show():this.hide():this.each(function(){ir(this)?k(this).show():k(this).hide()})}});var ar,qr,fn=/^(?:checkbox|radio)$/i,Jt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ze=/^$|^module$|\/(?:java|ecma)script/i;ar=kt.createDocumentFragment().appendChild(kt.createElement("div")),(qr=kt.createElement("input")).setAttribute("type","radio"),qr.setAttribute("checked","checked"),qr.setAttribute("name","t"),ar.appendChild(qr),jt.checkClone=ar.cloneNode(!0).cloneNode(!0).lastChild.checked,ar.innerHTML="<textarea>x</textarea>",jt.noCloneChecked=!!ar.cloneNode(!0).lastChild.defaultValue,ar.innerHTML="<option></option>",jt.option=!!ar.lastChild;var Jr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function In(v,A){var C;return C=void 0!==v.getElementsByTagName?v.getElementsByTagName(A||"*"):void 0!==v.querySelectorAll?v.querySelectorAll(A||"*"):[],void 0===A||A&&vr(v,A)?k.merge([v],C):C}function Ga(v,A){for(var C=0,S=v.length;C<S;C++)L.set(v[C],"globalEval",!A||L.get(A[C],"globalEval"))}Jr.tbody=Jr.tfoot=Jr.colgroup=Jr.caption=Jr.thead,Jr.th=Jr.td,jt.option||(Jr.optgroup=Jr.option=[1,"<select multiple='multiple'>","</select>"]);var R0=/<|&#?\w+;/;function Cs(v,A,C,S,B){for(var Z,Y,le,se,ve,de,Pe=A.createDocumentFragment(),Ie=[],we=0,He=v.length;we<He;we++)if((Z=v[we])||0===Z)if("object"===Or(Z))k.merge(Ie,Z.nodeType?[Z]:Z);else if(R0.test(Z)){for(Y=Y||Pe.appendChild(A.createElement("div")),le=(Jt.exec(Z)||["",""])[1].toLowerCase(),Y.innerHTML=(se=Jr[le]||Jr._default)[1]+k.htmlPrefilter(Z)+se[2],de=se[0];de--;)Y=Y.lastChild;k.merge(Ie,Y.childNodes),(Y=Pe.firstChild).textContent=""}else Ie.push(A.createTextNode(Z));for(Pe.textContent="",we=0;Z=Ie[we++];)if(S&&-1<k.inArray(Z,S))B&&B.push(Z);else if(ve=Rr(Z),Y=In(Pe.appendChild(Z),"script"),ve&&Ga(Y),C)for(de=0;Z=Y[de++];)Ze.test(Z.type||"")&&C.push(Z);return Pe}var xs=/^([^.]*)(?:\.(.+)|)/;function Ci(){return!0}function wa(){return!1}function hi(v,A){return v===function(){try{return kt.activeElement}catch(C){}}()==("focus"===A)}function Ui(v,A,C,S,B,Z){var Y,le;if("object"==typeof A){for(le in"string"!=typeof C&&(S=S||C,C=void 0),A)Ui(v,le,C,S,A[le],Z);return v}if(null==S&&null==B?(B=C,S=C=void 0):null==B&&("string"==typeof C?(B=S,S=void 0):(B=S,S=C,C=void 0)),!1===B)B=wa;else if(!B)return v;return 1===Z&&(Y=B,(B=function(se){return k().off(se),Y.apply(this,arguments)}).guid=Y.guid||(Y.guid=k.guid++)),v.each(function(){k.event.add(this,A,B,S,C)})}function Vi(v,A,C){C?(L.set(v,A,!1),k.event.add(v,A,{namespace:!1,handler:function(S){var B,Z,Y=L.get(this,A);if(1&S.isTrigger&&this[A]){if(Y.length)(k.event.special[A]||{}).delegateType&&S.stopPropagation();else if(Y=Nr.call(arguments),L.set(this,A,Y),B=C(this,A),this[A](),Y!==(Z=L.get(this,A))||B?L.set(this,A,!1):Z={},Y!==Z)return S.stopImmediatePropagation(),S.preventDefault(),Z&&Z.value}else Y.length&&(L.set(this,A,{value:k.event.trigger(k.extend(Y[0],k.Event.prototype),Y.slice(1),this)}),S.stopImmediatePropagation())}})):void 0===L.get(v,A)&&k.event.add(v,A,Ci)}k.event={global:{},add:function(v,A,C,S,B){var Z,Y,le,se,ve,de,Pe,Ie,we,He,ut,rt=L.get(v);if(Yi(v))for(C.handler&&(C=(Z=C).handler,B=Z.selector),B&&k.find.matchesSelector($t,B),C.guid||(C.guid=k.guid++),(se=rt.events)||(se=rt.events=Object.create(null)),(Y=rt.handle)||(Y=rt.handle=function(Me){return void 0!==k&&k.event.triggered!==Me.type?k.event.dispatch.apply(v,arguments):void 0}),ve=(A=(A||"").match(Ke)||[""]).length;ve--;)we=ut=(le=xs.exec(A[ve])||[])[1],He=(le[2]||"").split(".").sort(),we&&(Pe=k.event.special[we]||{},Pe=k.event.special[we=(B?Pe.delegateType:Pe.bindType)||we]||{},de=k.extend({type:we,origType:ut,data:S,handler:C,guid:C.guid,selector:B,needsContext:B&&k.expr.match.needsContext.test(B),namespace:He.join(".")},Z),(Ie=se[we])||((Ie=se[we]=[]).delegateCount=0,Pe.setup&&!1!==Pe.setup.call(v,S,He,Y)||v.addEventListener&&v.addEventListener(we,Y)),Pe.add&&(Pe.add.call(v,de),de.handler.guid||(de.handler.guid=C.guid)),B?Ie.splice(Ie.delegateCount++,0,de):Ie.push(de),k.event.global[we]=!0)},remove:function(v,A,C,S,B){var Z,Y,le,se,ve,de,Pe,Ie,we,He,ut,rt=L.hasData(v)&&L.get(v);if(rt&&(se=rt.events)){for(ve=(A=(A||"").match(Ke)||[""]).length;ve--;)if(we=ut=(le=xs.exec(A[ve])||[])[1],He=(le[2]||"").split(".").sort(),we){for(Pe=k.event.special[we]||{},Ie=se[we=(S?Pe.delegateType:Pe.bindType)||we]||[],le=le[2]&&new RegExp("(^|\\.)"+He.join("\\.(?:.*\\.|)")+"(\\.|$)"),Y=Z=Ie.length;Z--;)de=Ie[Z],!B&&ut!==de.origType||C&&C.guid!==de.guid||le&&!le.test(de.namespace)||S&&S!==de.selector&&("**"!==S||!de.selector)||(Ie.splice(Z,1),de.selector&&Ie.delegateCount--,Pe.remove&&Pe.remove.call(v,de));Y&&!Ie.length&&(Pe.teardown&&!1!==Pe.teardown.call(v,He,rt.handle)||k.removeEvent(v,we,rt.handle),delete se[we])}else for(we in se)k.event.remove(v,we+A[ve],C,S,!0);k.isEmptyObject(se)&&L.remove(v,"handle events")}},dispatch:function(v){var A,C,S,B,Z,Y,le=new Array(arguments.length),se=k.event.fix(v),ve=(L.get(this,"events")||Object.create(null))[se.type]||[],de=k.event.special[se.type]||{};for(le[0]=se,A=1;A<arguments.length;A++)le[A]=arguments[A];if(se.delegateTarget=this,!de.preDispatch||!1!==de.preDispatch.call(this,se)){for(Y=k.event.handlers.call(this,se,ve),A=0;(B=Y[A++])&&!se.isPropagationStopped();)for(se.currentTarget=B.elem,C=0;(Z=B.handlers[C++])&&!se.isImmediatePropagationStopped();)se.rnamespace&&!1!==Z.namespace&&!se.rnamespace.test(Z.namespace)||(se.handleObj=Z,se.data=Z.data,void 0!==(S=((k.event.special[Z.origType]||{}).handle||Z.handler).apply(B.elem,le))&&!1===(se.result=S)&&(se.preventDefault(),se.stopPropagation()));return de.postDispatch&&de.postDispatch.call(this,se),se.result}},handlers:function(v,A){var C,S,B,Z,Y,le=[],se=A.delegateCount,ve=v.target;if(se&&ve.nodeType&&!("click"===v.type&&1<=v.button))for(;ve!==this;ve=ve.parentNode||this)if(1===ve.nodeType&&("click"!==v.type||!0!==ve.disabled)){for(Z=[],Y={},C=0;C<se;C++)void 0===Y[B=(S=A[C]).selector+" "]&&(Y[B]=S.needsContext?-1<k(B,this).index(ve):k.find(B,this,null,[ve]).length),Y[B]&&Z.push(S);Z.length&&le.push({elem:ve,handlers:Z})}return ve=this,se<A.length&&le.push({elem:ve,handlers:A.slice(se)}),le},addProp:function(v,A){Object.defineProperty(k.Event.prototype,v,{enumerable:!0,configurable:!0,get:vt(A)?function(){if(this.originalEvent)return A(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[v]},set:function(C){Object.defineProperty(this,v,{enumerable:!0,configurable:!0,writable:!0,value:C})}})},fix:function(v){return v[k.expando]?v:new k.Event(v)},special:{load:{noBubble:!0},click:{setup:function(v){var A=this||v;return fn.test(A.type)&&A.click&&vr(A,"input")&&Vi(A,"click",Ci),!1},trigger:function(v){var A=this||v;return fn.test(A.type)&&A.click&&vr(A,"input")&&Vi(A,"click"),!0},_default:function(v){var A=v.target;return fn.test(A.type)&&A.click&&vr(A,"input")&&L.get(A,"click")||vr(A,"a")}},beforeunload:{postDispatch:function(v){void 0!==v.result&&v.originalEvent&&(v.originalEvent.returnValue=v.result)}}}},k.removeEvent=function(v,A,C){v.removeEventListener&&v.removeEventListener(A,C)},k.Event=function(v,A){if(!(this instanceof k.Event))return new k.Event(v,A);v&&v.type?(this.originalEvent=v,this.type=v.type,this.isDefaultPrevented=v.defaultPrevented||void 0===v.defaultPrevented&&!1===v.returnValue?Ci:wa,this.target=v.target&&3===v.target.nodeType?v.target.parentNode:v.target,this.currentTarget=v.currentTarget,this.relatedTarget=v.relatedTarget):this.type=v,A&&k.extend(this,A),this.timeStamp=v&&v.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa,isSimulated:!1,preventDefault:function(){var v=this.originalEvent;this.isDefaultPrevented=Ci,v&&!this.isSimulated&&v.preventDefault()},stopPropagation:function(){var v=this.originalEvent;this.isPropagationStopped=Ci,v&&!this.isSimulated&&v.stopPropagation()},stopImmediatePropagation:function(){var v=this.originalEvent;this.isImmediatePropagationStopped=Ci,v&&!this.isSimulated&&v.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(v,A){k.event.special[v]={setup:function(){return Vi(this,v,hi),!1},trigger:function(){return Vi(this,v),!0},_default:function(C){return L.get(C.target,v)},delegateType:A}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(v,A){k.event.special[v]={delegateType:A,bindType:A,handle:function(C){var S,B=C.relatedTarget,Z=C.handleObj;return B&&(B===this||k.contains(this,B))||(C.type=Z.origType,S=Z.handler.apply(this,arguments),C.type=A),S}}}),k.fn.extend({on:function(v,A,C,S){return Ui(this,v,A,C,S)},one:function(v,A,C,S){return Ui(this,v,A,C,S,1)},off:function(v,A,C){var S,B;if(v&&v.preventDefault&&v.handleObj)return S=v.handleObj,k(v.delegateTarget).off(S.namespace?S.origType+"."+S.namespace:S.origType,S.selector,S.handler),this;if("object"==typeof v){for(B in v)this.off(B,A,v[B]);return this}return!1!==A&&"function"!=typeof A||(C=A,A=void 0),!1===C&&(C=wa),this.each(function(){k.event.remove(this,v,C,A)})}});var Ss=/<script|<style|<link/i,To=/checked\s*(?:[^=]|=\s*.checked.)/i,io=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function i0(v,A){return vr(v,"table")&&vr(11!==A.nodeType?A:A.firstChild,"tr")&&k(v).children("tbody")[0]||v}function G0(v){return v.type=(null!==v.getAttribute("type"))+"/"+v.type,v}function as(v){return"true/"===(v.type||"").slice(0,5)?v.type=v.type.slice(5):v.removeAttribute("type"),v}function Dr(v,A){var C,S,B,Z,Y,le;if(1===A.nodeType){if(L.hasData(v)&&(le=L.get(v).events))for(B in L.remove(A,"handle events"),le)for(C=0,S=le[B].length;C<S;C++)k.event.add(A,B,le[B][C]);H.hasData(v)&&(Z=H.access(v),Y=k.extend({},Z),H.set(A,Y))}}function b(v,A,C,S){A=ns(A);var B,Z,Y,le,se,ve,de=0,Pe=v.length,Ie=Pe-1,we=A[0],He=vt(we);if(He||1<Pe&&"string"==typeof we&&!jt.checkClone&&To.test(we))return v.each(function(ut){var rt=v.eq(ut);He&&(A[0]=we.call(this,ut,rt.html())),b(rt,A,C,S)});if(Pe&&(Z=(B=Cs(A,v[0].ownerDocument,!1,v,S)).firstChild,1===B.childNodes.length&&(B=Z),Z||S)){for(le=(Y=k.map(In(B,"script"),G0)).length;de<Pe;de++)se=B,de!==Ie&&(se=k.clone(se,!0,!0),le&&k.merge(Y,In(se,"script"))),C.call(v[de],se,de);if(le)for(ve=Y[Y.length-1].ownerDocument,k.map(Y,as),de=0;de<le;de++)Ze.test((se=Y[de]).type||"")&&!L.access(se,"globalEval")&&k.contains(ve,se)&&(se.src&&"module"!==(se.type||"").toLowerCase()?k._evalUrl&&!se.noModule&&k._evalUrl(se.src,{nonce:se.nonce||se.getAttribute("nonce")},ve):mn(se.textContent.replace(io,""),se,ve))}return v}function D(v,A,C){for(var S,B=A?k.filter(A,v):v,Z=0;null!=(S=B[Z]);Z++)C||1!==S.nodeType||k.cleanData(In(S)),S.parentNode&&(C&&Rr(S)&&Ga(In(S,"script")),S.parentNode.removeChild(S));return v}k.extend({htmlPrefilter:function(v){return v},clone:function(v,A,C){var S,B,Z,Y,le,se,ve,de=v.cloneNode(!0),Pe=Rr(v);if(!(jt.noCloneChecked||1!==v.nodeType&&11!==v.nodeType||k.isXMLDoc(v)))for(Y=In(de),S=0,B=(Z=In(v)).length;S<B;S++)le=Z[S],"input"===(ve=(se=Y[S]).nodeName.toLowerCase())&&fn.test(le.type)?se.checked=le.checked:"input"!==ve&&"textarea"!==ve||(se.defaultValue=le.defaultValue);if(A)if(C)for(Z=Z||In(v),Y=Y||In(de),S=0,B=Z.length;S<B;S++)Dr(Z[S],Y[S]);else Dr(v,de);return 0<(Y=In(de,"script")).length&&Ga(Y,!Pe&&In(v,"script")),de},cleanData:function(v){for(var A,C,S,B=k.event.special,Z=0;void 0!==(C=v[Z]);Z++)if(Yi(C)){if(A=C[L.expando]){if(A.events)for(S in A.events)B[S]?k.event.remove(C,S):k.removeEvent(C,S,A.handle);C[L.expando]=void 0}C[H.expando]&&(C[H.expando]=void 0)}}}),k.fn.extend({detach:function(v){return D(this,v,!0)},remove:function(v){return D(this,v)},text:function(v){return Wr(this,function(A){return void 0===A?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=A)})},null,v,arguments.length)},append:function(){return b(this,arguments,function(v){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||i0(this,v).appendChild(v)})},prepend:function(){return b(this,arguments,function(v){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var A=i0(this,v);A.insertBefore(v,A.firstChild)}})},before:function(){return b(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this)})},after:function(){return b(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this.nextSibling)})},empty:function(){for(var v,A=0;null!=(v=this[A]);A++)1===v.nodeType&&(k.cleanData(In(v,!1)),v.textContent="");return this},clone:function(v,A){return v=null!=v&&v,A=null==A?v:A,this.map(function(){return k.clone(this,v,A)})},html:function(v){return Wr(this,function(A){var C=this[0]||{},S=0,B=this.length;if(void 0===A&&1===C.nodeType)return C.innerHTML;if("string"==typeof A&&!Ss.test(A)&&!Jr[(Jt.exec(A)||["",""])[1].toLowerCase()]){A=k.htmlPrefilter(A);try{for(;S<B;S++)1===(C=this[S]||{}).nodeType&&(k.cleanData(In(C,!1)),C.innerHTML=A);C=0}catch(Z){}}C&&this.empty().append(A)},null,v,arguments.length)},replaceWith:function(){var v=[];return b(this,arguments,function(A){var C=this.parentNode;k.inArray(this,v)<0&&(k.cleanData(In(this)),C&&C.replaceChild(A,this))},v)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(v,A){k.fn[v]=function(C){for(var S,B=[],Z=k(C),Y=Z.length-1,le=0;le<=Y;le++)S=le===Y?this:this.clone(!0),k(Z[le])[A](S),Tr.apply(B,S.get());return this.pushStack(B)}});var Ge=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),R=/^--/,ee=function(v){var A=v.ownerDocument.defaultView;return A&&A.opener||(A=X),A.getComputedStyle(v)},Ar=function(v,A,C){var S,B,Z={};for(B in A)Z[B]=v.style[B],v.style[B]=A[B];for(B in S=C.call(v),A)v.style[B]=Z[B];return S},tt=new RegExp(At.join("|"),"i"),Gn="[\\x20\\t\\r\\n\\f]",ss=new RegExp("^"+Gn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Gn+"+$","g");function dt(v,A,C){var S,B,Z,Y,le=R.test(A),se=v.style;return(C=C||ee(v))&&(Y=C.getPropertyValue(A)||C[A],le&&(Y=Y.replace(ss,"$1")),""!==Y||Rr(v)||(Y=k.style(v,A)),!jt.pixelBoxStyles()&&Ge.test(Y)&&tt.test(A)&&(S=se.width,B=se.minWidth,Z=se.maxWidth,se.minWidth=se.maxWidth=se.width=Y,Y=C.width,se.width=S,se.minWidth=B,se.maxWidth=Z)),void 0!==Y?Y+"":Y}function tn(v,A){return{get:function(){if(!v())return(this.get=A).apply(this,arguments);delete this.get}}}!function(){function v(){if(ve){se.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ve.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",$t.appendChild(se).appendChild(ve);var de=X.getComputedStyle(ve);C="1%"!==de.top,le=12===A(de.marginLeft),ve.style.right="60%",Z=36===A(de.right),S=36===A(de.width),ve.style.position="absolute",B=12===A(ve.offsetWidth/3),$t.removeChild(se),ve=null}}function A(de){return Math.round(parseFloat(de))}var C,S,B,Z,Y,le,se=kt.createElement("div"),ve=kt.createElement("div");ve.style&&(ve.style.backgroundClip="content-box",ve.cloneNode(!0).style.backgroundClip="",jt.clearCloneStyle="content-box"===ve.style.backgroundClip,k.extend(jt,{boxSizingReliable:function(){return v(),S},pixelBoxStyles:function(){return v(),Z},pixelPosition:function(){return v(),C},reliableMarginLeft:function(){return v(),le},scrollboxSize:function(){return v(),B},reliableTrDimensions:function(){var de,Pe,Ie,we;return null==Y&&(de=kt.createElement("table"),Pe=kt.createElement("tr"),Ie=kt.createElement("div"),de.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Pe.style.cssText="border:1px solid",Pe.style.height="1px",Ie.style.height="9px",Ie.style.display="block",$t.appendChild(de).appendChild(Pe).appendChild(Ie),we=X.getComputedStyle(Pe),Y=parseInt(we.height,10)+parseInt(we.borderTopWidth,10)+parseInt(we.borderBottomWidth,10)===Pe.offsetHeight,$t.removeChild(de)),Y}}))}();var ii=["Webkit","Moz","ms"],Ms=kt.createElement("div").style,re={};function Xn(v){return k.cssProps[v]||re[v]||(v in Ms?v:re[v]=function(C){for(var S=C[0].toUpperCase()+C.slice(1),B=ii.length;B--;)if((C=ii[B]+S)in Ms)return C}(v)||v)}var he=/^(none|table(?!-c[ea]).+)/,Ns={position:"absolute",visibility:"hidden",display:"block"},ko={letterSpacing:"0",fontWeight:"400"};function ja(v,A,C){var S=qe.exec(A);return S?Math.max(0,S[2]-(C||0))+(S[3]||"px"):A}function ao(v,A,C,S,B,Z){var Y="width"===A?1:0,le=0,se=0;if(C===(S?"border":"content"))return 0;for(;Y<4;Y+=2)"margin"===C&&(se+=k.css(v,C+At[Y],!0,B)),S?("content"===C&&(se-=k.css(v,"padding"+At[Y],!0,B)),"margin"!==C&&(se-=k.css(v,"border"+At[Y]+"Width",!0,B))):(se+=k.css(v,"padding"+At[Y],!0,B),"padding"!==C?se+=k.css(v,"border"+At[Y]+"Width",!0,B):le+=k.css(v,"border"+At[Y]+"Width",!0,B));return!S&&0<=Z&&(se+=Math.max(0,Math.ceil(v["offset"+A[0].toUpperCase()+A.slice(1)]-Z-se-le-.5))||0),se}function Do(v,A,C){var S=ee(v),B=(!jt.boxSizingReliable()||C)&&"border-box"===k.css(v,"boxSizing",!1,S),Z=B,Y=dt(v,A,S),le="offset"+A[0].toUpperCase()+A.slice(1);if(Ge.test(Y)){if(!C)return Y;Y="auto"}return(!jt.boxSizingReliable()&&B||!jt.reliableTrDimensions()&&vr(v,"tr")||"auto"===Y||!parseFloat(Y)&&"inline"===k.css(v,"display",!1,S))&&v.getClientRects().length&&(B="border-box"===k.css(v,"boxSizing",!1,S),(Z=le in v)&&(Y=v[le])),(Y=parseFloat(Y)||0)+ao(v,A,C||(B?"border":"content"),Z,S,Y)+"px"}function rn(v,A,C,S,B){return new rn.prototype.init(v,A,C,S,B)}k.extend({cssHooks:{opacity:{get:function(v,A){if(A){var C=dt(v,"opacity");return""===C?"1":C}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(v,A,C,S){if(v&&3!==v.nodeType&&8!==v.nodeType&&v.style){var B,Z,Y,le=Rn(A),se=R.test(A),ve=v.style;if(se||(A=Xn(le)),Y=k.cssHooks[A]||k.cssHooks[le],void 0===C)return Y&&"get"in Y&&void 0!==(B=Y.get(v,!1,S))?B:ve[A];"string"==(Z=typeof C)&&(B=qe.exec(C))&&B[1]&&(C=An(v,A,B),Z="number"),null!=C&&C==C&&("number"!==Z||se||(C+=B&&B[3]||(k.cssNumber[le]?"":"px")),jt.clearCloneStyle||""!==C||0!==A.indexOf("background")||(ve[A]="inherit"),Y&&"set"in Y&&void 0===(C=Y.set(v,C,S))||(se?ve.setProperty(A,C):ve[A]=C))}},css:function(v,A,C,S){var B,Z,Y,le=Rn(A);return R.test(A)||(A=Xn(le)),(Y=k.cssHooks[A]||k.cssHooks[le])&&"get"in Y&&(B=Y.get(v,!0,C)),void 0===B&&(B=dt(v,A,S)),"normal"===B&&A in ko&&(B=ko[A]),""===C||C?(Z=parseFloat(B),!0===C||isFinite(Z)?Z||0:B):B}}),k.each(["height","width"],function(v,A){k.cssHooks[A]={get:function(C,S,B){if(S)return!he.test(k.css(C,"display"))||C.getClientRects().length&&C.getBoundingClientRect().width?Do(C,A,B):Ar(C,Ns,function(){return Do(C,A,B)})},set:function(C,S,B){var Z,Y=ee(C),le=!jt.scrollboxSize()&&"absolute"===Y.position,se=(le||B)&&"border-box"===k.css(C,"boxSizing",!1,Y),ve=B?ao(C,A,B,se,Y):0;return se&&le&&(ve-=Math.ceil(C["offset"+A[0].toUpperCase()+A.slice(1)]-parseFloat(Y[A])-ao(C,A,"border",!1,Y)-.5)),ve&&(Z=qe.exec(S))&&"px"!==(Z[3]||"px")&&(C.style[A]=S,S=k.css(C,A)),ja(0,S,ve)}}}),k.cssHooks.marginLeft=tn(jt.reliableMarginLeft,function(v,A){if(A)return(parseFloat(dt(v,"marginLeft"))||v.getBoundingClientRect().left-Ar(v,{marginLeft:0},function(){return v.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(v,A){k.cssHooks[v+A]={expand:function(C){for(var S=0,B={},Z="string"==typeof C?C.split(" "):[C];S<4;S++)B[v+At[S]+A]=Z[S]||Z[S-2]||Z[0];return B}},"margin"!==v&&(k.cssHooks[v+A].set=ja)}),k.fn.extend({css:function(v,A){return Wr(this,function(C,S,B){var Z,Y,le={},se=0;if(Array.isArray(S)){for(Z=ee(C),Y=S.length;se<Y;se++)le[S[se]]=k.css(C,S[se],!1,Z);return le}return void 0!==B?k.style(C,S,B):k.css(C,S)},v,A,1<arguments.length)}}),((k.Tween=rn).prototype={constructor:rn,init:function(v,A,C,S,B,Z){this.elem=v,this.prop=C,this.easing=B||k.easing._default,this.options=A,this.start=this.now=this.cur(),this.end=S,this.unit=Z||(k.cssNumber[C]?"":"px")},cur:function(){var v=rn.propHooks[this.prop];return v&&v.get?v.get(this):rn.propHooks._default.get(this)},run:function(v){var A,C=rn.propHooks[this.prop];return this.pos=A=this.options.duration?k.easing[this.easing](v,this.options.duration*v,0,1,this.options.duration):v,this.now=(this.end-this.start)*A+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),C&&C.set?C.set(this):rn.propHooks._default.set(this),this}}).init.prototype=rn.prototype,(rn.propHooks={_default:{get:function(v){var A;return 1!==v.elem.nodeType||null!=v.elem[v.prop]&&null==v.elem.style[v.prop]?v.elem[v.prop]:(A=k.css(v.elem,v.prop,""))&&"auto"!==A?A:0},set:function(v){k.fx.step[v.prop]?k.fx.step[v.prop](v):1!==v.elem.nodeType||!k.cssHooks[v.prop]&&null==v.elem.style[Xn(v.prop)]?v.elem[v.prop]=v.now:k.style(v.elem,v.prop,v.now+v.unit)}}}).scrollTop=rn.propHooks.scrollLeft={set:function(v){v.elem.nodeType&&v.elem.parentNode&&(v.elem[v.prop]=v.now)}},k.easing={linear:function(v){return v},swing:function(v){return.5-Math.cos(v*Math.PI)/2},_default:"swing"},k.fx=rn.prototype.init,k.fx.step={};var sa,Ca,xi,oa,Dt=/^(?:toggle|show|hide)$/,zr=/queueHooks$/;function Kr(){Ca&&(!1===kt.hidden&&X.requestAnimationFrame?X.requestAnimationFrame(Kr):X.setTimeout(Kr,k.fx.interval),k.fx.tick())}function la(){return X.setTimeout(function(){sa=void 0}),sa=Date.now()}function Si(v,A){var C,S=0,B={height:v};for(A=A?1:0;S<4;S+=2-A)B["margin"+(C=At[S])]=B["padding"+C]=v;return A&&(B.opacity=B.width=v),B}function os(v,A,C){for(var S,B=(jn.tweeners[A]||[]).concat(jn.tweeners["*"]),Z=0,Y=B.length;Z<Y;Z++)if(S=B[Z].call(C,A,v))return S}function jn(v,A,C){var S,B,Z=0,Y=jn.prefilters.length,le=k.Deferred().always(function(){delete se.elem}),se=function(){if(B)return!1;for(var Pe=sa||la(),Ie=Math.max(0,ve.startTime+ve.duration-Pe),we=1-(Ie/ve.duration||0),He=0,ut=ve.tweens.length;He<ut;He++)ve.tweens[He].run(we);return le.notifyWith(v,[ve,we,Ie]),we<1&&ut?Ie:(ut||le.notifyWith(v,[ve,1,0]),le.resolveWith(v,[ve]),!1)},ve=le.promise({elem:v,props:k.extend({},A),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},C),originalProperties:A,originalOptions:C,startTime:sa||la(),duration:C.duration,tweens:[],createTween:function(Pe,Ie){var we=k.Tween(v,ve.opts,Pe,Ie,ve.opts.specialEasing[Pe]||ve.opts.easing);return ve.tweens.push(we),we},stop:function(Pe){var Ie=0,we=Pe?ve.tweens.length:0;if(B)return this;for(B=!0;Ie<we;Ie++)ve.tweens[Ie].run(1);return Pe?(le.notifyWith(v,[ve,1,0]),le.resolveWith(v,[ve,Pe])):le.rejectWith(v,[ve,Pe]),this}}),de=ve.props;for(function(Pe,Ie){var we,He,ut,rt,Me;for(we in Pe)if(ut=Ie[He=Rn(we)],rt=Pe[we],Array.isArray(rt)&&(ut=rt[1],rt=Pe[we]=rt[0]),we!==He&&(Pe[He]=rt,delete Pe[we]),(Me=k.cssHooks[He])&&"expand"in Me)for(we in rt=Me.expand(rt),delete Pe[He],rt)we in Pe||(Pe[we]=rt[we],Ie[we]=ut);else Ie[He]=ut}(de,ve.opts.specialEasing);Z<Y;Z++)if(S=jn.prefilters[Z].call(ve,v,de,ve.opts))return vt(S.stop)&&(k._queueHooks(ve.elem,ve.opts.queue).stop=S.stop.bind(S)),S;return k.map(de,os,ve),vt(ve.opts.start)&&ve.opts.start.call(v,ve),ve.progress(ve.opts.progress).done(ve.opts.done,ve.opts.complete).fail(ve.opts.fail).always(ve.opts.always),k.fx.timer(k.extend(se,{elem:v,anim:ve,queue:ve.opts.queue})),ve}k.Animation=k.extend(jn,{tweeners:{"*":[function(v,A){var C=this.createTween(v,A);return An(C.elem,v,qe.exec(A),C),C}]},tweener:function(v,A){vt(v)?(A=v,v=["*"]):v=v.match(Ke);for(var C,S=0,B=v.length;S<B;S++)(jn.tweeners[C=v[S]]=jn.tweeners[C]||[]).unshift(A)},prefilters:[function(v,A,C){var S,B,Z,Y,le,se,ve,de,Pe="width"in A||"height"in A,Ie=this,we={},He=v.style,ut=v.nodeType&&ir(v),rt=L.get(v,"fxshow");for(S in C.queue||(null==(Y=k._queueHooks(v,"fx")).unqueued&&(Y.unqueued=0,le=Y.empty.fire,Y.empty.fire=function(){Y.unqueued||le()}),Y.unqueued++,Ie.always(function(){Ie.always(function(){Y.unqueued--,k.queue(v,"fx").length||Y.empty.fire()})})),A)if(Dt.test(B=A[S])){if(delete A[S],Z=Z||"toggle"===B,B===(ut?"hide":"show")){if("show"!==B||!rt||void 0===rt[S])continue;ut=!0}we[S]=rt&&rt[S]||k.style(v,S)}if((se=!k.isEmptyObject(A))||!k.isEmptyObject(we))for(S in Pe&&1===v.nodeType&&(C.overflow=[He.overflow,He.overflowX,He.overflowY],null==(ve=rt&&rt.display)&&(ve=L.get(v,"display")),"none"===(de=k.css(v,"display"))&&(ve?de=ve:(Hn([v],!0),ve=v.style.display||ve,de=k.css(v,"display"),Hn([v]))),("inline"===de||"inline-block"===de&&null!=ve)&&"none"===k.css(v,"float")&&(se||(Ie.done(function(){He.display=ve}),null==ve&&(ve="none"===(de=He.display)?"":de)),He.display="inline-block")),C.overflow&&(He.overflow="hidden",Ie.always(function(){He.overflow=C.overflow[0],He.overflowX=C.overflow[1],He.overflowY=C.overflow[2]})),se=!1,we)se||(rt?"hidden"in rt&&(ut=rt.hidden):rt=L.access(v,"fxshow",{display:ve}),Z&&(rt.hidden=!ut),ut&&Hn([v],!0),Ie.done(function(){for(S in ut||Hn([v]),L.remove(v,"fxshow"),we)k.style(v,S,we[S])})),se=os(ut?rt[S]:0,S,Ie),S in rt||(rt[S]=se.start,ut&&(se.end=se.start,se.start=0))}],prefilter:function(v,A){A?jn.prefilters.unshift(v):jn.prefilters.push(v)}}),k.speed=function(v,A,C){var S=v&&"object"==typeof v?k.extend({},v):{complete:C||!C&&A||vt(v)&&v,duration:v,easing:C&&A||A&&!vt(A)&&A};return k.fx.off?S.duration=0:"number"!=typeof S.duration&&(S.duration=S.duration in k.fx.speeds?k.fx.speeds[S.duration]:k.fx.speeds._default),null!=S.queue&&!0!==S.queue||(S.queue="fx"),S.old=S.complete,S.complete=function(){vt(S.old)&&S.old.call(this),S.queue&&k.dequeue(this,S.queue)},S},k.fn.extend({fadeTo:function(v,A,C,S){return this.filter(ir).css("opacity",0).show().end().animate({opacity:A},v,C,S)},animate:function(v,A,C,S){var B=k.isEmptyObject(v),Z=k.speed(A,C,S),Y=function(){var le=jn(this,k.extend({},v),Z);(B||L.get(this,"finish"))&&le.stop(!0)};return Y.finish=Y,B||!1===Z.queue?this.each(Y):this.queue(Z.queue,Y)},stop:function(v,A,C){var S=function(B){var Z=B.stop;delete B.stop,Z(C)};return"string"!=typeof v&&(C=A,A=v,v=void 0),A&&this.queue(v||"fx",[]),this.each(function(){var B=!0,Z=null!=v&&v+"queueHooks",Y=k.timers,le=L.get(this);if(Z)le[Z]&&le[Z].stop&&S(le[Z]);else for(Z in le)le[Z]&&le[Z].stop&&zr.test(Z)&&S(le[Z]);for(Z=Y.length;Z--;)Y[Z].elem!==this||null!=v&&Y[Z].queue!==v||(Y[Z].anim.stop(C),B=!1,Y.splice(Z,1));!B&&C||k.dequeue(this,v)})},finish:function(v){return!1!==v&&(v=v||"fx"),this.each(function(){var A,C=L.get(this),S=C[v+"queue"],B=C[v+"queueHooks"],Z=k.timers,Y=S?S.length:0;for(C.finish=!0,k.queue(this,v,[]),B&&B.stop&&B.stop.call(this,!0),A=Z.length;A--;)Z[A].elem===this&&Z[A].queue===v&&(Z[A].anim.stop(!0),Z.splice(A,1));for(A=0;A<Y;A++)S[A]&&S[A].finish&&S[A].finish.call(this);delete C.finish})}}),k.each(["toggle","show","hide"],function(v,A){var C=k.fn[A];k.fn[A]=function(S,B,Z){return null==S||"boolean"==typeof S?C.apply(this,arguments):this.animate(Si(A,!0),S,B,Z)}}),k.each({slideDown:Si("show"),slideUp:Si("hide"),slideToggle:Si("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(v,A){k.fn[v]=function(C,S,B){return this.animate(A,C,S,B)}}),k.timers=[],k.fx.tick=function(){var v,A=0,C=k.timers;for(sa=Date.now();A<C.length;A++)(v=C[A])()||C[A]!==v||C.splice(A--,1);C.length||k.fx.stop(),sa=void 0},k.fx.timer=function(v){k.timers.push(v),k.fx.start()},k.fx.interval=13,k.fx.start=function(){Ca||(Ca=!0,Kr())},k.fx.stop=function(){Ca=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(v,A){return v=k.fx&&k.fx.speeds[v]||v,this.queue(A=A||"fx",function(C,S){var B=X.setTimeout(C,v);S.stop=function(){X.clearTimeout(B)}})},xi=kt.createElement("input"),oa=kt.createElement("select").appendChild(kt.createElement("option")),xi.type="checkbox",jt.checkOn=""!==xi.value,jt.optSelected=oa.selected,(xi=kt.createElement("input")).value="t",xi.type="radio",jt.radioValue="t"===xi.value;var Za,Pi=k.expr.attrHandle;k.fn.extend({attr:function(v,A){return Wr(this,k.attr,v,A,1<arguments.length)},removeAttr:function(v){return this.each(function(){k.removeAttr(this,v)})}}),k.extend({attr:function(v,A,C){var S,B,Z=v.nodeType;if(3!==Z&&8!==Z&&2!==Z)return void 0===v.getAttribute?k.prop(v,A,C):(1===Z&&k.isXMLDoc(v)||(B=k.attrHooks[A.toLowerCase()]||(k.expr.match.bool.test(A)?Za:void 0)),void 0!==C?null===C?void k.removeAttr(v,A):B&&"set"in B&&void 0!==(S=B.set(v,C,A))?S:(v.setAttribute(A,C+""),C):B&&"get"in B&&null!==(S=B.get(v,A))?S:null==(S=k.find.attr(v,A))?void 0:S)},attrHooks:{type:{set:function(v,A){if(!jt.radioValue&&"radio"===A&&vr(v,"input")){var C=v.value;return v.setAttribute("type",A),C&&(v.value=C),A}}}},removeAttr:function(v,A){var C,S=0,B=A&&A.match(Ke);if(B&&1===v.nodeType)for(;C=B[S++];)v.removeAttribute(C)}}),Za={set:function(v,A,C){return!1===A?k.removeAttr(v,C):v.setAttribute(C,C),C}},k.each(k.expr.match.bool.source.match(/\w+/g),function(v,A){var C=Pi[A]||k.find.attr;Pi[A]=function(S,B,Z){var Y,le,se=B.toLowerCase();return Z||(le=Pi[se],Pi[se]=Y,Y=null!=C(S,B,Z)?se:null,Pi[se]=le),Y}});var ls=/^(?:input|select|textarea|button)$/i,so=/^(?:a|area)$/i;function Bi(v){return(v.match(Ke)||[]).join(" ")}function bn(v){return v.getAttribute&&v.getAttribute("class")||""}function oo(v){return Array.isArray(v)?v:"string"==typeof v&&v.match(Ke)||[]}k.fn.extend({prop:function(v,A){return Wr(this,k.prop,v,A,1<arguments.length)},removeProp:function(v){return this.each(function(){delete this[k.propFix[v]||v]})}}),k.extend({prop:function(v,A,C){var S,B,Z=v.nodeType;if(3!==Z&&8!==Z&&2!==Z)return 1===Z&&k.isXMLDoc(v)||(B=k.propHooks[A=k.propFix[A]||A]),void 0!==C?B&&"set"in B&&void 0!==(S=B.set(v,C,A))?S:v[A]=C:B&&"get"in B&&null!==(S=B.get(v,A))?S:v[A]},propHooks:{tabIndex:{get:function(v){var A=k.find.attr(v,"tabindex");return A?parseInt(A,10):ls.test(v.nodeName)||so.test(v.nodeName)&&v.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),jt.optSelected||(k.propHooks.selected={get:function(v){return null},set:function(v){}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(v){var A,C,S,B,Z,Y;return vt(v)?this.each(function(le){k(this).addClass(v.call(this,le,bn(this)))}):(A=oo(v)).length?this.each(function(){if(S=bn(this),C=1===this.nodeType&&" "+Bi(S)+" "){for(Z=0;Z<A.length;Z++)C.indexOf(" "+(B=A[Z])+" ")<0&&(C+=B+" ");Y=Bi(C),S!==Y&&this.setAttribute("class",Y)}}):this},removeClass:function(v){var A,C,S,B,Z,Y;return vt(v)?this.each(function(le){k(this).removeClass(v.call(this,le,bn(this)))}):arguments.length?(A=oo(v)).length?this.each(function(){if(S=bn(this),C=1===this.nodeType&&" "+Bi(S)+" "){for(Z=0;Z<A.length;Z++)for(B=A[Z];-1<C.indexOf(" "+B+" ");)C=C.replace(" "+B+" "," ");Y=Bi(C),S!==Y&&this.setAttribute("class",Y)}}):this:this.attr("class","")},toggleClass:function(v,A){var C,S,B,Z,Y=typeof v,le="string"===Y||Array.isArray(v);return vt(v)?this.each(function(se){k(this).toggleClass(v.call(this,se,bn(this),A),A)}):"boolean"==typeof A&&le?A?this.addClass(v):this.removeClass(v):(C=oo(v),this.each(function(){if(le)for(Z=k(this),B=0;B<C.length;B++)Z.hasClass(S=C[B])?Z.removeClass(S):Z.addClass(S);else void 0!==v&&"boolean"!==Y||((S=bn(this))&&L.set(this,"__className__",S),this.setAttribute&&this.setAttribute("class",S||!1===v?"":L.get(this,"__className__")||""))}))},hasClass:function(v){var A,C,S=0;for(A=" "+v+" ";C=this[S++];)if(1===C.nodeType&&-1<(" "+Bi(bn(C))+" ").indexOf(A))return!0;return!1}});var Ts=/\r/g;k.fn.extend({val:function(v){var A,C,S,B=this[0];return arguments.length?(S=vt(v),this.each(function(Z){var Y;1===this.nodeType&&(null==(Y=S?v.call(this,Z,k(this).val()):v)?Y="":"number"==typeof Y?Y+="":Array.isArray(Y)&&(Y=k.map(Y,function(le){return null==le?"":le+""})),(A=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in A&&void 0!==A.set(this,Y,"value")||(this.value=Y))})):B?(A=k.valHooks[B.type]||k.valHooks[B.nodeName.toLowerCase()])&&"get"in A&&void 0!==(C=A.get(B,"value"))?C:"string"==typeof(C=B.value)?C.replace(Ts,""):null==C?"":C:void 0}}),k.extend({valHooks:{option:{get:function(v){var A=k.find.attr(v,"value");return null!=A?A:Bi(k.text(v))}},select:{get:function(v){var A,C,S,B=v.options,Z=v.selectedIndex,Y="select-one"===v.type,le=Y?null:[],se=Y?Z+1:B.length;for(S=Z<0?se:Y?Z:0;S<se;S++)if(((C=B[S]).selected||S===Z)&&!C.disabled&&(!C.parentNode.disabled||!vr(C.parentNode,"optgroup"))){if(A=k(C).val(),Y)return A;le.push(A)}return le},set:function(v,A){for(var C,S,B=v.options,Z=k.makeArray(A),Y=B.length;Y--;)((S=B[Y]).selected=-1<k.inArray(k.valHooks.option.get(S),Z))&&(C=!0);return C||(v.selectedIndex=-1),Z}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(v,A){if(Array.isArray(A))return v.checked=-1<k.inArray(k(v).val(),A)}},jt.checkOn||(k.valHooks[this].get=function(v){return null===v.getAttribute("value")?"on":v.value})}),jt.focusin="onfocusin"in X;var ks=/^(?:focusinfocus|focusoutblur)$/,lo=function(v){v.stopPropagation()};k.extend(k.event,{trigger:function(v,A,C,S){var B,Z,Y,le,se,ve,de,Pe,Ie=[C||kt],we=Fr.call(v,"type")?v.type:v,He=Fr.call(v,"namespace")?v.namespace.split("."):[];if(Z=Pe=Y=C=C||kt,3!==C.nodeType&&8!==C.nodeType&&!ks.test(we+k.event.triggered)&&(-1<we.indexOf(".")&&(we=(He=we.split(".")).shift(),He.sort()),se=we.indexOf(":")<0&&"on"+we,(v=v[k.expando]?v:new k.Event(we,"object"==typeof v&&v)).isTrigger=S?2:3,v.namespace=He.join("."),v.rnamespace=v.namespace?new RegExp("(^|\\.)"+He.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,v.result=void 0,v.target||(v.target=C),A=null==A?[v]:k.makeArray(A,[v]),de=k.event.special[we]||{},S||!de.trigger||!1!==de.trigger.apply(C,A))){if(!S&&!de.noBubble&&!lt(C)){for(ks.test((le=de.delegateType||we)+we)||(Z=Z.parentNode);Z;Z=Z.parentNode)Ie.push(Z),Y=Z;Y===(C.ownerDocument||kt)&&Ie.push(Y.defaultView||Y.parentWindow||X)}for(B=0;(Z=Ie[B++])&&!v.isPropagationStopped();)Pe=Z,v.type=1<B?le:de.bindType||we,(ve=(L.get(Z,"events")||Object.create(null))[v.type]&&L.get(Z,"handle"))&&ve.apply(Z,A),(ve=se&&Z[se])&&ve.apply&&Yi(Z)&&(v.result=ve.apply(Z,A),!1===v.result&&v.preventDefault());return v.type=we,S||v.isDefaultPrevented()||de._default&&!1!==de._default.apply(Ie.pop(),A)||!Yi(C)||se&&vt(C[we])&&!lt(C)&&((Y=C[se])&&(C[se]=null),k.event.triggered=we,v.isPropagationStopped()&&Pe.addEventListener(we,lo),C[we](),v.isPropagationStopped()&&Pe.removeEventListener(we,lo),k.event.triggered=void 0,Y&&(C[se]=Y)),v.result}},simulate:function(v,A,C){var S=k.extend(new k.Event,C,{type:v,isSimulated:!0});k.event.trigger(S,null,A)}}),k.fn.extend({trigger:function(v,A){return this.each(function(){k.event.trigger(v,A,this)})},triggerHandler:function(v,A){var C=this[0];if(C)return k.event.trigger(v,A,C,!0)}}),jt.focusin||k.each({focus:"focusin",blur:"focusout"},function(v,A){var C=function(S){k.event.simulate(A,S.target,k.event.fix(S))};k.event.special[A]={setup:function(){var S=this.ownerDocument||this.document||this,B=L.access(S,A);B||S.addEventListener(v,C,!0),L.access(S,A,(B||0)+1)},teardown:function(){var S=this.ownerDocument||this.document||this,B=L.access(S,A)-1;B?L.access(S,A,B):(S.removeEventListener(v,C,!0),L.remove(S,A))}}});var ua=X.location,xa={guid:Date.now()},_r=/\?/;k.parseXML=function(v){var A,C;if(!v||"string"!=typeof v)return null;try{A=(new X.DOMParser).parseFromString(v,"text/xml")}catch(S){}return C=A&&A.getElementsByTagName("parsererror")[0],A&&!C||k.error("Invalid XML: "+(C?k.map(C.childNodes,function(S){return S.textContent}).join("\n"):v)),A};var zo=/\[\]$/,Ds=/\r?\n/g,a0=/^(?:submit|button|image|reset|file)$/i,zs=/^(?:input|select|textarea|keygen)/i;function uo(v,A,C,S){var B;if(Array.isArray(A))k.each(A,function(Z,Y){C||zo.test(v)?S(v,Y):uo(v+"["+("object"==typeof Y&&null!=Y?Z:"")+"]",Y,C,S)});else if(C||"object"!==Or(A))S(v,A);else for(B in A)uo(v+"["+B+"]",A[B],C,S)}k.param=function(v,A){var C,S=[],B=function(Z,Y){var le=vt(Y)?Y():Y;S[S.length]=encodeURIComponent(Z)+"="+encodeURIComponent(null==le?"":le)};if(null==v)return"";if(Array.isArray(v)||v.jquery&&!k.isPlainObject(v))k.each(v,function(){B(this.name,this.value)});else for(C in v)uo(C,v[C],A,B);return S.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var v=k.prop(this,"elements");return v?k.makeArray(v):this}).filter(function(){var v=this.type;return this.name&&!k(this).is(":disabled")&&zs.test(this.nodeName)&&!a0.test(v)&&(this.checked||!fn.test(v))}).map(function(v,A){var C=k(this).val();return null==C?null:Array.isArray(C)?k.map(C,function(S){return{name:A.name,value:S.replace(Ds,"\r\n")}}):{name:A.name,value:C.replace(Ds,"\r\n")}}).get()}});var s0=/%20/g,j0=/#.*$/,Z0=/([?&])_=[^&]*/,us=/^(.*?):[ \t]*([^\r\n]*)$/gm,o0=/^(?:GET|HEAD)$/,Fa=/^\/\//,l0={},ye={},xr="*/".concat("*"),Hi=kt.createElement("a");function Mi(v){return function(A,C){"string"!=typeof A&&(C=A,A="*");var S,B=0,Z=A.toLowerCase().match(Ke)||[];if(vt(C))for(;S=Z[B++];)"+"===S[0]?(S=S.slice(1)||"*",(v[S]=v[S]||[]).unshift(C)):(v[S]=v[S]||[]).push(C)}}function u0(v,A,C,S){var B={},Z=v===ye;function Y(le){var se;return B[le]=!0,k.each(v[le]||[],function(ve,de){var Pe=de(A,C,S);return"string"!=typeof Pe||Z||B[Pe]?Z?!(se=Pe):void 0:(A.dataTypes.unshift(Pe),Y(Pe),!1)}),se}return Y(A.dataTypes[0])||!B["*"]&&Y("*")}function co(v,A){var C,S,B=k.ajaxSettings.flatOptions||{};for(C in A)void 0!==A[C]&&((B[C]?v:S||(S={}))[C]=A[C]);return S&&k.extend(!0,v,S),v}Hi.href=ua.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ua.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ua.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(v,A){return A?co(co(v,k.ajaxSettings),A):co(k.ajaxSettings,v)},ajaxPrefilter:Mi(l0),ajaxTransport:Mi(ye),ajax:function(v,A){"object"==typeof v&&(A=v,v=void 0);var C,S,B,Z,Y,le,se,ve,de,Pe,Ie=k.ajaxSetup({},A=A||{}),we=Ie.context||Ie,He=Ie.context&&(we.nodeType||we.jquery)?k(we):k.event,ut=k.Deferred(),rt=k.Callbacks("once memory"),Me=Ie.statusCode||{},sr={},Sr={},_t="canceled",ct={readyState:0,getResponseHeader:function(ot){var dr;if(se){if(!Z)for(Z={};dr=us.exec(B);)Z[dr[1].toLowerCase()+" "]=(Z[dr[1].toLowerCase()+" "]||[]).concat(dr[2]);dr=Z[ot.toLowerCase()+" "]}return null==dr?null:dr.join(", ")},getAllResponseHeaders:function(){return se?B:null},setRequestHeader:function(ot,dr){return null==se&&(ot=Sr[ot.toLowerCase()]=Sr[ot.toLowerCase()]||ot,sr[ot]=dr),this},overrideMimeType:function(ot){return null==se&&(Ie.mimeType=ot),this},statusCode:function(ot){var dr;if(ot)if(se)ct.always(ot[ct.status]);else for(dr in ot)Me[dr]=[Me[dr],ot[dr]];return this},abort:function(ot){var dr=ot||_t;return C&&C.abort(dr),fr(0,dr),this}};if(ut.promise(ct),Ie.url=((v||Ie.url||ua.href)+"").replace(Fa,ua.protocol+"//"),Ie.type=A.method||A.type||Ie.method||Ie.type,Ie.dataTypes=(Ie.dataType||"*").toLowerCase().match(Ke)||[""],null==Ie.crossDomain){le=kt.createElement("a");try{le.href=Ie.url,le.href=le.href,Ie.crossDomain=Hi.protocol+"//"+Hi.host!=le.protocol+"//"+le.host}catch(ot){Ie.crossDomain=!0}}if(Ie.data&&Ie.processData&&"string"!=typeof Ie.data&&(Ie.data=k.param(Ie.data,Ie.traditional)),u0(l0,Ie,A,ct),se)return ct;for(de in(ve=k.event&&Ie.global)&&0==k.active++&&k.event.trigger("ajaxStart"),Ie.type=Ie.type.toUpperCase(),Ie.hasContent=!o0.test(Ie.type),S=Ie.url.replace(j0,""),Ie.hasContent?Ie.data&&Ie.processData&&0===(Ie.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Ie.data=Ie.data.replace(s0,"+")):(Pe=Ie.url.slice(S.length),Ie.data&&(Ie.processData||"string"==typeof Ie.data)&&(S+=(_r.test(S)?"&":"?")+Ie.data,delete Ie.data),!1===Ie.cache&&(S=S.replace(Z0,"$1"),Pe=(_r.test(S)?"&":"?")+"_="+xa.guid+++Pe),Ie.url=S+Pe),Ie.ifModified&&(k.lastModified[S]&&ct.setRequestHeader("If-Modified-Since",k.lastModified[S]),k.etag[S]&&ct.setRequestHeader("If-None-Match",k.etag[S])),(Ie.data&&Ie.hasContent&&!1!==Ie.contentType||A.contentType)&&ct.setRequestHeader("Content-Type",Ie.contentType),ct.setRequestHeader("Accept",Ie.dataTypes[0]&&Ie.accepts[Ie.dataTypes[0]]?Ie.accepts[Ie.dataTypes[0]]+("*"!==Ie.dataTypes[0]?", "+xr+"; q=0.01":""):Ie.accepts["*"]),Ie.headers)ct.setRequestHeader(de,Ie.headers[de]);if(Ie.beforeSend&&(!1===Ie.beforeSend.call(we,ct,Ie)||se))return ct.abort();if(_t="abort",rt.add(Ie.complete),ct.done(Ie.success),ct.fail(Ie.error),C=u0(ye,Ie,A,ct)){if(ct.readyState=1,ve&&He.trigger("ajaxSend",[ct,Ie]),se)return ct;Ie.async&&0<Ie.timeout&&(Y=X.setTimeout(function(){ct.abort("timeout")},Ie.timeout));try{se=!1,C.send(sr,fr)}catch(ot){if(se)throw ot;fr(-1,ot)}}else fr(-1,"No Transport");function fr(ot,dr,Ir,Oi){var qn,Ma,Na,wn,cs,Ni=dr;se||(se=!0,Y&&X.clearTimeout(Y),C=void 0,B=Oi||"",ct.readyState=0<ot?4:0,qn=200<=ot&&ot<300||304===ot,Ir&&(wn=function(Gr,Zn,gn){for(var un,Ye,Gt,Lr,cn=Gr.contents,Yr=Gr.dataTypes;"*"===Yr[0];)Yr.shift(),void 0===un&&(un=Gr.mimeType||Zn.getResponseHeader("Content-Type"));if(un)for(Ye in cn)if(cn[Ye]&&cn[Ye].test(un)){Yr.unshift(Ye);break}if(Yr[0]in gn)Gt=Yr[0];else{for(Ye in gn){if(!Yr[0]||Gr.converters[Ye+" "+Yr[0]]){Gt=Ye;break}Lr||(Lr=Ye)}Gt=Gt||Lr}if(Gt)return Gt!==Yr[0]&&Yr.unshift(Gt),gn[Gt]}(Ie,ct,Ir)),!qn&&-1<k.inArray("script",Ie.dataTypes)&&k.inArray("json",Ie.dataTypes)<0&&(Ie.converters["text script"]=function(){}),wn=function(Gr,Zn,gn,un){var Ye,Gt,Lr,cn,Yr,ai={},Ri=Gr.dataTypes.slice();if(Ri[1])for(Lr in Gr.converters)ai[Lr.toLowerCase()]=Gr.converters[Lr];for(Gt=Ri.shift();Gt;)if(Gr.responseFields[Gt]&&(gn[Gr.responseFields[Gt]]=Zn),!Yr&&un&&Gr.dataFilter&&(Zn=Gr.dataFilter(Zn,Gr.dataType)),Yr=Gt,Gt=Ri.shift())if("*"===Gt)Gt=Yr;else if("*"!==Yr&&Yr!==Gt){if(!(Lr=ai[Yr+" "+Gt]||ai["* "+Gt]))for(Ye in ai)if((cn=Ye.split(" "))[1]===Gt&&(Lr=ai[Yr+" "+cn[0]]||ai["* "+cn[0]])){!0===Lr?Lr=ai[Ye]:!0!==ai[Ye]&&(Gt=cn[0],Ri.unshift(cn[1]));break}if(!0!==Lr)if(Lr&&Gr.throws)Zn=Lr(Zn);else try{Zn=Lr(Zn)}catch(hs){return{state:"parsererror",error:Lr?hs:"No conversion from "+Yr+" to "+Gt}}}return{state:"success",data:Zn}}(Ie,wn,ct,qn),qn?(Ie.ifModified&&((cs=ct.getResponseHeader("Last-Modified"))&&(k.lastModified[S]=cs),(cs=ct.getResponseHeader("etag"))&&(k.etag[S]=cs)),204===ot||"HEAD"===Ie.type?Ni="nocontent":304===ot?Ni="notmodified":(Ni=wn.state,Ma=wn.data,qn=!(Na=wn.error))):(Na=Ni,!ot&&Ni||(Ni="error",ot<0&&(ot=0))),ct.status=ot,ct.statusText=(dr||Ni)+"",qn?ut.resolveWith(we,[Ma,Ni,ct]):ut.rejectWith(we,[ct,Ni,Na]),ct.statusCode(Me),Me=void 0,ve&&He.trigger(qn?"ajaxSuccess":"ajaxError",[ct,Ie,qn?Ma:Na]),rt.fireWith(we,[ct,Ni]),ve&&(He.trigger("ajaxComplete",[ct,Ie]),--k.active||k.event.trigger("ajaxStop")))}return ct},getJSON:function(v,A,C){return k.get(v,A,C,"json")},getScript:function(v,A){return k.get(v,void 0,A,"script")}}),k.each(["get","post"],function(v,A){k[A]=function(C,S,B,Z){return vt(S)&&(Z=Z||B,B=S,S=void 0),k.ajax(k.extend({url:C,type:A,dataType:Z,data:S,success:B},k.isPlainObject(C)&&C))}}),k.ajaxPrefilter(function(v){var A;for(A in v.headers)"content-type"===A.toLowerCase()&&(v.contentType=v.headers[A]||"")}),k._evalUrl=function(v,A,C){return k.ajax({url:v,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(S){k.globalEval(S,A,C)}})},k.fn.extend({wrapAll:function(v){var A;return this[0]&&(vt(v)&&(v=v.call(this[0])),A=k(v,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&A.insertBefore(this[0]),A.map(function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C}).append(this)),this},wrapInner:function(v){return vt(v)?this.each(function(A){k(this).wrapInner(v.call(this,A))}):this.each(function(){var A=k(this),C=A.contents();C.length?C.wrapAll(v):A.append(v)})},wrap:function(v){var A=vt(v);return this.each(function(C){k(this).wrapAll(A?v.call(this,C):v)})},unwrap:function(v){return this.parent(v).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(v){return!k.expr.pseudos.visible(v)},k.expr.pseudos.visible=function(v){return!!(v.offsetWidth||v.offsetHeight||v.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new X.XMLHttpRequest}catch(v){}};var ca={0:200,1223:204},zn=k.ajaxSettings.xhr();jt.cors=!!zn&&"withCredentials"in zn,jt.ajax=zn=!!zn,k.ajaxTransport(function(v){var A,C;if(jt.cors||zn&&!v.crossDomain)return{send:function(S,B){var Z,Y=v.xhr();if(Y.open(v.type,v.url,v.async,v.username,v.password),v.xhrFields)for(Z in v.xhrFields)Y[Z]=v.xhrFields[Z];for(Z in v.mimeType&&Y.overrideMimeType&&Y.overrideMimeType(v.mimeType),v.crossDomain||S["X-Requested-With"]||(S["X-Requested-With"]="XMLHttpRequest"),S)Y.setRequestHeader(Z,S[Z]);A=function(le){return function(){A&&(A=C=Y.onload=Y.onerror=Y.onabort=Y.ontimeout=Y.onreadystatechange=null,"abort"===le?Y.abort():"error"===le?"number"!=typeof Y.status?B(0,"error"):B(Y.status,Y.statusText):B(ca[Y.status]||Y.status,Y.statusText,"text"!==(Y.responseType||"text")||"string"!=typeof Y.responseText?{binary:Y.response}:{text:Y.responseText},Y.getAllResponseHeaders()))}},Y.onload=A(),C=Y.onerror=Y.ontimeout=A("error"),void 0!==Y.onabort?Y.onabort=C:Y.onreadystatechange=function(){4===Y.readyState&&X.setTimeout(function(){A&&C()})},A=A("abort");try{Y.send(v.hasContent&&v.data||null)}catch(le){if(A)throw le}},abort:function(){A&&A()}}}),k.ajaxPrefilter(function(v){v.crossDomain&&(v.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(v){return k.globalEval(v),v}}}),k.ajaxPrefilter("script",function(v){void 0===v.cache&&(v.cache=!1),v.crossDomain&&(v.type="GET")}),k.ajaxTransport("script",function(v){var A,C;if(v.crossDomain||v.scriptAttrs)return{send:function(S,B){A=k("<script>").attr(v.scriptAttrs||{}).prop({charset:v.scriptCharset,src:v.url}).on("load error",C=function(Z){A.remove(),C=null,Z&&B("error"===Z.type?404:200,Z.type)}),kt.head.appendChild(A[0])},abort:function(){C&&C()}}});var ho,We=[],er=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var v=We.pop()||k.expando+"_"+xa.guid++;return this[v]=!0,v}}),k.ajaxPrefilter("json jsonp",function(v,A,C){var S,B,Z,Y=!1!==v.jsonp&&(er.test(v.url)?"url":"string"==typeof v.data&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&er.test(v.data)&&"data");if(Y||"jsonp"===v.dataTypes[0])return S=v.jsonpCallback=vt(v.jsonpCallback)?v.jsonpCallback():v.jsonpCallback,Y?v[Y]=v[Y].replace(er,"$1"+S):!1!==v.jsonp&&(v.url+=(_r.test(v.url)?"&":"?")+v.jsonp+"="+S),v.converters["script json"]=function(){return Z||k.error(S+" was not called"),Z[0]},v.dataTypes[0]="json",B=X[S],X[S]=function(){Z=arguments},C.always(function(){void 0===B?k(X).removeProp(S):X[S]=B,v[S]&&(v.jsonpCallback=A.jsonpCallback,We.push(S)),Z&&vt(B)&&B(Z[0]),Z=B=void 0}),"script"}),jt.createHTMLDocument=((ho=kt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ho.childNodes.length),k.parseHTML=function(v,A,C){return"string"!=typeof v?[]:("boolean"==typeof A&&(C=A,A=!1),A||(jt.createHTMLDocument?((S=(A=kt.implementation.createHTMLDocument("")).createElement("base")).href=kt.location.href,A.head.appendChild(S)):A=kt),Z=!C&&[],(B=hr.exec(v))?[A.createElement(B[1])]:(B=Cs([v],A,Z),Z&&Z.length&&k(Z).remove(),k.merge([],B.childNodes)));var S,B,Z},k.fn.load=function(v,A,C){var S,B,Z,Y=this,le=v.indexOf(" ");return-1<le&&(S=Bi(v.slice(le)),v=v.slice(0,le)),vt(A)?(C=A,A=void 0):A&&"object"==typeof A&&(B="POST"),0<Y.length&&k.ajax({url:v,type:B||"GET",dataType:"html",data:A}).done(function(se){Z=arguments,Y.html(S?k("<div>").append(k.parseHTML(se)).find(S):se)}).always(C&&function(se,ve){Y.each(function(){C.apply(this,Z||[se.responseText,ve,se])})}),this},k.expr.pseudos.animated=function(v){return k.grep(k.timers,function(A){return v===A.elem}).length},k.offset={setOffset:function(v,A,C){var S,B,Z,Y,le,se,ve=k.css(v,"position"),de=k(v),Pe={};"static"===ve&&(v.style.position="relative"),le=de.offset(),Z=k.css(v,"top"),se=k.css(v,"left"),("absolute"===ve||"fixed"===ve)&&-1<(Z+se).indexOf("auto")?(Y=(S=de.position()).top,B=S.left):(Y=parseFloat(Z)||0,B=parseFloat(se)||0),vt(A)&&(A=A.call(v,C,k.extend({},le))),null!=A.top&&(Pe.top=A.top-le.top+Y),null!=A.left&&(Pe.left=A.left-le.left+B),"using"in A?A.using.call(v,Pe):de.css(Pe)}},k.fn.extend({offset:function(v){if(arguments.length)return void 0===v?this:this.each(function(B){k.offset.setOffset(this,v,B)});var A,C,S=this[0];return S?S.getClientRects().length?{top:(A=S.getBoundingClientRect()).top+(C=S.ownerDocument.defaultView).pageYOffset,left:A.left+C.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var v,A,C,S=this[0],B={top:0,left:0};if("fixed"===k.css(S,"position"))A=S.getBoundingClientRect();else{for(A=this.offset(),C=S.ownerDocument,v=S.offsetParent||C.documentElement;v&&(v===C.body||v===C.documentElement)&&"static"===k.css(v,"position");)v=v.parentNode;v&&v!==S&&1===v.nodeType&&((B=k(v).offset()).top+=k.css(v,"borderTopWidth",!0),B.left+=k.css(v,"borderLeftWidth",!0))}return{top:A.top-B.top-k.css(S,"marginTop",!0),left:A.left-B.left-k.css(S,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var v=this.offsetParent;v&&"static"===k.css(v,"position");)v=v.offsetParent;return v||$t})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(v,A){var C="pageYOffset"===A;k.fn[v]=function(S){return Wr(this,function(B,Z,Y){var le;if(lt(B)?le=B:9===B.nodeType&&(le=B.defaultView),void 0===Y)return le?le[A]:B[Z];le?le.scrollTo(C?le.pageXOffset:Y,C?Y:le.pageYOffset):B[Z]=Y},v,S,arguments.length)}}),k.each(["top","left"],function(v,A){k.cssHooks[A]=tn(jt.pixelPosition,function(C,S){if(S)return S=dt(C,A),Ge.test(S)?k(C).position()[A]+"px":S})}),k.each({Height:"height",Width:"width"},function(v,A){k.each({padding:"inner"+v,content:A,"":"outer"+v},function(C,S){k.fn[S]=function(B,Z){var Y=arguments.length&&(C||"boolean"!=typeof B),le=C||(!0===B||!0===Z?"margin":"border");return Wr(this,function(se,ve,de){var Pe;return lt(se)?0===S.indexOf("outer")?se["inner"+v]:se.document.documentElement["client"+v]:9===se.nodeType?(Pe=se.documentElement,Math.max(se.body["scroll"+v],Pe["scroll"+v],se.body["offset"+v],Pe["offset"+v],Pe["client"+v])):void 0===de?k.css(se,ve,le):k.style(se,ve,de,le)},A,Y?B:void 0,Y)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(v,A){k.fn[A]=function(C){return this.on(A,C)}}),k.fn.extend({bind:function(v,A,C){return this.on(v,null,A,C)},unbind:function(v,A){return this.off(v,null,A)},delegate:function(v,A,C,S){return this.on(A,v,C,S)},undelegate:function(v,A,C){return 1===arguments.length?this.off(v,"**"):this.off(A,v||"**",C)},hover:function(v,A){return this.mouseenter(v).mouseleave(A||v)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(v,A){k.fn[A]=function(C,S){return 0<arguments.length?this.on(A,null,C,S):this.trigger(A)}});var Lo=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(v,A){var C,S,B;if("string"==typeof A&&(C=v[A],A=v,v=C),vt(v))return S=Nr.call(arguments,2),(B=function(){return v.apply(A||this,S.concat(Nr.call(arguments)))}).guid=v.guid=v.guid||k.guid++,B},k.holdReady=function(v){v?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=vr,k.isFunction=vt,k.isWindow=lt,k.camelCase=Rn,k.type=Or,k.now=Date.now,k.isNumeric=function(v){var A=k.type(v);return("number"===A||"string"===A)&&!isNaN(v-parseFloat(v))},k.trim=function(v){return null==v?"":(v+"").replace(Lo,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var dn=X.jQuery,Sa=X.$;return k.noConflict=function(v){return X.$===k&&(X.$=Sa),v&&X.jQuery===k&&(X.jQuery=dn),k},void 0===Je&&(X.jQuery=X.$=k),k}),function(){var X,Nr="Expected a function",Tr="__lodash_hash_undefined__",Un="__lodash_placeholder__",k=128,Ei=1/0,wi=9007199254740991,Ke=4294967295,Ia=[["ary",k],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ni="[object Arguments]",on="[object Array]",Wr="[object Boolean]",Ra="[object Date]",is="[object Error]",Rn="[object Function]",Yi="[object GeneratorFunction]",ln="[object Map]",L="[object Number]",te="[object Object]",pe="[object Promise]",Le="[object RegExp]",qe="[object Set]",At="[object String]",$t="[object Symbol]",kr="[object WeakMap]",An="[object ArrayBuffer]",Dn="[object DataView]",Hn="[object Float32Array]",ar="[object Float64Array]",qr="[object Int8Array]",fn="[object Int16Array]",Jt="[object Int32Array]",Ze="[object Uint8Array]",Jr="[object Uint8ClampedArray]",In="[object Uint16Array]",Ga="[object Uint32Array]",R0=/\b__p \+= '';/g,Cs=/\b(__p \+=) '' \+/g,xs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ci=/&(?:amp|lt|gt|quot|#39);/g,wa=/[&<>"']/g,hi=RegExp(Ci.source),Ui=RegExp(wa.source),Vi=/<%-([\s\S]+?)%>/g,Ss=/<%([\s\S]+?)%>/g,To=/<%=([\s\S]+?)%>/g,io=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i0=/^\w*$/,G0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,as=/[\\^$.*+?()[\]{}|]/g,Dr=RegExp(as.source),b=/^\s+/,D=/\s/,Ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,R=/\{\n\/\* \[wrapped with (.+)\] \*/,ee=/,? & /,Ar=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/[()=,{}\[\]\/\s]/,Gn=/\\(\\)?/g,ss=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,tn=/^[-+]0x[0-9a-f]+$/i,ii=/^0b[01]+$/i,Ms=/^\[object .+?Constructor\]$/,re=/^0o[0-7]+$/i,Xn=/^(?:0|[1-9]\d*)$/,he=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ns=/($^)/,ko=/['\n\r\u2028\u2029\\]/g,ja="\\ud800-\\udfff",sa="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ca="\\u2700-\\u27bf",xi="a-z\\xdf-\\xf6\\xf8-\\xff",la="A-Z\\xc0-\\xd6\\xd8-\\xde",Si="\\ufe0e\\ufe0f",os="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Za="["+ja+"]",Pi="["+os+"]",ls="["+sa+"]",so="\\d+",Bi="["+Ca+"]",bn="["+xi+"]",oo="[^"+ja+os+so+Ca+xi+la+"]",Ts="\\ud83c[\\udffb-\\udfff]",lo="[^"+ja+"]",ua="(?:\\ud83c[\\udde6-\\uddff]){2}",xa="[\\ud800-\\udbff][\\udc00-\\udfff]",_r="["+la+"]",Ds="(?:"+bn+"|"+oo+")",a0="(?:"+_r+"|"+oo+")",zs="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",uo="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",s0="(?:"+ls+"|"+Ts+")?",j0="["+Si+"]?",Fa=j0+s0+"(?:\\u200d(?:"+[lo,ua,xa].join("|")+")"+j0+s0+")*",l0="(?:"+[Bi,ua,xa].join("|")+")"+Fa,ye="(?:"+[lo+ls+"?",ls,ua,xa,Za].join("|")+")",xr=RegExp("['\u2019]","g"),Hi=RegExp(ls,"g"),Mi=RegExp(Ts+"(?="+Ts+")|"+ye+Fa,"g"),u0=RegExp([_r+"?"+bn+"+"+zs+"(?="+[Pi,_r,"$"].join("|")+")",a0+"+"+uo+"(?="+[Pi,_r+Ds,"$"].join("|")+")",_r+"?"+Ds+"+"+zs,_r+"+"+uo,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",so,l0].join("|"),"g"),co=RegExp("[\\u200d"+ja+sa+Si+"]"),ca=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ho=-1,We={};We[Hn]=We[ar]=We[qr]=We[fn]=We[Jt]=We[Ze]=We[Jr]=We[In]=We[Ga]=!0,We[ni]=We[on]=We[An]=We[Wr]=We[Dn]=We[Ra]=We[is]=We[Rn]=We[ln]=We[L]=We[te]=We[Le]=We[qe]=We[At]=We[kr]=!1;var er={};er[ni]=er[on]=er[An]=er[Dn]=er[Wr]=er[Ra]=er[Hn]=er[ar]=er[qr]=er[fn]=er[Jt]=er[ln]=er[L]=er[te]=er[Le]=er[qe]=er[At]=er[$t]=er[Ze]=er[Jr]=er[In]=er[Ga]=!0,er[is]=er[Rn]=er[kr]=!1;var v={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},A=parseFloat,C=parseInt,S="object"==typeof global&&global&&global.Object===Object&&global,B="object"==typeof self&&self&&self.Object===Object&&self,Z=S||B||Function("return this")(),Y="object"==typeof exports&&exports&&!exports.nodeType&&exports,le=Y&&"object"==typeof module&&module&&!module.nodeType&&module,se=le&&le.exports===Y,ve=se&&S.process,de=function(){try{return le&&le.require&&le.require("util").types||ve&&ve.binding&&ve.binding("util")}catch(Te){}}(),Pe=de&&de.isArrayBuffer,Ie=de&&de.isDate,we=de&&de.isMap,He=de&&de.isRegExp,ut=de&&de.isSet,rt=de&&de.isTypedArray;function Me(fe,Te,Ce){switch(Ce.length){case 0:return fe.call(Te);case 1:return fe.call(Te,Ce[0]);case 2:return fe.call(Te,Ce[0],Ce[1]);case 3:return fe.call(Te,Ce[0],Ce[1],Ce[2])}return fe.apply(Te,Ce)}function sr(fe,Te,Ce,G){for(var $=-1,ue=null==fe?0:fe.length;++$<ue;){var xe=fe[$];Te(G,xe,Ce(xe),fe)}return G}function Sr(fe,Te){for(var Ce=-1,G=null==fe?0:fe.length;++Ce<G&&!1!==Te(fe[Ce],Ce,fe););return fe}function _t(fe,Te){for(var Ce=null==fe?0:fe.length;Ce--&&!1!==Te(fe[Ce],Ce,fe););return fe}function ct(fe,Te){for(var Ce=-1,G=null==fe?0:fe.length;++Ce<G;)if(!Te(fe[Ce],Ce,fe))return!1;return!0}function fr(fe,Te){for(var Ce=-1,G=null==fe?0:fe.length,$=0,ue=[];++Ce<G;){var xe=fe[Ce];Te(xe,Ce,fe)&&(ue[$++]=xe)}return ue}function ot(fe,Te){return!(null==fe||!fe.length)&&gn(fe,Te,0)>-1}function dr(fe,Te,Ce){for(var G=-1,$=null==fe?0:fe.length;++G<$;)if(Ce(Te,fe[G]))return!0;return!1}function Ir(fe,Te){for(var Ce=-1,G=null==fe?0:fe.length,$=Array(G);++Ce<G;)$[Ce]=Te(fe[Ce],Ce,fe);return $}function Oi(fe,Te){for(var Ce=-1,G=Te.length,$=fe.length;++Ce<G;)fe[$+Ce]=Te[Ce];return fe}function qn(fe,Te,Ce,G){var $=-1,ue=null==fe?0:fe.length;for(G&&ue&&(Ce=fe[++$]);++$<ue;)Ce=Te(Ce,fe[$],$,fe);return Ce}function Ma(fe,Te,Ce,G){var $=null==fe?0:fe.length;for(G&&$&&(Ce=fe[--$]);$--;)Ce=Te(Ce,fe[$],$,fe);return Ce}function Na(fe,Te){for(var Ce=-1,G=null==fe?0:fe.length;++Ce<G;)if(Te(fe[Ce],Ce,fe))return!0;return!1}var wn=Lr("length");function Gr(fe,Te,Ce){var G;return Ce(fe,function($,ue,xe){if(Te($,ue,xe))return G=ue,!1}),G}function Zn(fe,Te,Ce,G){for(var $=fe.length,ue=Ce+(G?1:-1);G?ue--:++ue<$;)if(Te(fe[ue],ue,fe))return ue;return-1}function gn(fe,Te,Ce){return Te==Te?function _a(fe,Te,Ce){for(var G=Ce-1,$=fe.length;++G<$;)if(fe[G]===Te)return G;return-1}(fe,Te,Ce):Zn(fe,Ye,Ce)}function un(fe,Te,Ce,G){for(var $=Ce-1,ue=fe.length;++$<ue;)if(G(fe[$],Te))return $;return-1}function Ye(fe){return fe!=fe}function Gt(fe,Te){var Ce=null==fe?0:fe.length;return Ce?Ri(fe,Te)/Ce:NaN}function Lr(fe){return function(Te){return null==Te?X:Te[fe]}}function cn(fe){return function(Te){return null==fe?X:fe[Te]}}function Yr(fe,Te,Ce,G,$){return $(fe,function(ue,xe,ce){Ce=G?(G=!1,ue):Te(Ce,ue,xe,ce)}),Ce}function Ri(fe,Te){for(var Ce,G=-1,$=fe.length;++G<$;){var ue=Te(fe[G]);ue!==X&&(Ce=Ce===X?ue:Ce+ue)}return Ce}function hs(fe,Te){for(var Ce=-1,G=Array(fe);++Ce<fe;)G[Ce]=Te(Ce);return G}function Po(fe){return fe&&fe.slice(0,Ps(fe)+1).replace(b,"")}function fi(fe){return function(Te){return fe(Te)}}function Ls(fe,Te){return Ir(Te,function(Ce){return fe[Ce]})}function Es(fe,Te){return fe.has(Te)}function Bo(fe,Te){for(var Ce=-1,G=fe.length;++Ce<G&&gn(Te,fe[Ce],0)>-1;);return Ce}function Oo(fe,Te){for(var Ce=fe.length;Ce--&&gn(Te,fe[Ce],0)>-1;);return Ce}function Wa(fe,Te){for(var Ce=fe.length,G=0;Ce--;)fe[Ce]===Te&&++G;return G}var c0=cn({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),fo=cn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xi(fe){return"\\"+v[fe]}function ha(fe){return co.test(fe)}function Go(fe){var Te=-1,Ce=Array(fe.size);return fe.forEach(function(G,$){Ce[++Te]=[$,G]}),Ce}function pr(fe,Te){return function(Ce){return fe(Te(Ce))}}function di(fe,Te){for(var Ce=-1,G=fe.length,$=0,ue=[];++Ce<G;){var xe=fe[Ce];(xe===Te||xe===Un)&&(fe[Ce]=Un,ue[$++]=Ce)}return ue}function Fn(fe){var Te=-1,Ce=Array(fe.size);return fe.forEach(function(G){Ce[++Te]=G}),Ce}function fs(fe){return ha(fe)?function go(fe){for(var Te=Mi.lastIndex=0;Mi.test(fe);)++Te;return Te}(fe):wn(fe)}function vi(fe){return ha(fe)?function f0(fe){return fe.match(Mi)||[]}(fe):function cs(fe){return fe.split("")}(fe)}function Ps(fe){for(var Te=fe.length;Te--&&D.test(fe.charAt(Te)););return Te}var fa=cn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),oi=function fe(Te){var n,Ce=(Te=null==Te?Z:oi.defaults(Z.Object(),Te,oi.pick(Z,zn))).Array,G=Te.Date,$=Te.Error,ue=Te.Function,xe=Te.Math,ce=Te.Object,Oe=Te.RegExp,Re=Te.String,_e=Te.TypeError,Qe=Ce.prototype,pt=ce.prototype,yt=Te["__core-js_shared__"],Pt=ue.prototype.toString,bt=pt.hasOwnProperty,It=0,Qr=(n=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",F=pt.toString,Er=Pt.call(ce),Vt=Z._,Gi=Oe("^"+Pt.call(bt).replace(as,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=se?Te.Buffer:X,mr=Te.Symbol,$r=Te.Uint8Array,Ya=Ur?Ur.allocUnsafe:X,pi=pr(ce.getPrototypeOf,ce),Zo=ce.create,qi=pt.propertyIsEnumerable,Fo=Qe.splice,gl=mr?mr.isConcatSpreadable:X,Bs=mr?mr.iterator:X,Os=mr?mr.toStringTag:X,Ti=function(){try{var n=Ko(ce,"defineProperty");return n({},"",{}),n}catch(a){}}(),ds=Te.clearTimeout!==Z.clearTimeout&&Te.clearTimeout,mo=G&&G.now!==Z.Date.now&&G.now,mi=Te.setTimeout!==Z.setTimeout&&Te.setTimeout,Rs=xe.ceil,gs=xe.floor,yo=ce.getOwnPropertySymbols,F0=Ur?Ur.isBuffer:X,Wo=Te.isFinite,d0=Qe.join,W0=pr(ce.keys,ce),ft=xe.max,Ln=xe.min,_o=G.now,g0=Te.parseInt,v0=xe.random,_0=Qe.reverse,Ua=Ko(Te,"DataView"),Va=Ko(Te,"Map"),p0=Ko(Te,"Promise"),Ao=Ko(Te,"Set"),Gs=Ko(Te,"WeakMap"),oe=Ko(ce,"create"),Ha=Gs&&new Gs,Xa={},Y0=Ft(Ua),et=Ft(Va),js=Ft(p0),U0=Ft(Ao),Io=Ft(Gs),bo=mr?mr.prototype:X,Cn=bo?bo.valueOf:X,V0=bo?bo.toString:X;function W(n){if(Sn(n)&&!Ot(n)&&!(n instanceof Ht)){if(n instanceof Jn)return n;if(bt.call(n,"__wrapped__"))return yc(n)}return new Jn(n)}var wo=function(){function n(){}return function(a){if(!pn(a))return{};if(Zo)return Zo(a);n.prototype=a;var o=new n;return n.prototype=X,o}}();function Yo(){}function Jn(n,a){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=X}function Ht(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ke,this.__views__=[]}function Zs(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var c=n[a];this.set(c[0],c[1])}}function Ta(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var c=n[a];this.set(c[0],c[1])}}function it(n){var a=-1,o=null==n?0:n.length;for(this.clear();++a<o;){var c=n[a];this.set(c[0],c[1])}}function qa(n){var a=-1,o=null==n?0:n.length;for(this.__data__=new it;++a<o;)this.add(n[a])}function _n(n){var a=this.__data__=new Ta(n);this.size=a.size}function ms(n,a){var o=Ot(n),c=!o&&e0(n),y=!o&&!c&&rs(n),w=!o&&!c&&!y&&B0(n),T=o||c||y||w,E=T?hs(n.length,Re):[],j=E.length;for(var J in n)(a||bt.call(n,J))&&(!T||!("length"==J||y&&("offset"==J||"parent"==J)||w&&("buffer"==J||"byteLength"==J||"byteOffset"==J)||Ks(J,j)))&&E.push(J);return E}function b0(n){var a=n.length;return a?n[li(0,a-1)]:X}function bl(n,a){return za(Pn(n),q(a,0,n.length))}function M(n){return za(Pn(n))}function u(n,a,o){(o!==X&&!ts(n[a],o)||o===X&&!(a in n))&&P(n,a,o)}function h(n,a,o){var c=n[a];(!bt.call(n,a)||!ts(c,o)||o===X&&!(a in n))&&P(n,a,o)}function d(n,a){for(var o=n.length;o--;)if(ts(n[o][0],a))return o;return-1}function m(n,a,o,c){return Ue(n,function(y,w,T){a(c,y,o(y),T)}),c}function I(n,a){return n&&ka(a,ci(a),n)}function P(n,a,o){"__proto__"==a&&Ti?Ti(n,a,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[a]=o}function _(n,a){for(var o=-1,c=a.length,y=Ce(c),w=null==n;++o<c;)y[o]=w?X:Uu(n,a[o]);return y}function q(n,a,o){return n==n&&(o!==X&&(n=n<=o?n:o),a!==X&&(n=n>=a?n:a)),n}function ae(n,a,o,c,y,w){var T,E=1&a,j=2&a,J=4&a;if(o&&(T=y?o(n,c,y,w):o(n)),T!==X)return T;if(!pn(n))return n;var K=Ot(n);if(K){if(T=function Ph(n){var a=n.length,o=new n.constructor(a);return a&&"string"==typeof n[0]&&bt.call(n,"index")&&(o.index=n.index,o.input=n.input),o}(n),!E)return Pn(n,T)}else{var x=bi(n),z=x==Rn||x==Yi;if(rs(n))return Ml(n,E);if(x==te||x==ni||z&&!y){if(T=j||z?{}:gc(n),!E)return j?function zh(n,a){return ka(n,Js(n),a)}(n,function N(n,a){return n&&ka(a,ta(a),n)}(T,n)):function Hs(n,a){return ka(n,il(n),a)}(n,I(T,n))}else{if(!er[x])return y?n:{};T=function Bh(n,a,o){var c=n.constructor;switch(a){case An:return au(n);case Wr:case Ra:return new c(+n);case Dn:return function va(n,a){var o=a?au(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}(n,o);case Hn:case ar:case qr:case fn:case Jt:case Ze:case Jr:case In:case Ga:return Yn(n,o);case ln:return new c;case L:case At:return new c(n);case Le:return function ac(n){var a=new n.constructor(n.source,dt.exec(n));return a.lastIndex=n.lastIndex,a}(n);case qe:return new c;case $t:return function sc(n){return Cn?ce(Cn.call(n)):{}}(n)}}(n,x,E)}}w||(w=new _n);var O=w.get(n);if(O)return O;w.set(n,T),ih(n)?n.forEach(function(ie){T.add(ae(ie,a,o,ie,n,w))}):th(n)&&n.forEach(function(ie,ne){T.set(ne,ae(ie,a,o,ne,n,w))});var Q=K?X:(J?j?fu:nl:j?ta:ci)(n);return Sr(Q||n,function(ie,ne){Q&&(ie=n[ne=ie]),h(T,ne,ae(ie,a,o,ne,n,w))}),T}function ze(n,a,o){var c=o.length;if(null==n)return!c;for(n=ce(n);c--;){var y=o[c],T=n[y];if(T===X&&!(y in n)||!(0,a[y])(T))return!1}return!0}function Be(n,a,o){if("function"!=typeof n)throw new _e(Nr);return al(function(){n.apply(X,o)},a)}function Ee(n,a,o,c){var y=-1,w=ot,T=!0,E=n.length,j=[],J=a.length;if(!E)return j;o&&(a=Ir(a,fi(o))),c?(w=dr,T=!1):a.length>=200&&(w=Es,T=!1,a=new qa(a));e:for(;++y<E;){var K=n[y],x=null==o?K:o(K);if(K=c||0!==K?K:0,T&&x==x){for(var z=J;z--;)if(a[z]===x)continue e;j.push(K)}else w(a,x,c)||j.push(K)}return j}W.templateSettings={escape:Vi,evaluate:Ss,interpolate:To,variable:"",imports:{_:W}},(W.prototype=Yo.prototype).constructor=W,(Jn.prototype=wo(Yo.prototype)).constructor=Jn,(Ht.prototype=wo(Yo.prototype)).constructor=Ht,Zs.prototype.clear=function pl(){this.__data__=oe?oe(null):{},this.size=0},Zs.prototype.delete=function ml(n){var a=this.has(n)&&delete this.__data__[n];return this.size-=a?1:0,a},Zs.prototype.get=function m0(n){var a=this.__data__;if(oe){var o=a[n];return o===Tr?X:o}return bt.call(a,n)?a[n]:X},Zs.prototype.has=function Pr(n){var a=this.__data__;return oe?a[n]!==X:bt.call(a,n)},Zs.prototype.set=function y0(n,a){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=oe&&a===X?Tr:a,this},Ta.prototype.clear=function yl(){this.__data__=[],this.size=0},Ta.prototype.delete=function Al(n){var a=this.__data__,o=d(a,n);return!(o<0||(o==a.length-1?a.pop():Fo.call(a,o,1),--this.size,0))},Ta.prototype.get=function H0(n){var a=this.__data__,o=d(a,n);return o<0?X:a[o][1]},Ta.prototype.has=function or(n){return d(this.__data__,n)>-1},Ta.prototype.set=function Fs(n,a){var o=this.__data__,c=d(o,n);return c<0?(++this.size,o.push([n,a])):o[c][1]=a,this},it.prototype.clear=function Ji(){this.size=0,this.__data__={hash:new Zs,map:new(Va||Ta),string:new Zs}},it.prototype.delete=function vs(n){var a=Ll(this,n).delete(n);return this.size-=a?1:0,a},it.prototype.get=function Wn(n){return Ll(this,n).get(n)},it.prototype.has=function Il(n){return Ll(this,n).has(n)},it.prototype.set=function yi(n,a){var o=Ll(this,n),c=o.size;return o.set(n,a),this.size+=o.size==c?0:1,this},qa.prototype.add=qa.prototype.push=function ps(n){return this.__data__.set(n,Tr),this},qa.prototype.has=function X0(n){return this.__data__.has(n)},_n.prototype.clear=function A0(){this.__data__=new Ta,this.size=0},_n.prototype.delete=function Ql(n){var a=this.__data__,o=a.delete(n);return this.size=a.size,o},_n.prototype.get=function $l(n){return this.__data__.get(n)},_n.prototype.has=function Ai(n){return this.__data__.has(n)},_n.prototype.set=function I0(n,a){var o=this.__data__;if(o instanceof Ta){var c=o.__data__;if(!Va||c.length<199)return c.push([n,a]),this.size=++o.size,this;o=this.__data__=new it(c)}return o.set(n,a),this.size=o.size,this};var Ue=ou(Yt),Xe=ou(jr,!0);function at(n,a){var o=!0;return Ue(n,function(c,y,w){return o=!!a(c,y,w)}),o}function ht(n,a,o){for(var c=-1,y=n.length;++c<y;){var w=n[c],T=a(w);if(null!=T&&(E===X?T==T&&!ya(T):o(T,E)))var E=T,j=w}return j}function lr(n,a){var o=[];return Ue(n,function(c,y,w){a(c,y,w)&&o.push(c)}),o}function mt(n,a,o,c,y){var w=-1,T=n.length;for(o||(o=Rh),y||(y=[]);++w<T;){var E=n[w];a>0&&o(E)?a>1?mt(E,a-1,o,c,y):Oi(y,E):c||(y[y.length]=E)}return y}var ur=lu(),Xt=lu(!0);function Yt(n,a){return n&&ur(n,a,ci)}function jr(n,a){return n&&Xt(n,a,ci)}function Kt(n,a){return fr(a,function(o){return ma(n[o])})}function En(n,a){for(var o=0,c=(a=Qa(a,n)).length;null!=n&&o<c;)n=n[Lt(a[o++])];return o&&o==c?n:X}function ki(n,a,o){var c=a(n);return Ot(n)?c:Oi(c,o(n))}function nn(n){return null==n?n===X?"[object Undefined]":"[object Null]":Os&&Os in ce(n)?function Eh(n){var a=bt.call(n,Os),o=n[Os];try{n[Os]=X;var c=!0}catch(w){}var y=F.call(n);return c&&(a?n[Os]=o:delete n[Os]),y}(n):function Qs(n){return F.call(n)}(n)}function be(n,a){return n>a}function Vr(n,a){return null!=n&&bt.call(n,a)}function Kn(n,a){return null!=n&&a in ce(n)}function Ja(n,a,o){for(var c=o?dr:ot,y=n[0].length,w=n.length,T=w,E=Ce(w),j=1/0,J=[];T--;){var K=n[T];T&&a&&(K=Ir(K,fi(a))),j=Ln(K.length,j),E[T]=!o&&(a||y>=120&&K.length>=120)?new qa(T&&K):X}K=n[0];var x=-1,z=E[0];e:for(;++x<y&&J.length<j;){var O=K[x],U=a?a(O):O;if(O=o||0!==O?O:0,!(z?Es(z,U):c(J,U,o))){for(T=w;--T;){var Q=E[T];if(!(Q?Es(Q,U):c(n[T],U,o)))continue e}z&&z.push(U),J.push(O)}}return J}function Ki(n,a,o){var c=null==(n=pa(n,a=Qa(a,n)))?n:n[Lt(La(a))];return null==c?X:Me(c,n,o)}function ys(n){return Sn(n)&&nn(n)==ni}function Co(n,a,o,c,y){return n===a||(null==n||null==a||!Sn(n)&&!Sn(a)?n!=n&&a!=a:function Ws(n,a,o,c,y,w){var T=Ot(n),E=Ot(a),j=T?on:bi(n),J=E?on:bi(a),K=(j=j==ni?te:j)==te,x=(J=J==ni?te:J)==te,z=j==J;if(z&&rs(n)){if(!rs(a))return!1;T=!0,K=!1}if(z&&!K)return w||(w=new _n),T||B0(n)?cc(n,a,o,c,y,w):function hc(n,a,o,c,y,w,T){switch(o){case Dn:if(n.byteLength!=a.byteLength||n.byteOffset!=a.byteOffset)return!1;n=n.buffer,a=a.buffer;case An:return!(n.byteLength!=a.byteLength||!w(new $r(n),new $r(a)));case Wr:case Ra:case L:return ts(+n,+a);case is:return n.name==a.name&&n.message==a.message;case Le:case At:return n==a+"";case ln:var E=Go;case qe:if(E||(E=Fn),n.size!=a.size&&!(1&c))return!1;var J=T.get(n);if(J)return J==a;c|=2,T.set(n,a);var K=cc(E(n),E(a),c,y,w,T);return T.delete(n),K;case $t:if(Cn)return Cn.call(n)==Cn.call(a)}return!1}(n,a,j,o,c,y,w);if(!(1&o)){var O=K&&bt.call(n,"__wrapped__"),U=x&&bt.call(a,"__wrapped__");if(O||U){var Q=O?n.value():n,ie=U?a.value():a;return w||(w=new _n),y(Q,ie,o,c,w)}}return!!z&&(w||(w=new _n),function rl(n,a,o,c,y,w){var T=1&o,E=nl(n),j=E.length;if(j!=nl(a).length&&!T)return!1;for(var x=j;x--;){var z=E[x];if(!(T?z in a:bt.call(a,z)))return!1}var O=w.get(n),U=w.get(a);if(O&&U)return O==a&&U==n;var Q=!0;w.set(n,a),w.set(a,n);for(var ie=T;++x<j;){var ne=n[z=E[x]],ge=a[z];if(c)var ke=T?c(ge,ne,z,a,n,w):c(ne,ge,z,n,a,w);if(!(ke===X?ne===ge||y(ne,ge,o,c,w):ke)){Q=!1;break}ie||(ie="constructor"==z)}if(Q&&!ie){var Ne=n.constructor,je=a.constructor;Ne!=je&&"constructor"in n&&"constructor"in a&&!("function"==typeof Ne&&Ne instanceof Ne&&"function"==typeof je&&je instanceof je)&&(Q=!1)}return w.delete(n),w.delete(a),Q}(n,a,o,c,y,w))}(n,a,o,c,Co,y))}function Ka(n,a,o,c){var y=o.length,w=y,T=!c;if(null==n)return!w;for(n=ce(n);y--;){var E=o[y];if(T&&E[2]?E[1]!==n[E[0]]:!(E[0]in n))return!1}for(;++y<w;){var j=(E=o[y])[0],J=n[j],K=E[1];if(T&&E[2]){if(J===X&&!(j in n))return!1}else{var x=new _n;if(c)var z=c(J,K,j,n,a,x);if(!(z===X?Co(K,J,3,c,x):z))return!1}}return!0}function cr(n){return!(!pn(n)||function jh(n){return!!Qr&&Qr in n}(n))&&(ma(n)?Gi:Ms).test(Ft(n))}function Qn(n){return"function"==typeof n?n:null==n?ra:"object"==typeof n?Ot(n)?xo(n[0],n[1]):M0(n):xh(n)}function x0(n){if(!vn(n))return W0(n);var a=[];for(var o in ce(n))bt.call(n,o)&&"constructor"!=o&&a.push(o);return a}function Ho(n,a){return n<a}function S0(n,a){var o=-1,c=ei(n)?Ce(n.length):[];return Ue(n,function(y,w,T){c[++o]=a(y,w,T)}),c}function M0(n){var a=gu(n);return 1==a.length&&a[0][2]?vc(a[0][0],a[0][1]):function(o){return o===n||Ka(o,n,a)}}function xo(n,a){return pu(n)&&Au(a)?vc(Lt(n),a):function(o){var c=Uu(o,n);return c===X&&c===a?Vu(o,n):Co(a,c,3)}}function Vs(n,a,o,c,y){n!==a&&ur(a,function(w,T){if(y||(y=new _n),pn(w))!function Nh(n,a,o,c,y,w,T){var E=Iu(n,o),j=Iu(a,o),J=T.get(j);if(J)u(n,o,J);else{var K=w?w(E,j,o+"",n,a,T):X,x=K===X;if(x){var z=Ot(j),O=!z&&rs(j),U=!z&&!O&&B0(j);K=j,z||O||U?Ot(E)?K=E:xn(E)?K=Pn(E):O?(x=!1,K=Ml(j,!0)):U?(x=!1,K=Yn(j,!0)):K=[]:No(j)||e0(j)?(K=E,e0(E)?K=sh(E):(!pn(E)||ma(E))&&(K=gc(j))):x=!1}x&&(T.set(j,K),y(K,j,c,w,T),T.delete(j)),u(n,o,K)}}(n,a,T,o,Vs,c,y);else{var E=c?c(Iu(n,T),w,T+"",n,a,y):X;E===X&&(E=w),u(n,T,E)}},ta)}function tu(n,a){var o=n.length;if(o)return Ks(a+=a<0?o:0,o)?n[a]:X}function tc(n,a,o){a=a.length?Ir(a,function(w){return Ot(w)?function(T){return En(T,1===w.length?w[0]:w)}:w}):[ra];var c=-1;return a=Ir(a,fi(Tt())),function ai(fe,Te){var Ce=fe.length;for(fe.sort(Te);Ce--;)fe[Ce]=fe[Ce].value;return fe}(S0(n,function(w,T,E){return{criteria:Ir(a,function(J){return J(w)}),index:++c,value:w}}),function(w,T){return function an(n,a,o){for(var c=-1,y=n.criteria,w=a.criteria,T=y.length,E=o.length;++c<T;){var j=su(y[c],w[c]);if(j)return c>=E?j:j*("desc"==o[c]?-1:1)}return n.index-a.index}(w,T,o)})}function ru(n,a,o){for(var c=-1,y=a.length,w={};++c<y;){var T=a[c],E=En(n,T);o(E,T)&&gt(w,Qa(T,n),E)}return w}function wl(n,a,o,c){var y=c?un:gn,w=-1,T=a.length,E=n;for(n===a&&(a=Pn(a)),o&&(E=Ir(n,fi(o)));++w<T;)for(var j=0,J=a[w],K=o?o(J):J;(j=y(E,K,j,c))>-1;)E!==n&&Fo.call(E,j,1),Fo.call(n,j,1);return n}function rc(n,a){for(var o=n?a.length:0,c=o-1;o--;){var y=a[o];if(o==c||y!==w){var w=y;Ks(y)?Fo.call(n,y,1):Zt(n,y)}}return n}function li(n,a){return n+gs(v0()*(a-n+1))}function Cl(n,a){var o="";if(!n||a<1||a>wi)return o;do{a%2&&(o+=n),(a=gs(a/2))&&(n+=n)}while(a);return o}function qt(n,a){return Zi(ws(n,a,ra),n+"")}function kh(n){return b0(r0(n))}function Dh(n,a){var o=r0(n);return za(o,q(a,0,o.length))}function gt(n,a,o,c){if(!pn(n))return n;for(var y=-1,w=(a=Qa(a,n)).length,T=w-1,E=n;null!=E&&++y<w;){var j=Lt(a[y]),J=o;if("__proto__"===j||"constructor"===j||"prototype"===j)return n;if(y!=T){var K=E[j];(J=c?c(K,j,E):X)===X&&(J=pn(K)?K:Ks(a[y+1])?[]:{})}h(E,j,J),E=E[j]}return n}var $i=Ha?function(n,a){return Ha.set(n,a),n}:ra,xl=Ti?function(n,a){return Ti(n,"toString",{configurable:!0,enumerable:!1,value:Ju(a),writable:!0})}:ra;function ga(n){return za(r0(n))}function ea(n,a,o){var c=-1,y=n.length;a<0&&(a=-a>y?0:y+a),(o=o>y?y:o)<0&&(o+=y),y=a>o?0:o-a>>>0,a>>>=0;for(var w=Ce(y);++c<y;)w[c]=n[c+a];return w}function Xo(n,a){var o;return Ue(n,function(c,y,w){return!(o=a(c,y,w))}),!!o}function Di(n,a,o){var c=0,y=null==n?c:n.length;if("number"==typeof a&&a==a&&y<=2147483647){for(;c<y;){var w=c+y>>>1,T=n[w];null!==T&&!ya(T)&&(o?T<=a:T<a)?c=w+1:y=w}return y}return Ii(n,a,ra,o)}function Ii(n,a,o,c){var y=0,w=null==n?0:n.length;if(0===w)return 0;for(var T=(a=o(a))!=a,E=null===a,j=ya(a),J=a===X;y<w;){var K=gs((y+w)/2),x=o(n[K]),z=x!==X,O=null===x,U=x==x,Q=ya(x);if(T)var ie=c||U;else ie=J?U&&(c||z):E?U&&z&&(c||!O):j?U&&z&&!O&&(c||!Q):!O&&!Q&&(c?x<=a:x<a);ie?y=K+1:w=K}return Ln(w,4294967294)}function As(n,a){for(var o=-1,c=n.length,y=0,w=[];++o<c;){var T=n[o],E=a?a(T):T;if(!o||!ts(E,j)){var j=E;w[y++]=0===T?0:T}}return w}function qo(n){return"number"==typeof n?n:ya(n)?NaN:+n}function Bt(n){if("string"==typeof n)return n;if(Ot(n))return Ir(n,Bt)+"";if(ya(n))return V0?V0.call(n):"";var a=n+"";return"0"==a&&1/n==-Ei?"-0":a}function en(n,a,o){var c=-1,y=ot,w=n.length,T=!0,E=[],j=E;if(o)T=!1,y=dr;else if(w>=200){var J=a?null:uc(n);if(J)return Fn(J);T=!1,y=Es,j=new qa}else j=a?[]:E;e:for(;++c<w;){var K=n[c],x=a?a(K):K;if(K=o||0!==K?K:0,T&&x==x){for(var z=j.length;z--;)if(j[z]===x)continue e;a&&j.push(x),E.push(K)}else y(j,x,o)||(j!==E&&j.push(x),E.push(K))}return E}function Zt(n,a){return null==(n=pa(n,a=Qa(a,n)))||delete n[Lt(La(a))]}function nc(n,a,o,c){return gt(n,a,o(En(n,a)),c)}function q0(n,a,o,c){for(var y=n.length,w=c?y:-1;(c?w--:++w<y)&&a(n[w],w,n););return o?ea(n,c?0:w,c?w+1:y):ea(n,c?w+1:0,c?y:w)}function ic(n,a){var o=n;return o instanceof Ht&&(o=o.value()),qn(a,function(c,y){return y.func.apply(y.thisArg,Oi([c],y.args))},o)}function Sl(n,a,o){var c=n.length;if(c<2)return c?en(n[0]):[];for(var y=-1,w=Ce(c);++y<c;)for(var T=n[y],E=-1;++E<c;)E!=y&&(w[y]=Ee(w[y]||T,n[E],a,o));return en(mt(w,1),a,o)}function J0(n,a,o){for(var c=-1,y=n.length,w=a.length,T={};++c<y;)o(T,n[c],c<w?a[c]:X);return T}function K0(n){return xn(n)?n:[]}function iu(n){return"function"==typeof n?n:ra}function Qa(n,a){return Ot(n)?n:pu(n,a)?[n]:Qo(Mr(n))}var $a=qt;function Hr(n,a,o){var c=n.length;return o=o===X?c:o,!a&&o>=c?n:ea(n,a,o)}var Is=ds||function(n){return Z.clearTimeout(n)};function Ml(n,a){if(a)return n.slice();var o=n.length,c=Ya?Ya(o):new n.constructor(o);return n.copy(c),c}function au(n){var a=new n.constructor(n.byteLength);return new $r(a).set(new $r(n)),a}function Yn(n,a){var o=a?au(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}function su(n,a){if(n!==a){var o=n!==X,c=null===n,y=n==n,w=ya(n),T=a!==X,E=null===a,j=a==a,J=ya(a);if(!E&&!J&&!w&&n>a||w&&T&&j&&!E&&!J||c&&T&&j||!o&&j||!y)return 1;if(!c&&!w&&!J&&n<a||J&&o&&y&&!c&&!w||E&&o&&y||!T&&y||!j)return-1}return 0}function zi(n,a,o,c){for(var y=-1,w=n.length,T=o.length,E=-1,j=a.length,J=ft(w-T,0),K=Ce(j+J),x=!c;++E<j;)K[E]=a[E];for(;++y<T;)(x||y<w)&&(K[o[y]]=n[y]);for(;J--;)K[E++]=n[y++];return K}function $n(n,a,o,c){for(var y=-1,w=n.length,T=-1,E=o.length,j=-1,J=a.length,K=ft(w-E,0),x=Ce(K+J),z=!c;++y<K;)x[y]=n[y];for(var O=y;++j<J;)x[O+j]=a[j];for(;++T<E;)(z||y<w)&&(x[O+o[T]]=n[y++]);return x}function Pn(n,a){var o=-1,c=n.length;for(a||(a=Ce(c));++o<c;)a[o]=n[o];return a}function ka(n,a,o,c){var y=!o;o||(o={});for(var w=-1,T=a.length;++w<T;){var E=a[w],j=c?c(o[E],n[E],E,o,n):X;j===X&&(j=n[E]),y?P(o,E,j):h(o,E,j)}return o}function Q0(n,a){return function(o,c){var y=Ot(o)?sr:m,w=a?a():{};return y(o,n,Tt(c,2),w)}}function N0(n){return qt(function(a,o){var c=-1,y=o.length,w=y>1?o[y-1]:X,T=y>2?o[2]:X;for(w=n.length>3&&"function"==typeof w?(y--,w):X,T&&ji(o[0],o[1],T)&&(w=y<3?X:w,y=1),a=ce(a);++c<y;){var E=o[c];E&&n(a,E,c,w)}return a})}function ou(n,a){return function(o,c){if(null==o)return o;if(!ei(o))return n(o,c);for(var y=o.length,w=a?y:-1,T=ce(o);(a?w--:++w<y)&&!1!==c(T[w],w,T););return o}}function lu(n){return function(a,o,c){for(var y=-1,w=ce(a),T=c(a),E=T.length;E--;){var j=T[n?E:++y];if(!1===o(w[j],j,w))break}return a}}function oc(n){return function(a){var o=ha(a=Mr(a))?vi(a):X,c=o?o[0]:a.charAt(0),y=o?Hr(o,1).join(""):a.slice(1);return c[n]()+y}}function Mo(n){return function(a){return qn(vh(gh(a).replace(xr,"")),n,"")}}function T0(n){return function(){var a=arguments;switch(a.length){case 0:return new n;case 1:return new n(a[0]);case 2:return new n(a[0],a[1]);case 3:return new n(a[0],a[1],a[2]);case 4:return new n(a[0],a[1],a[2],a[3]);case 5:return new n(a[0],a[1],a[2],a[3],a[4]);case 6:return new n(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new n(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var o=wo(n.prototype),c=n.apply(o,a);return pn(c)?c:o}}function Nl(n){return function(a,o,c){var y=ce(a);if(!ei(a)){var w=Tt(o,3);a=ci(a),o=function(E){return w(y[E],E,y)}}var T=n(a,o,c);return T>-1?y[w?a[T]:T]:X}}function Xs(n){return bs(function(a){var o=a.length,c=o,y=Jn.prototype.thru;for(n&&a.reverse();c--;){var w=a[c];if("function"!=typeof w)throw new _e(Nr);if(y&&!T&&"wrapper"==zl(w))var T=new Jn([],!0)}for(c=T?c:o;++c<o;){var E=zl(w=a[c]),j="wrapper"==E?du(w):X;T=j&&mu(j[0])&&424==j[1]&&!j[4].length&&1==j[9]?T[zl(j[0])].apply(T,j[3]):1==w.length&&mu(w)?T[E]():T.thru(w)}return function(){var J=arguments,K=J[0];if(T&&1==J.length&&Ot(K))return T.plant(K).value();for(var x=0,z=o?a[x].apply(this,J):K;++x<o;)z=a[x].call(this,z);return z}})}function Jo(n,a,o,c,y,w,T,E,j,J){var K=a&k,x=1&a,z=2&a,O=24&a,U=512&a,Q=z?X:T0(n);return function ie(){for(var ne=arguments.length,ge=Ce(ne),ke=ne;ke--;)ge[ke]=arguments[ke];if(O)var Ne=D0(ie),je=Wa(ge,Ne);if(c&&(ge=zi(ge,c,y,O)),w&&(ge=$n(ge,w,T,O)),ne-=je,O&&ne<J){var Fe=di(ge,Ne);return k0(n,a,Jo,ie.placeholder,o,ge,Fe,E,j,J-ne)}var Ve=x?o:this,st=z?Ve[n]:n;return ne=ge.length,E?ge=pc(ge,E):U&&ne>1&&ge.reverse(),K&&j<ne&&(ge.length=j),this&&this!==Z&&this instanceof ie&&(st=Q||T0(st)),st.apply(Ve,ge)}}function uu(n,a){return function(o,c){return function Uo(n,a,o,c){return Yt(n,function(y,w,T){a(c,o(y),w,T)}),c}(o,n,a(c),{})}}function $0(n,a){return function(o,c){var y;if(o===X&&c===X)return a;if(o!==X&&(y=o),c!==X){if(y===X)return c;"string"==typeof o||"string"==typeof c?(o=Bt(o),c=Bt(c)):(o=qo(o),c=qo(c)),y=n(o,c)}return y}}function Tl(n){return bs(function(a){return a=Ir(a,fi(Tt())),qt(function(o){var c=this;return n(a,function(y){return Me(y,c,o)})})})}function el(n,a){var o=(a=a===X?" ":Bt(a)).length;if(o<2)return o?Cl(a,n):a;var c=Cl(a,Rs(n/fs(a)));return ha(a)?Hr(vi(c),0,n).join(""):c.slice(0,n)}function cu(n){return function(a,o,c){return c&&"number"!=typeof c&&ji(a,o,c)&&(o=c=X),a=to(a),o===X?(o=a,a=0):o=to(o),function Th(n,a,o,c){for(var y=-1,w=ft(Rs((a-n)/(o||1)),0),T=Ce(w);w--;)T[c?w:++y]=n,n+=o;return T}(a,o,c=c===X?a<o?1:-1:to(c),n)}}function qs(n){return function(a,o){return"string"==typeof a&&"string"==typeof o||(a=Pa(a),o=Pa(o)),n(a,o)}}function k0(n,a,o,c,y,w,T,E,j,J){var K=8&a;a|=K?32:64,4&(a&=~(K?64:32))||(a&=-4);var Q=[n,a,y,K?w:X,K?T:X,K?X:w,K?X:T,E,j,J],ie=o.apply(X,Q);return mu(n)&&mc(ie,Q),ie.placeholder=c,bu(ie,n,a)}function tl(n){var a=xe[n];return function(o,c){if(o=Pa(o),(c=null==c?0:Ln(Wt(c),292))&&Wo(o)){var y=(Mr(o)+"e").split("e");return+((y=(Mr(a(y[0]+"e"+(+y[1]+c)))+"e").split("e"))[0]+"e"+(+y[1]-c))}return a(o)}}var uc=Ao&&1/Fn(new Ao([,-0]))[1]==Ei?function(n){return new Ao(n)}:Hl;function Ut(n){return function(a){var o=bi(a);return o==ln?Go(a):o==qe?function gi(fe){var Te=-1,Ce=Array(fe.size);return fe.forEach(function(G){Ce[++Te]=[G,G]}),Ce}(a):function Eo(fe,Te){return Ir(Te,function(Ce){return[Ce,fe[Ce]]})}(a,n(a))}}function es(n,a,o,c,y,w,T,E){var j=2&a;if(!j&&"function"!=typeof n)throw new _e(Nr);var J=c?c.length:0;if(J||(a&=-97,c=y=X),T=T===X?T:ft(Wt(T),0),E=E===X?E:Wt(E),J-=y?y.length:0,64&a){var K=c,x=y;c=y=X}var z=j?X:du(n),O=[n,a,o,c,y,K,x,w,T,E];if(z&&function hn(n,a){var o=n[1],c=a[1],y=o|c;if(!(y<131||(c==k&&8==o||c==k&&256==o&&n[7].length<=a[8]||384==c&&a[7].length<=a[8]&&8==o)))return n;1&c&&(n[2]=a[2],y|=1&o?0:4);var E=a[3];if(E){var j=n[3];n[3]=j?zi(j,E,a[4]):E,n[4]=j?di(n[3],Un):a[4]}(E=a[5])&&(n[5]=(j=n[5])?$n(j,E,a[6]):E,n[6]=j?di(n[5],Un):a[6]),(E=a[7])&&(n[7]=E),c&k&&(n[8]=null==n[8]?a[8]:Ln(n[8],a[8])),null==n[9]&&(n[9]=a[9]),n[0]=a[0],n[1]=y}(O,z),n=O[0],a=O[1],o=O[2],c=O[3],y=O[4],!(E=O[9]=O[9]===X?j?0:n.length:ft(O[9]-J,0))&&24&a&&(a&=-25),a&&1!=a)U=8==a||16==a?function lc(n,a,o){var c=T0(n);return function y(){for(var w=arguments.length,T=Ce(w),E=w,j=D0(y);E--;)T[E]=arguments[E];var J=w<3&&T[0]!==j&&T[w-1]!==j?[]:di(T,j);return(w-=J.length)<o?k0(n,a,Jo,y.placeholder,X,T,J,X,X,o-w):Me(this&&this!==Z&&this instanceof y?c:n,this,T)}}(n,a,E):32!=a&&33!=a||y.length?Jo.apply(X,O):function kl(n,a,o,c){var y=1&a,w=T0(n);return function T(){for(var E=-1,j=arguments.length,J=-1,K=c.length,x=Ce(K+j),z=this&&this!==Z&&this instanceof T?w:n;++J<K;)x[J]=c[J];for(;j--;)x[J++]=arguments[++E];return Me(z,y?o:this,x)}}(n,a,o,c);else var U=function Lh(n,a,o){var c=1&a,y=T0(n);return function w(){return(this&&this!==Z&&this instanceof w?y:n).apply(c?o:this,arguments)}}(n,a,o);return bu((z?$i:mc)(U,O),n,a)}function Da(n,a,o,c){return n===X||ts(n,pt[o])&&!bt.call(c,o)?a:n}function hu(n,a,o,c,y,w){return pn(n)&&pn(a)&&(w.set(a,n),Vs(n,a,X,hu,w),w.delete(a)),n}function Dl(n){return No(n)?X:n}function cc(n,a,o,c,y,w){var T=1&o,E=n.length,j=a.length;if(E!=j&&!(T&&j>E))return!1;var J=w.get(n),K=w.get(a);if(J&&K)return J==a&&K==n;var x=-1,z=!0,O=2&o?new qa:X;for(w.set(n,a),w.set(a,n);++x<E;){var U=n[x],Q=a[x];if(c)var ie=T?c(Q,U,x,a,n,w):c(U,Q,x,n,a,w);if(ie!==X){if(ie)continue;z=!1;break}if(O){if(!Na(a,function(ne,ge){if(!Es(O,ge)&&(U===ne||y(U,ne,o,c,w)))return O.push(ge)})){z=!1;break}}else if(U!==Q&&!y(U,Q,o,c,w)){z=!1;break}}return w.delete(n),w.delete(a),z}function bs(n){return Zi(ws(n,X,sl),n+"")}function nl(n){return ki(n,ci,il)}function fu(n){return ki(n,ta,Js)}var du=Ha?function(n){return Ha.get(n)}:Hl;function zl(n){for(var a=n.name+"",o=Xa[a],c=bt.call(Xa,a)?o.length:0;c--;){var y=o[c],w=y.func;if(null==w||w==n)return y.name}return a}function D0(n){return(bt.call(W,"placeholder")?W:n).placeholder}function Tt(){var n=W.iteratee||Ku;return n=n===Ku?Qn:n,arguments.length?n(arguments[0],arguments[1]):n}function Ll(n,a){var o=n.__data__;return function Gh(n){var a=typeof n;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n}(a)?o["string"==typeof a?"string":"hash"]:o.map}function gu(n){for(var a=ci(n),o=a.length;o--;){var c=a[o],y=n[c];a[o]=[c,y,Au(y)]}return a}function Ko(n,a){var o=function si(fe,Te){return null==fe?X:fe[Te]}(n,a);return cr(o)?o:X}var il=yo?function(n){return null==n?[]:(n=ce(n),fr(yo(n),function(a){return qi.call(n,a)}))}:ql,Js=yo?function(n){for(var a=[];n;)Oi(a,il(n)),n=pi(n);return a}:ql,bi=nn;function vu(n,a,o){for(var c=-1,y=(a=Qa(a,n)).length,w=!1;++c<y;){var T=Lt(a[c]);if(!(w=null!=n&&o(n,T)))break;n=n[T]}return w||++c!=y?w:!!(y=null==n?0:n.length)&&rr(y)&&Ks(T,y)&&(Ot(n)||e0(n))}function gc(n){return"function"!=typeof n.constructor||vn(n)?{}:wo(pi(n))}function Rh(n){return Ot(n)||e0(n)||!!(gl&&n&&n[gl])}function Ks(n,a){var o=typeof n;return!!(a=null==a?wi:a)&&("number"==o||"symbol"!=o&&Xn.test(n))&&n>-1&&n%1==0&&n<a}function ji(n,a,o){if(!pn(o))return!1;var c=typeof a;return!!("number"==c?ei(o)&&Ks(a,o.length):"string"==c&&a in o)&&ts(o[a],n)}function pu(n,a){if(Ot(n))return!1;var o=typeof n;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=n&&!ya(n))||i0.test(n)||!io.test(n)||null!=a&&n in ce(a)}function mu(n){var a=zl(n),o=W[a];if("function"!=typeof o||!(a in Ht.prototype))return!1;if(n===o)return!0;var c=du(o);return!!c&&n===c[0]}(Ua&&bi(new Ua(new ArrayBuffer(1)))!=Dn||Va&&bi(new Va)!=ln||p0&&bi(p0.resolve())!=pe||Ao&&bi(new Ao)!=qe||Gs&&bi(new Gs)!=kr)&&(bi=function(n){var a=nn(n),o=a==te?n.constructor:X,c=o?Ft(o):"";if(c)switch(c){case Y0:return Dn;case et:return ln;case js:return pe;case U0:return qe;case Io:return kr}return a});var yu=yt?ma:Jl;function vn(n){var a=n&&n.constructor;return n===("function"==typeof a&&a.prototype||pt)}function Au(n){return n==n&&!pn(n)}function vc(n,a){return function(o){return null!=o&&o[n]===a&&(a!==X||n in ce(o))}}function ws(n,a,o){return a=ft(a===X?n.length-1:a,0),function(){for(var c=arguments,y=-1,w=ft(c.length-a,0),T=Ce(w);++y<w;)T[y]=c[a+y];y=-1;for(var E=Ce(a+1);++y<a;)E[y]=c[y];return E[a]=o(T),Me(n,this,E)}}function pa(n,a){return a.length<2?n:En(n,ea(a,0,-1))}function pc(n,a){for(var o=n.length,c=Ln(a.length,o),y=Pn(n);c--;){var w=a[c];n[c]=Ks(w,o)?y[w]:X}return n}function Iu(n,a){if(("constructor"!==a||"function"!=typeof n[a])&&"__proto__"!=a)return n[a]}var mc=El($i),al=mi||function(n,a){return Z.setTimeout(n,a)},Zi=El(xl);function bu(n,a,o){var c=a+"";return Zi(n,function Oh(n,a){var o=a.length;if(!o)return n;var c=o-1;return a[c]=(o>1?"& ":"")+a[c],a=a.join(o>2?", ":" "),n.replace(Ge,"{\n/* [wrapped with "+a+"] */\n")}(c,function Bn(n,a){return Sr(Ia,function(o){var c="_."+o[0];a&o[1]&&!ot(n,c)&&n.push(c)}),n.sort()}(function dc(n){var a=n.match(R);return a?a[1].split(ee):[]}(c),o)))}function El(n){var a=0,o=0;return function(){var c=_o(),y=16-(c-o);if(o=c,y>0){if(++a>=800)return arguments[0]}else a=0;return n.apply(X,arguments)}}function za(n,a){var o=-1,c=n.length,y=c-1;for(a=a===X?c:a;++o<a;){var w=li(o,y),T=n[w];n[w]=n[o],n[o]=T}return n.length=a,n}var Qo=function Zh(n){var a=P0(n,function(c){return 500===o.size&&o.clear(),c}),o=a.cache;return a}(function(n){var a=[];return 46===n.charCodeAt(0)&&a.push(""),n.replace(G0,function(o,c,y,w){a.push(y?w.replace(Gn,"$1"):c||o)}),a});function Lt(n){if("string"==typeof n||ya(n))return n;var a=n+"";return"0"==a&&1/n==-Ei?"-0":a}function Ft(n){if(null!=n){try{return Pt.call(n)}catch(a){}try{return n+""}catch(a){}}return""}function yc(n){if(n instanceof Ht)return n.clone();var a=new Jn(n.__wrapped__,n.__chain__);return a.__actions__=Pn(n.__actions__),a.__index__=n.__index__,a.__values__=n.__values__,a}var Pl=qt(function(n,a){return xn(n)?Ee(n,mt(a,1,xn,!0)):[]}),wu=qt(function(n,a){var o=La(a);return xn(o)&&(o=X),xn(n)?Ee(n,mt(a,1,xn,!0),Tt(o,2)):[]}),Fi=qt(function(n,a){var o=La(a);return xn(o)&&(o=X),xn(n)?Ee(n,mt(a,1,xn,!0),X,o):[]});function bc(n,a,o){var c=null==n?0:n.length;if(!c)return-1;var y=null==o?0:Wt(o);return y<0&&(y=ft(c+y,0)),Zn(n,Tt(a,3),y)}function Cu(n,a,o){var c=null==n?0:n.length;if(!c)return-1;var y=c-1;return o!==X&&(y=Wt(o),y=o<0?ft(c+y,0):Ln(y,c-1)),Zn(n,Tt(a,3),y,!0)}function sl(n){return null!=n&&n.length?mt(n,1):[]}function Rl(n){return n&&n.length?n[0]:X}var $o=qt(function(n){var a=Ir(n,K0);return a.length&&a[0]===n[0]?Ja(a):[]}),Cc=qt(function(n){var a=La(n),o=Ir(n,K0);return a===La(o)?a=X:o.pop(),o.length&&o[0]===n[0]?Ja(o,Tt(a,2)):[]}),xc=qt(function(n){var a=La(n),o=Ir(n,K0);return(a="function"==typeof a?a:X)&&o.pop(),o.length&&o[0]===n[0]?Ja(o,X,a):[]});function La(n){var a=null==n?0:n.length;return a?n[a-1]:X}var Mc=qt(Nc);function Nc(n,a){return n&&n.length&&a&&a.length?wl(n,a):n}var Jh=bs(function(n,a){var o=null==n?0:n.length,c=_(n,a);return rc(n,Ir(a,function(y){return Ks(y,o)?+y:y}).sort(su)),c});function z0(n){return null==n?n:_0.call(n)}var af=qt(function(n){return en(mt(n,1,xn,!0))}),Ec=qt(function(n){var a=La(n);return xn(a)&&(a=X),en(mt(n,1,xn,!0),Tt(a,2))}),sf=qt(function(n){var a=La(n);return a="function"==typeof a?a:X,en(mt(n,1,xn,!0),X,a)});function Du(n){if(!n||!n.length)return[];var a=0;return n=fr(n,function(o){if(xn(o))return a=ft(o.length,a),!0}),hs(a,function(o){return Ir(n,Lr(o))})}function Pc(n,a){if(!n||!n.length)return[];var o=Du(n);return null==a?o:Ir(o,function(c){return Me(a,X,c)})}var of=qt(function(n,a){return xn(n)?Ee(n,a):[]}),Bc=qt(function(n){return Sl(fr(n,xn))}),lf=qt(function(n){var a=La(n);return xn(a)&&(a=X),Sl(fr(n,xn),Tt(a,2))}),Oc=qt(function(n){var a=La(n);return a="function"==typeof a?a:X,Sl(fr(n,xn),X,a)}),uf=qt(Du),ff=qt(function(n){var a=n.length,o=a>1?n[a-1]:X;return o="function"==typeof o?(n.pop(),o):X,Pc(n,o)});function Rc(n){var a=W(n);return a.__chain__=!0,a}function ui(n,a){return a(n)}var zu=bs(function(n){var a=n.length,o=a?n[0]:0,c=this.__wrapped__,y=function(w){return _(w,n)};return!(a>1||this.__actions__.length)&&c instanceof Ht&&Ks(o)?((c=c.slice(o,+o+(a?1:0))).__actions__.push({func:ui,args:[y],thisArg:X}),new Jn(c,this.__chain__).thru(function(w){return a&&!w.length&&w.push(X),w})):this.thru(y)}),Fc=Q0(function(n,a,o){bt.call(n,o)?++n[o]:P(n,o,1)}),mf=Nl(bc),yf=Nl(Cu);function Uc(n,a){return(Ot(n)?Sr:Ue)(n,Tt(a,3))}function Vc(n,a){return(Ot(n)?_t:Xe)(n,Tt(a,3))}var Hc=Q0(function(n,a,o){bt.call(n,o)?n[o].push(a):P(n,o,[a])}),L0=qt(function(n,a,o){var c=-1,y="function"==typeof a,w=ei(n)?Ce(n.length):[];return Ue(n,function(T){w[++c]=y?Me(a,T,o):Ki(T,a,o)}),w}),If=Q0(function(n,a,o){P(n,o,a)});function ul(n,a){return(Ot(n)?Ir:S0)(n,Tt(a,3))}var wf=Q0(function(n,a,o){n[o?0:1].push(a)},function(){return[[],[]]}),cl=qt(function(n,a){if(null==n)return[];var o=a.length;return o>1&&ji(n,a[0],a[1])?a=[]:o>2&&ji(a[0],a[1],a[2])&&(a=[a[0]]),tc(n,mt(a,1),[])}),hl=mo||function(){return Z.Date.now()};function Eu(n,a,o){return a=o?X:a,es(n,k,X,X,X,X,a=n&&null==a?n.length:a)}function Pu(n,a){var o;if("function"!=typeof a)throw new _e(Nr);return n=Wt(n),function(){return--n>0&&(o=a.apply(this,arguments)),n<=1&&(a=X),o}}var E0=qt(function(n,a,o){var c=1;if(o.length){var y=di(o,D0(E0));c|=32}return es(n,c,a,o,y)}),Zl=qt(function(n,a,o){var c=3;if(o.length){var y=di(o,D0(Zl));c|=32}return es(a,c,n,o,y)});function Bu(n,a,o){var c,y,w,T,E,j,J=0,K=!1,x=!1,z=!0;if("function"!=typeof n)throw new _e(Nr);function O(Fe){var Ve=c,st=y;return c=y=X,J=Fe,T=n.apply(st,Ve)}function U(Fe){return J=Fe,E=al(ne,a),K?O(Fe):T}function ie(Fe){var Ve=Fe-j;return j===X||Ve>=a||Ve<0||x&&Fe-J>=w}function ne(){var Fe=hl();if(ie(Fe))return ge(Fe);E=al(ne,function Q(Fe){var br=a-(Fe-j);return x?Ln(br,w-(Fe-J)):br}(Fe))}function ge(Fe){return E=X,z&&c?O(Fe):(c=y=X,T)}function je(){var Fe=hl(),Ve=ie(Fe);if(c=arguments,y=this,j=Fe,Ve){if(E===X)return U(j);if(x)return Is(E),E=al(ne,a),O(j)}return E===X&&(E=al(ne,a)),T}return a=Pa(a)||0,pn(o)&&(K=!!o.leading,w=(x="maxWait"in o)?ft(Pa(o.maxWait)||0,a):w,z="trailing"in o?!!o.trailing:z),je.cancel=function ke(){E!==X&&Is(E),J=0,c=j=y=E=X},je.flush=function Ne(){return E===X?T:ge(hl())},je}var Df=qt(function(n,a){return Be(n,1,a)}),zf=qt(function(n,a,o){return Be(n,Pa(a)||0,o)});function P0(n,a){if("function"!=typeof n||null!=a&&"function"!=typeof a)throw new _e(Nr);var o=function(){var c=arguments,y=a?a.apply(this,c):c[0],w=o.cache;if(w.has(y))return w.get(y);var T=n.apply(this,c);return o.cache=w.set(y,T)||w,T};return o.cache=new(P0.Cache||it),o}function Fl(n){if("function"!=typeof n)throw new _e(Nr);return function(){var a=arguments;switch(a.length){case 0:return!n.call(this);case 1:return!n.call(this,a[0]);case 2:return!n.call(this,a[0],a[1]);case 3:return!n.call(this,a[0],a[1],a[2])}return!n.apply(this,a)}}P0.Cache=it;var Ef=$a(function(n,a){var o=(a=1==a.length&&Ot(a[0])?Ir(a[0],fi(Tt())):Ir(mt(a,1),fi(Tt()))).length;return qt(function(c){for(var y=-1,w=Ln(c.length,o);++y<w;)c[y]=a[y].call(this,c[y]);return Me(n,this,c)})}),Ru=qt(function(n,a){var o=di(a,D0(Ru));return es(n,32,X,a,o)}),Qc=qt(function(n,a){var o=di(a,D0(Qc));return es(n,64,X,a,o)}),$c=bs(function(n,a){return es(n,256,X,X,X,a)});function ts(n,a){return n===a||n!=n&&a!=a}var Yf=qs(be),Uf=qs(function(n,a){return n>=a}),e0=ys(function(){return arguments}())?ys:function(n){return Sn(n)&&bt.call(n,"callee")&&!qi.call(n,"callee")},Ot=Ce.isArray,eh=Pe?fi(Pe):function Qi(n){return Sn(n)&&nn(n)==An};function ei(n){return null!=n&&rr(n.length)&&!ma(n)}function xn(n){return Sn(n)&&ei(n)}var rs=F0||Jl,Gu=Ie?fi(Ie):function C0(n){return Sn(n)&&nn(n)==Ra};function ju(n){if(!Sn(n))return!1;var a=nn(n);return a==is||"[object DOMException]"==a||"string"==typeof n.message&&"string"==typeof n.name&&!No(n)}function ma(n){if(!pn(n))return!1;var a=nn(n);return a==Rn||a==Yi||"[object AsyncFunction]"==a||"[object Proxy]"==a}function Wl(n){return"number"==typeof n&&n==Wt(n)}function rr(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=wi}function pn(n){var a=typeof n;return null!=n&&("object"==a||"function"==a)}function Sn(n){return null!=n&&"object"==typeof n}var th=we?fi(we):function _s(n){return Sn(n)&&bi(n)==ln};function nh(n){return"number"==typeof n||Sn(n)&&nn(n)==L}function No(n){if(!Sn(n)||nn(n)!=te)return!1;var a=pi(n);if(null===a)return!0;var o=bt.call(a,"constructor")&&a.constructor;return"function"==typeof o&&o instanceof o&&Pt.call(o)==Er}var Fu=He?fi(He):function Ys(n){return Sn(n)&&nn(n)==Le},ih=ut?fi(ut):function Us(n){return Sn(n)&&bi(n)==qe};function _l(n){return"string"==typeof n||!Ot(n)&&Sn(n)&&nn(n)==At}function ya(n){return"symbol"==typeof n||Sn(n)&&nn(n)==$t}var B0=rt?fi(rt):function eu(n){return Sn(n)&&rr(n.length)&&!!We[nn(n)]},id=qs(Ho),ad=qs(function(n,a){return n<=a});function ah(n){if(!n)return[];if(ei(n))return _l(n)?vi(n):Pn(n);if(Bs&&n[Bs])return function h0(fe){for(var Te,Ce=[];!(Te=fe.next()).done;)Ce.push(Te.value);return Ce}(n[Bs]());var a=bi(n);return(a==ln?Go:a==qe?Fn:r0)(n)}function to(n){return n?(n=Pa(n))===Ei||n===-Ei?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}function Wt(n){var a=to(n),o=a%1;return a==a?o?a-o:a:0}function Yl(n){return n?q(Wt(n),0,Ke):0}function Pa(n){if("number"==typeof n)return n;if(ya(n))return NaN;if(pn(n)){var a="function"==typeof n.valueOf?n.valueOf():n;n=pn(a)?a+"":a}if("string"!=typeof n)return 0===n?n:+n;n=Po(n);var o=ii.test(n);return o||re.test(n)?C(n.slice(2),o?2:8):tn.test(n)?NaN:+n}function sh(n){return ka(n,ta(n))}function Mr(n){return null==n?"":Bt(n)}var od=N0(function(n,a){if(vn(a)||ei(a))ka(a,ci(a),n);else for(var o in a)bt.call(a,o)&&h(n,o,a[o])}),oh=N0(function(n,a){ka(a,ta(a),n)}),Ul=N0(function(n,a,o,c){ka(a,ta(a),n,c)}),ld=N0(function(n,a,o,c){ka(a,ci(a),n,c)}),ud=bs(_),cd=qt(function(n,a){n=ce(n);var o=-1,c=a.length,y=c>2?a[2]:X;for(y&&ji(a[0],a[1],y)&&(c=1);++o<c;)for(var w=a[o],T=ta(w),E=-1,j=T.length;++E<j;){var J=T[E],K=n[J];(K===X||ts(K,pt[J])&&!bt.call(n,J))&&(n[J]=w[J])}return n}),hd=qt(function(n){return n.push(X,hu),Me(lh,X,n)});function Uu(n,a,o){var c=null==n?X:En(n,a);return c===X?o:c}function Vu(n,a){return null!=n&&vu(n,a,Kn)}var md=uu(function(n,a,o){null!=a&&"function"!=typeof a.toString&&(a=F.call(a)),n[a]=o},Ju(ra)),yd=uu(function(n,a,o){null!=a&&"function"!=typeof a.toString&&(a=F.call(a)),bt.call(n,a)?n[a].push(o):n[a]=[o]},Tt),Ad=qt(Ki);function ci(n){return ei(n)?ms(n):x0(n)}function ta(n){return ei(n)?ms(n,!0):function Vo(n){if(!pn(n))return function Fh(n){var a=[];if(null!=n)for(var o in ce(n))a.push(o);return a}(n);var a=vn(n),o=[];for(var c in n)"constructor"==c&&(a||!bt.call(n,c))||o.push(c);return o}(n)}var wd=N0(function(n,a,o){Vs(n,a,o)}),lh=N0(function(n,a,o,c){Vs(n,a,o,c)}),Cd=bs(function(n,a){var o={};if(null==n)return o;var c=!1;a=Ir(a,function(w){return w=Qa(w,n),c||(c=w.length>1),w}),ka(n,fu(n),o),c&&(o=ae(o,7,Dl));for(var y=a.length;y--;)Zt(o,a[y]);return o}),Sd=bs(function(n,a){return null==n?{}:function So(n,a){return ru(n,a,function(o,c){return Vu(n,c)})}(n,a)});function uh(n,a){if(null==n)return{};var o=Ir(fu(n),function(c){return[c]});return a=Tt(a),ru(n,o,function(c,y){return a(c,y[0])})}var ch=Ut(ci),hh=Ut(ta);function r0(n){return null==n?[]:Ls(n,ci(n))}var Bd=Mo(function(n,a,o){return a=a.toLowerCase(),n+(o?dh(a):a)});function dh(n){return qu(Mr(n).toLowerCase())}function gh(n){return(n=Mr(n))&&n.replace(he,c0).replace(Hi,"")}var jd=Mo(function(n,a,o){return n+(o?"-":"")+a.toLowerCase()}),Zd=Mo(function(n,a,o){return n+(o?" ":"")+a.toLowerCase()}),Fd=oc("toLowerCase"),Xd=Mo(function(n,a,o){return n+(o?"_":"")+a.toLowerCase()}),Jd=Mo(function(n,a,o){return n+(o?" ":"")+qu(a)}),ig=Mo(function(n,a,o){return n+(o?" ":"")+a.toUpperCase()}),qu=oc("toUpperCase");function vh(n,a,o){return n=Mr(n),(a=o?X:a)===X?function Ro(fe){return ca.test(fe)}(n)?function vo(fe){return fe.match(u0)||[]}(n):function Ni(fe){return fe.match(Ar)||[]}(n):n.match(a)||[]}var ph=qt(function(n,a){try{return Me(n,X,a)}catch(o){return ju(o)?o:new $(o)}}),ag=bs(function(n,a){return Sr(a,function(o){o=Lt(o),P(n,o,E0(n[o],n))}),n});function Ju(n){return function(){return n}}var yh=Xs(),lg=Xs(!0);function ra(n){return n}function Ku(n){return Qn("function"==typeof n?n:ae(n,1))}var cg=qt(function(n,a){return function(o){return Ki(o,n,a)}}),Ih=qt(function(n,a){return function(o){return Ki(n,o,a)}});function Qu(n,a,o){var c=ci(a),y=Kt(a,c);null==o&&(!pn(a)||!y.length&&c.length)&&(o=a,a=n,n=this,y=Kt(a,ci(a)));var w=!(pn(o)&&"chain"in o&&!o.chain),T=ma(n);return Sr(y,function(E){var j=a[E];n[E]=j,T&&(n.prototype[E]=function(){var J=this.__chain__;if(w||J){var K=n(this.__wrapped__),x=K.__actions__=Pn(this.__actions__);return x.push({func:j,args:arguments,thisArg:n}),K.__chain__=J,K}return j.apply(n,Oi([this.value()],arguments))})}),n}function Hl(){}var wh=Tl(Ir),fg=Tl(ct),Ch=Tl(Na);function xh(n){return pu(n)?Lr(Lt(n)):function nu(n){return function(a){return En(a,n)}}(n)}var Xl=cu(),Sh=cu(!0);function ql(){return[]}function Jl(){return!1}var Ag=$0(function(n,a){return n+a},0),Ig=tl("ceil"),Tg=$0(function(n,a){return n/a},1),bg=tl("floor"),i=$0(function(n,a){return n*a},1),s=tl("round"),l=$0(function(n,a){return n-a},0);return W.after=function kf(n,a){if("function"!=typeof a)throw new _e(Nr);return n=Wt(n),function(){if(--n<1)return a.apply(this,arguments)}},W.ary=Eu,W.assign=od,W.assignIn=oh,W.assignInWith=Ul,W.assignWith=ld,W.at=ud,W.before=Pu,W.bind=E0,W.bindAll=ag,W.bindKey=Zl,W.castArray=function Gf(){if(!arguments.length)return[];var n=arguments[0];return Ot(n)?n:[n]},W.chain=Rc,W.chunk=function Wh(n,a,o){a=(o?ji(n,a,o):a===X)?1:ft(Wt(a),0);var c=null==n?0:n.length;if(!c||a<1)return[];for(var y=0,w=0,T=Ce(Rs(c/a));y<c;)T[w++]=ea(n,y,y+=a);return T},W.compact=function _h(n){for(var a=-1,o=null==n?0:n.length,c=0,y=[];++a<o;){var w=n[a];w&&(y[c++]=w)}return y},W.concat=function Yh(){var n=arguments.length;if(!n)return[];for(var a=Ce(n-1),o=arguments[0],c=n;c--;)a[c-1]=arguments[c];return Oi(Ot(o)?Pn(o):[o],mt(a,1))},W.cond=function sg(n){var a=null==n?0:n.length,o=Tt();return n=a?Ir(n,function(c){if("function"!=typeof c[1])throw new _e(Nr);return[o(c[0]),c[1]]}):[],qt(function(c){for(var y=-1;++y<a;){var w=n[y];if(Me(w[0],this,c))return Me(w[1],this,c)}})},W.conforms=function og(n){return function me(n){var a=ci(n);return function(o){return ze(o,n,a)}}(ae(n,1))},W.constant=Ju,W.countBy=Fc,W.create=function Wu(n,a){var o=wo(n);return null==a?o:I(o,a)},W.curry=function Jc(n,a,o){var c=es(n,8,X,X,X,X,X,a=o?X:a);return c.placeholder=Jc.placeholder,c},W.curryRight=function Kc(n,a,o){var c=es(n,16,X,X,X,X,X,a=o?X:a);return c.placeholder=Kc.placeholder,c},W.debounce=Bu,W.defaults=cd,W.defaultsDeep=hd,W.defer=Df,W.delay=zf,W.difference=Pl,W.differenceBy=wu,W.differenceWith=Fi,W.drop=function Bl(n,a,o){var c=null==n?0:n.length;return c?ea(n,(a=o||a===X?1:Wt(a))<0?0:a,c):[]},W.dropRight=function Ol(n,a,o){var c=null==n?0:n.length;return c?ea(n,0,(a=c-(a=o||a===X?1:Wt(a)))<0?0:a):[]},W.dropRightWhile=function Ac(n,a){return n&&n.length?q0(n,Tt(a,3),!0,!0):[]},W.dropWhile=function Ic(n,a){return n&&n.length?q0(n,Tt(a,3),!0):[]},W.fill=function Uh(n,a,o,c){var y=null==n?0:n.length;return y?(o&&"number"!=typeof o&&ji(n,a,o)&&(o=0,c=y),function wt(n,a,o,c){var y=n.length;for((o=Wt(o))<0&&(o=-o>y?0:y+o),(c=c===X||c>y?y:Wt(c))<0&&(c+=y),c=o>c?0:Yl(c);o<c;)n[o++]=a;return n}(n,a,o,c)):[]},W.filter=function _c(n,a){return(Ot(n)?fr:lr)(n,Tt(a,3))},W.flatMap=function Af(n,a){return mt(ul(n,a),1)},W.flatMapDeep=function Lu(n,a){return mt(ul(n,a),Ei)},W.flatMapDepth=function Yc(n,a,o){return o=o===X?1:Wt(o),mt(ul(n,a),o)},W.flatten=sl,W.flattenDeep=function Vh(n){return null!=n&&n.length?mt(n,Ei):[]},W.flattenDepth=function Hh(n,a){return null!=n&&n.length?mt(n,a=a===X?1:Wt(a)):[]},W.flip=function Ou(n){return es(n,512)},W.flow=yh,W.flowRight=lg,W.fromPairs=function xu(n){for(var a=-1,o=null==n?0:n.length,c={};++a<o;){var y=n[a];c[y[0]]=y[1]}return c},W.functions=function Yu(n){return null==n?[]:Kt(n,ci(n))},W.functionsIn=function t0(n){return null==n?[]:Kt(n,ta(n))},W.groupBy=Hc,W.initial=function Su(n){return null!=n&&n.length?ea(n,0,-1):[]},W.intersection=$o,W.intersectionBy=Cc,W.intersectionWith=xc,W.invert=md,W.invertBy=yd,W.invokeMap=L0,W.iteratee=Ku,W.keyBy=If,W.keys=ci,W.keysIn=ta,W.map=ul,W.mapKeys=function Id(n,a){var o={};return a=Tt(a,3),Yt(n,function(c,y,w){P(o,a(c,y,w),c)}),o},W.mapValues=function bd(n,a){var o={};return a=Tt(a,3),Yt(n,function(c,y,w){P(o,y,a(c,y,w))}),o},W.matches=function ug(n){return M0(ae(n,1))},W.matchesProperty=function Ah(n,a){return xo(n,ae(a,1))},W.memoize=P0,W.merge=wd,W.mergeWith=lh,W.method=cg,W.methodOf=Ih,W.mixin=Qu,W.negate=Fl,W.nthArg=function hg(n){return n=Wt(n),qt(function(a){return tu(a,n)})},W.omit=Cd,W.omitBy=function xd(n,a){return uh(n,Fl(Tt(a)))},W.once=function Lf(n){return Pu(2,n)},W.orderBy=function bf(n,a,o,c){return null==n?[]:(Ot(a)||(a=null==a?[]:[a]),Ot(o=c?X:o)||(o=null==o?[]:[o]),tc(n,a,o))},W.over=wh,W.overArgs=Ef,W.overEvery=fg,W.overSome=Ch,W.partial=Ru,W.partialRight=Qc,W.partition=wf,W.pick=Sd,W.pickBy=uh,W.property=xh,W.propertyOf=function dg(n){return function(a){return null==n?X:En(n,a)}},W.pull=Mc,W.pullAll=Nc,W.pullAllBy=function qh(n,a,o){return n&&n.length&&a&&a.length?wl(n,a,Tt(o,2)):n},W.pullAllWith=function Tc(n,a,o){return n&&n.length&&a&&a.length?wl(n,a,X,o):n},W.pullAt=Jh,W.range=Xl,W.rangeRight=Sh,W.rearg=$c,W.reject=function xf(n,a){return(Ot(n)?fr:lr)(n,Fl(Tt(a,3)))},W.remove=function ol(n,a){var o=[];if(!n||!n.length)return o;var c=-1,y=[],w=n.length;for(a=Tt(a,3);++c<w;){var T=n[c];a(T,c,n)&&(o.push(T),y.push(c))}return rc(n,y),o},W.rest=function $s(n,a){if("function"!=typeof n)throw new _e(Nr);return qt(n,a=a===X?a:Wt(a))},W.reverse=z0,W.sampleSize=function Sf(n,a,o){return a=(o?ji(n,a,o):a===X)?1:Wt(a),(Ot(n)?bl:Dh)(n,a)},W.set=function Nd(n,a,o){return null==n?n:gt(n,a,o)},W.setWith=function Td(n,a,o,c){return c="function"==typeof c?c:X,null==n?n:gt(n,a,o,c)},W.shuffle=function Mf(n){return(Ot(n)?M:ga)(n)},W.slice=function ll(n,a,o){var c=null==n?0:n.length;return c?(o&&"number"!=typeof o&&ji(n,a,o)?(a=0,o=c):(a=null==a?0:Wt(a),o=o===X?c:Wt(o)),ea(n,a,o)):[]},W.sortBy=cl,W.sortedUniq=function ef(n){return n&&n.length?As(n):[]},W.sortedUniqBy=function Tu(n,a){return n&&n.length?As(n,Tt(a,2)):[]},W.split=function qd(n,a,o){return o&&"number"!=typeof o&&ji(n,a,o)&&(a=o=X),(o=o===X?Ke:o>>>0)?(n=Mr(n))&&("string"==typeof a||null!=a&&!Fu(a))&&!(a=Bt(a))&&ha(n)?Hr(vi(n),0,o):n.split(a,o):[]},W.spread=function Pf(n,a){if("function"!=typeof n)throw new _e(Nr);return a=null==a?0:ft(Wt(a),0),qt(function(o){var c=o[a],y=Hr(o,0,a);return c&&Oi(y,c),Me(n,this,y)})},W.tail=function tf(n){var a=null==n?0:n.length;return a?ea(n,1,a):[]},W.take=function rf(n,a,o){return n&&n.length?ea(n,0,(a=o||a===X?1:Wt(a))<0?0:a):[]},W.takeRight=function zc(n,a,o){var c=null==n?0:n.length;return c?ea(n,(a=c-(a=o||a===X?1:Wt(a)))<0?0:a,c):[]},W.takeRightWhile=function nf(n,a){return n&&n.length?q0(n,Tt(a,3),!1,!0):[]},W.takeWhile=function Lc(n,a){return n&&n.length?q0(n,Tt(a,3)):[]},W.tap=function Ea(n,a){return a(n),n},W.throttle=function Bf(n,a,o){var c=!0,y=!0;if("function"!=typeof n)throw new _e(Nr);return pn(o)&&(c="leading"in o?!!o.leading:c,y="trailing"in o?!!o.trailing:y),Bu(n,a,{leading:c,maxWait:a,trailing:y})},W.thru=ui,W.toArray=ah,W.toPairs=ch,W.toPairsIn=hh,W.toPath=function mg(n){return Ot(n)?Ir(n,Lt):ya(n)?[n]:Pn(Qo(Mr(n)))},W.toPlainObject=sh,W.transform=function kd(n,a,o){var c=Ot(n),y=c||rs(n)||B0(n);if(a=Tt(a,4),null==o){var w=n&&n.constructor;o=y?c?new w:[]:pn(n)&&ma(w)?wo(pi(n)):{}}return(y?Sr:Yt)(n,function(T,E,j){return a(o,T,E,j)}),o},W.unary=function Of(n){return Eu(n,1)},W.union=af,W.unionBy=Ec,W.unionWith=sf,W.uniq=function Gl(n){return n&&n.length?en(n):[]},W.uniqBy=function jl(n,a){return n&&n.length?en(n,Tt(a,2)):[]},W.uniqWith=function ku(n,a){return a="function"==typeof a?a:X,n&&n.length?en(n,X,a):[]},W.unset=function Dd(n,a){return null==n||Zt(n,a)},W.unzip=Du,W.unzipWith=Pc,W.update=function fh(n,a,o){return null==n?n:nc(n,a,iu(o))},W.updateWith=function zd(n,a,o,c){return c="function"==typeof c?c:X,null==n?n:nc(n,a,iu(o),c)},W.values=r0,W.valuesIn=function Ld(n){return null==n?[]:Ls(n,ta(n))},W.without=of,W.words=vh,W.wrap=function Rf(n,a){return Ru(iu(a),n)},W.xor=Bc,W.xorBy=lf,W.xorWith=Oc,W.zip=uf,W.zipObject=function cf(n,a){return J0(n||[],a||[],h)},W.zipObjectDeep=function hf(n,a){return J0(n||[],a||[],gt)},W.zipWith=ff,W.entries=ch,W.entriesIn=hh,W.extend=oh,W.extendWith=Ul,Qu(W,W),W.add=Ag,W.attempt=ph,W.camelCase=Bd,W.capitalize=dh,W.ceil=Ig,W.clamp=function dl(n,a,o){return o===X&&(o=a,a=X),o!==X&&(o=(o=Pa(o))==o?o:0),a!==X&&(a=(a=Pa(a))==a?a:0),q(Pa(n),a,o)},W.clone=function jf(n){return ae(n,4)},W.cloneDeep=function Ff(n){return ae(n,5)},W.cloneDeepWith=function Wf(n,a){return ae(n,5,a="function"==typeof a?a:X)},W.cloneWith=function Zf(n,a){return ae(n,4,a="function"==typeof a?a:X)},W.conformsTo=function _f(n,a){return null==a||ze(n,a,ci(a))},W.deburr=gh,W.defaultTo=function mh(n,a){return null==n||n!=n?a:n},W.divide=Tg,W.endsWith=function Od(n,a,o){n=Mr(n),a=Bt(a);var c=n.length,y=o=o===X?c:q(Wt(o),0,c);return(o-=a.length)>=0&&n.slice(o,y)==a},W.eq=ts,W.escape=function Rd(n){return(n=Mr(n))&&Ui.test(n)?n.replace(wa,fo):n},W.escapeRegExp=function Gd(n){return(n=Mr(n))&&Dr.test(n)?n.replace(as,"\\$&"):n},W.every=function Wc(n,a,o){var c=Ot(n)?ct:at;return o&&ji(n,a,o)&&(a=X),c(n,Tt(a,3))},W.find=mf,W.findIndex=bc,W.findKey=function fd(n,a){return Gr(n,Tt(a,3),Yt)},W.findLast=yf,W.findLastIndex=Cu,W.findLastKey=function dd(n,a){return Gr(n,Tt(a,3),jr)},W.floor=bg,W.forEach=Uc,W.forEachRight=Vc,W.forIn=function Vl(n,a){return null==n?n:ur(n,Tt(a,3),ta)},W.forInRight=function _u(n,a){return null==n?n:Xt(n,Tt(a,3),ta)},W.forOwn=function gd(n,a){return n&&Yt(n,Tt(a,3))},W.forOwnRight=function vd(n,a){return n&&jr(n,Tt(a,3))},W.get=Uu,W.gt=Yf,W.gte=Uf,W.has=function pd(n,a){return null!=n&&vu(n,a,Vr)},W.hasIn=Vu,W.head=Rl,W.identity=ra,W.includes=function zt(n,a,o,c){n=ei(n)?n:r0(n),o=o&&!c?Wt(o):0;var y=n.length;return o<0&&(o=ft(y+o,0)),_l(n)?o<=y&&n.indexOf(a,o)>-1:!!y&&gn(n,a,o)>-1},W.indexOf=function wc(n,a,o){var c=null==n?0:n.length;if(!c)return-1;var y=null==o?0:Wt(o);return y<0&&(y=ft(c+y,0)),gn(n,a,y)},W.inRange=function Ed(n,a,o){return a=to(a),o===X?(o=a,a=0):o=to(o),function w0(n,a,o){return n>=Ln(a,o)&&n<ft(a,o)}(n=Pa(n),a,o)},W.invoke=Ad,W.isArguments=e0,W.isArray=Ot,W.isArrayBuffer=eh,W.isArrayLike=ei,W.isArrayLikeObject=xn,W.isBoolean=function Vf(n){return!0===n||!1===n||Sn(n)&&nn(n)==Wr},W.isBuffer=rs,W.isDate=Gu,W.isElement=function fl(n){return Sn(n)&&1===n.nodeType&&!No(n)},W.isEmpty=function Hf(n){if(null==n)return!0;if(ei(n)&&(Ot(n)||"string"==typeof n||"function"==typeof n.splice||rs(n)||B0(n)||e0(n)))return!n.length;var a=bi(n);if(a==ln||a==qe)return!n.size;if(vn(n))return!x0(n).length;for(var o in n)if(bt.call(n,o))return!1;return!0},W.isEqual=function Xf(n,a){return Co(n,a)},W.isEqualWith=function eo(n,a,o){var c=(o="function"==typeof o?o:X)?o(n,a):X;return c===X?Co(n,a,X,o):!!c},W.isError=ju,W.isFinite=function qf(n){return"number"==typeof n&&Wo(n)},W.isFunction=ma,W.isInteger=Wl,W.isLength=rr,W.isMap=th,W.isMatch=function Zu(n,a){return n===a||Ka(n,a,gu(a))},W.isMatchWith=function Jf(n,a,o){return o="function"==typeof o?o:X,Ka(n,a,gu(a),o)},W.isNaN=function Kf(n){return nh(n)&&n!=+n},W.isNative=function Qf(n){if(yu(n))throw new $("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return cr(n)},W.isNil=function rh(n){return null==n},W.isNull=function $f(n){return null===n},W.isNumber=nh,W.isObject=pn,W.isObjectLike=Sn,W.isPlainObject=No,W.isRegExp=Fu,W.isSafeInteger=function ed(n){return Wl(n)&&n>=-wi&&n<=wi},W.isSet=ih,W.isString=_l,W.isSymbol=ya,W.isTypedArray=B0,W.isUndefined=function td(n){return n===X},W.isWeakMap=function rd(n){return Sn(n)&&bi(n)==kr},W.isWeakSet=function nd(n){return Sn(n)&&"[object WeakSet]"==nn(n)},W.join=function Sc(n,a){return null==n?"":d0.call(n,a)},W.kebabCase=jd,W.last=La,W.lastIndexOf=function Mu(n,a,o){var c=null==n?0:n.length;if(!c)return-1;var y=c;return o!==X&&(y=(y=Wt(o))<0?ft(c+y,0):Ln(y,c-1)),a==a?function jo(fe,Te,Ce){for(var G=Ce+1;G--;)if(fe[G]===Te)return G;return G}(n,a,y):Zn(n,Ye,y,!0)},W.lowerCase=Zd,W.lowerFirst=Fd,W.lt=id,W.lte=ad,W.max=function wg(n){return n&&n.length?ht(n,ra,be):X},W.maxBy=function Cg(n,a){return n&&n.length?ht(n,Tt(a,2),be):X},W.mean=function xg(n){return Gt(n,ra)},W.meanBy=function e(n,a){return Gt(n,Tt(a,2))},W.min=function t(n){return n&&n.length?ht(n,ra,Ho):X},W.minBy=function r(n,a){return n&&n.length?ht(n,Tt(a,2),Ho):X},W.stubArray=ql,W.stubFalse=Jl,W.stubObject=function Mh(){return{}},W.stubString=function gg(){return""},W.stubTrue=function vg(){return!0},W.multiply=i,W.nth=function Xh(n,a){return n&&n.length?tu(n,Wt(a)):X},W.noConflict=function bh(){return Z._===this&&(Z._=Vt),this},W.noop=Hl,W.now=hl,W.pad=function Wd(n,a,o){n=Mr(n);var c=(a=Wt(a))?fs(n):0;if(!a||c>=a)return n;var y=(a-c)/2;return el(gs(y),o)+n+el(Rs(y),o)},W.padEnd=function _d(n,a,o){n=Mr(n);var c=(a=Wt(a))?fs(n):0;return a&&c<a?n+el(a-c,o):n},W.padStart=function Yd(n,a,o){n=Mr(n);var c=(a=Wt(a))?fs(n):0;return a&&c<a?el(a-c,o)+n:n},W.parseInt=function Ud(n,a,o){return o||null==a?a=0:a&&(a=+a),g0(Mr(n).replace(b,""),a||0)},W.random=function Pd(n,a,o){if(o&&"boolean"!=typeof o&&ji(n,a,o)&&(a=o=X),o===X&&("boolean"==typeof a?(o=a,a=X):"boolean"==typeof n&&(o=n,n=X)),n===X&&a===X?(n=0,a=1):(n=to(n),a===X?(a=n,n=0):a=to(a)),n>a){var c=n;n=a,a=c}if(o||n%1||a%1){var y=v0();return Ln(n+y*(a-n+A("1e-"+((y+"").length-1))),a)}return li(n,a)},W.reduce=function Cf(n,a,o){var c=Ot(n)?qn:Yr,y=arguments.length<3;return c(n,Tt(a,4),o,y,Ue)},W.reduceRight=function Xc(n,a,o){var c=Ot(n)?Ma:Yr,y=arguments.length<3;return c(n,Tt(a,4),o,y,Xe)},W.repeat=function Vd(n,a,o){return a=(o?ji(n,a,o):a===X)?1:Wt(a),Cl(Mr(n),a)},W.replace=function Hd(){var n=arguments,a=Mr(n[0]);return n.length<3?a:a.replace(n[1],n[2])},W.result=function Md(n,a,o){var c=-1,y=(a=Qa(a,n)).length;for(y||(y=1,n=X);++c<y;){var w=null==n?X:n[Lt(a[c])];w===X&&(c=y,w=o),n=ma(w)?w.call(n):w}return n},W.round=s,W.runInContext=fe,W.sample=function qc(n){return(Ot(n)?b0:kh)(n)},W.size=function Nf(n){if(null==n)return 0;if(ei(n))return _l(n)?fs(n):n.length;var a=bi(n);return a==ln||a==qe?n.size:x0(n).length},W.snakeCase=Xd,W.some=function Tf(n,a,o){var c=Ot(n)?Na:Xo;return o&&ji(n,a,o)&&(a=X),c(n,Tt(a,3))},W.sortedIndex=function Nu(n,a){return Di(n,a)},W.sortedIndexBy=function Kh(n,a,o){return Ii(n,a,Tt(o,2))},W.sortedIndexOf=function kc(n,a){var o=null==n?0:n.length;if(o){var c=Di(n,a);if(c<o&&ts(n[c],a))return c}return-1},W.sortedLastIndex=function Dc(n,a){return Di(n,a,!0)},W.sortedLastIndexBy=function Qh(n,a,o){return Ii(n,a,Tt(o,2),!0)},W.sortedLastIndexOf=function $h(n,a){if(null!=n&&n.length){var c=Di(n,a,!0)-1;if(ts(n[c],a))return c}return-1},W.startCase=Jd,W.startsWith=function Hu(n,a,o){return n=Mr(n),o=null==o?0:q(Wt(o),0,n.length),a=Bt(a),n.slice(o,o+a.length)==a},W.subtract=l,W.sum=function f(n){return n&&n.length?Ri(n,ra):0},W.sumBy=function p(n,a){return n&&n.length?Ri(n,Tt(a,2)):0},W.template=function Xu(n,a,o){var c=W.templateSettings;o&&ji(n,a,o)&&(a=X),n=Mr(n),a=Ul({},a,c,Da);var E,j,y=Ul({},a.imports,c.imports,Da),w=ci(y),T=Ls(y,w),J=0,K=a.interpolate||Ns,x="__p += '",z=Oe((a.escape||Ns).source+"|"+K.source+"|"+(K===To?ss:Ns).source+"|"+(a.evaluate||Ns).source+"|$","g"),O="//# sourceURL="+(bt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ho+"]")+"\n";n.replace(z,function(ie,ne,ge,ke,Ne,je){return ge||(ge=ke),x+=n.slice(J,je).replace(ko,Xi),ne&&(E=!0,x+="' +\n__e("+ne+") +\n'"),Ne&&(j=!0,x+="';\n"+Ne+";\n__p += '"),ge&&(x+="' +\n((__t = ("+ge+")) == null ? '' : __t) +\n'"),J=je+ie.length,ie}),x+="';\n";var U=bt.call(a,"variable")&&a.variable;if(U){if(tt.test(U))throw new $("Invalid `variable` option passed into `_.template`")}else x="with (obj) {\n"+x+"\n}\n";x=(j?x.replace(R0,""):x).replace(Cs,"$1").replace(xs,"$1;"),x="function("+(U||"obj")+") {\n"+(U?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(E?", __e = _.escape":"")+(j?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+x+"return __p\n}";var Q=ph(function(){return ue(w,O+"return "+x).apply(X,T)});if(Q.source=x,ju(Q))throw Q;return Q},W.times=function pg(n,a){if((n=Wt(n))<1||n>wi)return[];var o=Ke,c=Ln(n,Ke);a=Tt(a),n-=Ke;for(var y=hs(c,a);++o<n;)a(o);return y},W.toFinite=to,W.toInteger=Wt,W.toLength=Yl,W.toLower=function Kd(n){return Mr(n).toLowerCase()},W.toNumber=Pa,W.toSafeInteger=function sd(n){return n?q(Wt(n),-wi,wi):0===n?n:0},W.toString=Mr,W.toUpper=function Qd(n){return Mr(n).toUpperCase()},W.trim=function $d(n,a,o){if((n=Mr(n))&&(o||a===X))return Po(n);if(!n||!(a=Bt(a)))return n;var c=vi(n),y=vi(a);return Hr(c,Bo(c,y),Oo(c,y)+1).join("")},W.trimEnd=function eg(n,a,o){if((n=Mr(n))&&(o||a===X))return n.slice(0,Ps(n)+1);if(!n||!(a=Bt(a)))return n;var c=vi(n);return Hr(c,0,Oo(c,vi(a))+1).join("")},W.trimStart=function tg(n,a,o){if((n=Mr(n))&&(o||a===X))return n.replace(b,"");if(!n||!(a=Bt(a)))return n;var c=vi(n);return Hr(c,Bo(c,vi(a))).join("")},W.truncate=function rg(n,a){var o=30,c="...";if(pn(a)){var y="separator"in a?a.separator:y;o="length"in a?Wt(a.length):o,c="omission"in a?Bt(a.omission):c}var w=(n=Mr(n)).length;if(ha(n)){var T=vi(n);w=T.length}if(o>=w)return n;var E=o-fs(c);if(E<1)return c;var j=T?Hr(T,0,E).join(""):n.slice(0,E);if(y===X)return j+c;if(T&&(E+=j.length-E),Fu(y)){if(n.slice(E).search(y)){var J,K=j;for(y.global||(y=Oe(y.source,Mr(dt.exec(y))+"g")),y.lastIndex=0;J=y.exec(K);)var x=J.index;j=j.slice(0,x===X?E:x)}}else if(n.indexOf(Bt(y),E)!=E){var z=j.lastIndexOf(y);z>-1&&(j=j.slice(0,z))}return j+c},W.unescape=function ng(n){return(n=Mr(n))&&hi.test(n)?n.replace(Ci,fa):n},W.uniqueId=function yg(n){var a=++It;return Mr(n)+a},W.upperCase=ig,W.upperFirst=qu,W.each=Uc,W.eachRight=Vc,W.first=Rl,Qu(W,function(){var n={};return Yt(W,function(a,o){bt.call(W.prototype,o)||(n[o]=a)}),n}(),{chain:!1}),W.VERSION="4.17.21",Sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){W[n].placeholder=W}),Sr(["drop","take"],function(n,a){Ht.prototype[n]=function(o){o=o===X?1:ft(Wt(o),0);var c=this.__filtered__&&!a?new Ht(this):this.clone();return c.__filtered__?c.__takeCount__=Ln(o,c.__takeCount__):c.__views__.push({size:Ln(o,Ke),type:n+(c.__dir__<0?"Right":"")}),c},Ht.prototype[n+"Right"]=function(o){return this.reverse()[n](o).reverse()}}),Sr(["filter","map","takeWhile"],function(n,a){var o=a+1,c=1==o||3==o;Ht.prototype[n]=function(y){var w=this.clone();return w.__iteratees__.push({iteratee:Tt(y,3),type:o}),w.__filtered__=w.__filtered__||c,w}}),Sr(["head","last"],function(n,a){var o="take"+(a?"Right":"");Ht.prototype[n]=function(){return this[o](1).value()[0]}}),Sr(["initial","tail"],function(n,a){var o="drop"+(a?"":"Right");Ht.prototype[n]=function(){return this.__filtered__?new Ht(this):this[o](1)}}),Ht.prototype.compact=function(){return this.filter(ra)},Ht.prototype.find=function(n){return this.filter(n).head()},Ht.prototype.findLast=function(n){return this.reverse().find(n)},Ht.prototype.invokeMap=qt(function(n,a){return"function"==typeof n?new Ht(this):this.map(function(o){return Ki(o,n,a)})}),Ht.prototype.reject=function(n){return this.filter(Fl(Tt(n)))},Ht.prototype.slice=function(n,a){n=Wt(n);var o=this;return o.__filtered__&&(n>0||a<0)?new Ht(o):(n<0?o=o.takeRight(-n):n&&(o=o.drop(n)),a!==X&&(o=(a=Wt(a))<0?o.dropRight(-a):o.take(a-n)),o)},Ht.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ht.prototype.toArray=function(){return this.take(Ke)},Yt(Ht.prototype,function(n,a){var o=/^(?:filter|find|map|reject)|While$/.test(a),c=/^(?:head|last)$/.test(a),y=W[c?"take"+("last"==a?"Right":""):a],w=c||/^find/.test(a);!y||(W.prototype[a]=function(){var T=this.__wrapped__,E=c?[1]:arguments,j=T instanceof Ht,J=E[0],K=j||Ot(T),x=function(ne){var ge=y.apply(W,Oi([ne],E));return c&&z?ge[0]:ge};K&&o&&"function"==typeof J&&1!=J.length&&(j=K=!1);var z=this.__chain__,O=!!this.__actions__.length,U=w&&!z,Q=j&&!O;if(!w&&K){T=Q?T:new Ht(this);var ie=n.apply(T,E);return ie.__actions__.push({func:ui,args:[x],thisArg:X}),new Jn(ie,z)}return U&&Q?n.apply(this,E):(ie=this.thru(x),U?c?ie.value()[0]:ie.value():ie)})}),Sr(["pop","push","shift","sort","splice","unshift"],function(n){var a=Qe[n],o=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",c=/^(?:pop|shift)$/.test(n);W.prototype[n]=function(){var y=arguments;if(c&&!this.__chain__){var w=this.value();return a.apply(Ot(w)?w:[],y)}return this[o](function(T){return a.apply(Ot(T)?T:[],y)})}}),Yt(Ht.prototype,function(n,a){var o=W[a];if(o){var c=o.name+"";bt.call(Xa,c)||(Xa[c]=[]),Xa[c].push({name:a,func:o})}}),Xa[Jo(X,2).name]=[{name:"wrapper",func:X}],Ht.prototype.clone=function da(){var n=new Ht(this.__wrapped__);return n.__actions__=Pn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Pn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Pn(this.__views__),n},Ht.prototype.reverse=function vl(){if(this.__filtered__){var n=new Ht(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},Ht.prototype.value=function $e(){var n=this.__wrapped__.value(),a=this.__dir__,o=Ot(n),c=a<0,y=o?n.length:0,w=function fc(n,a,o){for(var c=-1,y=o.length;++c<y;){var w=o[c],T=w.size;switch(w.type){case"drop":n+=T;break;case"dropRight":a-=T;break;case"take":a=Ln(a,n+T);break;case"takeRight":n=ft(n,a-T)}}return{start:n,end:a}}(0,y,this.__views__),T=w.start,E=w.end,j=E-T,J=c?E:T-1,K=this.__iteratees__,x=K.length,z=0,O=Ln(j,this.__takeCount__);if(!o||!c&&y==j&&O==j)return ic(n,this.__actions__);var U=[];e:for(;j--&&z<O;){for(var Q=-1,ie=n[J+=a];++Q<x;){var ne=K[Q],ke=ne.type,Ne=(0,ne.iteratee)(ie);if(2==ke)ie=Ne;else if(!Ne){if(1==ke)continue e;break e}}U[z++]=ie}return U},W.prototype.at=zu,W.prototype.chain=function df(){return Rc(this)},W.prototype.commit=function gf(){return new Jn(this.value(),this.__chain__)},W.prototype.next=function vf(){this.__values__===X&&(this.__values__=ah(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?X:this.__values__[this.__index__++]}},W.prototype.plant=function Gc(n){for(var a,o=this;o instanceof Yo;){var c=yc(o);c.__index__=0,c.__values__=X,a?y.__wrapped__=c:a=c;var y=c;o=o.__wrapped__}return y.__wrapped__=n,a},W.prototype.reverse=function jc(){var n=this.__wrapped__;if(n instanceof Ht){var a=n;return this.__actions__.length&&(a=new Ht(this)),(a=a.reverse()).__actions__.push({func:ui,args:[z0],thisArg:X}),new Jn(a,this.__chain__)}return this.thru(z0)},W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=function Zc(){return ic(this.__wrapped__,this.__actions__)},W.prototype.first=W.prototype.head,Bs&&(W.prototype[Bs]=function pf(){return this}),W}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Z._=oi,define(function(){return oi})):le?((le.exports=oi)._=oi,Y._=oi):Z._=oi}.call(this),function(X){var Je="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(Nr,ns,Tr){Je.Backbone=X(Je,Tr,Nr,ns)});else if("undefined"!=typeof exports){var Se,Ae=require("underscore");try{Se=require("jquery")}catch(Nr){}X(Je,exports,Ae,Se)}else Je.Backbone=X(Je,{},Je._,Je.jQuery||Je.Zepto||Je.ender||Je.$)}(function(X,Je,Ae,Se){var Nr=X.Backbone,ns=Array.prototype.slice;Je.VERSION="1.4.1",Je.$=Se,Je.noConflict=function(){return X.Backbone=Nr,this},Je.emulateHTTP=!1,Je.emulateJSON=!1;var Un,Tr=Je.Events={},ia=/\s+/,sn=function(L,H,te,pe,De){var qe,Le=0;if(te&&"object"==typeof te)for((void 0!==pe&&"context"in De&&void 0===De.context&&(De.context=pe),qe=Ae.keys(te));Le<qe.length;Le++)H=sn(L,H,qe[Le],te[qe[Le]],De);else if(te&&ia.test(te))for(qe=te.split(ia);Le<qe.length;Le++)H=L(H,qe[Le],pe,De);else H=L(H,te,pe,De);return H};Tr.on=function(L,H,te){return this._events=sn(Fr,this._events||{},L,H,{context:te,ctx:this,listening:Un}),Un&&((this._listeners||(this._listeners={}))[Un.id]=Un,Un.interop=!1),this},Tr.listenTo=function(L,H,te){if(!L)return this;var pe=L._listenId||(L._listenId=Ae.uniqueId("l")),De=this._listeningTo||(this._listeningTo={}),Le=Un=De[pe];Le||(this._listenId||(this._listenId=Ae.uniqueId("l")),Le=Un=De[pe]=new kt(this,L));var qe=Nn(L,H,te,this);if(Un=void 0,qe)throw qe;return Le.interop&&Le.on(H,te),this};var Fr=function(L,H,te,pe){if(te){var De=L[H]||(L[H]=[]),Le=pe.context,qe=pe.ctx,At=pe.listening;At&&At.count++,De.push({callback:te,context:Le,ctx:Le||qe,listening:At})}return L},Nn=function(L,H,te,pe){try{L.on(H,te,pe)}catch(De){return De}};Tr.off=function(L,H,te){return this._events?(this._events=sn(ri,this._events,L,H,{context:te,listeners:this._listeners}),this):this},Tr.stopListening=function(L,H,te){var pe=this._listeningTo;if(!pe)return this;for(var De=L?[L._listenId]:Ae.keys(pe),Le=0;Le<De.length;Le++){var qe=pe[De[Le]];if(!qe)break;qe.obj.off(H,te,this),qe.interop&&qe.off(H,te)}return Ae.isEmpty(pe)&&(this._listeningTo=void 0),this};var ri=function(L,H,te,pe){if(L){var At,De=pe.context,Le=pe.listeners,qe=0;if(!H&&!De&&!te){for(At=Ae.keys(Le);qe<At.length;qe++)Le[At[qe]].cleanup();return}for(At=H?[H]:Ae.keys(L);qe<At.length;qe++){var $t=L[H=At[qe]];if(!$t)break;for(var Rr=[],kr=0;kr<$t.length;kr++){var ir=$t[kr];if(te&&te!==ir.callback&&te!==ir.callback._callback||De&&De!==ir.context)Rr.push(ir);else{var An=ir.listening;An&&An.off(H,te)}}Rr.length?L[H]=Rr:delete L[H]}return L}};Tr.once=function(L,H,te){var pe=sn(jt,{},L,H,this.off.bind(this));return"string"==typeof L&&null==te&&(H=void 0),this.on(pe,H,te)},Tr.listenToOnce=function(L,H,te){var pe=sn(jt,{},H,te,this.stopListening.bind(this,L));return this.listenTo(L,pe)};var jt=function(L,H,te,pe){if(te){var De=L[H]=Ae.once(function(){pe(H,De),te.apply(this,arguments)});De._callback=te}return L};Tr.trigger=function(L){if(!this._events)return this;for(var H=Math.max(0,arguments.length-1),te=Array(H),pe=0;pe<H;pe++)te[pe]=arguments[pe+1];return sn(vt,this._events,L,void 0,te),this};var vt=function(L,H,te,pe){if(L){var De=L[H],Le=L.all;De&&Le&&(Le=Le.slice()),De&&lt(De,pe),Le&&lt(Le,[H].concat(pe))}return L},lt=function(L,H){var te,pe=-1,De=L.length,Le=H[0],qe=H[1],At=H[2];switch(H.length){case 0:for(;++pe<De;)(te=L[pe]).callback.call(te.ctx);return;case 1:for(;++pe<De;)(te=L[pe]).callback.call(te.ctx,Le);return;case 2:for(;++pe<De;)(te=L[pe]).callback.call(te.ctx,Le,qe);return;case 3:for(;++pe<De;)(te=L[pe]).callback.call(te.ctx,Le,qe,At);return;default:for(;++pe<De;)(te=L[pe]).callback.apply(te.ctx,H);return}},kt=function(L,H){this.id=L._listenId,this.listener=L,this.obj=H,this.interop=!0,this.count=0,this._events=void 0};kt.prototype.on=Tr.on,kt.prototype.off=function(L,H){var te;this.interop?(this._events=sn(ri,this._events,L,H,{context:void 0,listeners:void 0}),te=!this._events):(this.count--,te=0===this.count),te&&this.cleanup()},kt.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},Tr.bind=Tr.on,Tr.unbind=Tr.off,Ae.extend(Je,Tr);var On=Je.Model=function(L,H){var te=L||{};H||(H={}),this.preinitialize.apply(this,arguments),this.cid=Ae.uniqueId(this.cidPrefix),this.attributes={},H.collection&&(this.collection=H.collection),H.parse&&(te=this.parse(te,H)||{});var pe=Ae.result(this,"defaults");te=Ae.defaults(Ae.extend({},pe,te),pe),this.set(te,H),this.changed={},this.initialize.apply(this,arguments)};Ae.extend(On.prototype,Tr,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(L){return Ae.clone(this.attributes)},sync:function(){return Je.sync.apply(this,arguments)},get:function(L){return this.attributes[L]},escape:function(L){return Ae.escape(this.get(L))},has:function(L){return null!=this.get(L)},matches:function(L){return!!Ae.iteratee(L,this)(this.attributes)},set:function(L,H,te){if(null==L)return this;var pe;if("object"==typeof L?(pe=L,te=H):(pe={})[L]=H,te||(te={}),!this._validate(pe,te))return!1;var De=te.unset,Le=te.silent,qe=[],At=this._changing;this._changing=!0,At||(this._previousAttributes=Ae.clone(this.attributes),this.changed={});var $t=this.attributes,Rr=this.changed,kr=this._previousAttributes;for(var ir in pe)Ae.isEqual($t[ir],H=pe[ir])||qe.push(ir),Ae.isEqual(kr[ir],H)?delete Rr[ir]:Rr[ir]=H,De?delete $t[ir]:$t[ir]=H;if(this.idAttribute in pe){var An=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,An,te)}if(!Le){qe.length&&(this._pending=te);for(var Dn=0;Dn<qe.length;Dn++)this.trigger("change:"+qe[Dn],this,$t[qe[Dn]],te)}if(At)return this;if(!Le)for(;this._pending;)te=this._pending,this._pending=!1,this.trigger("change",this,te);return this._pending=!1,this._changing=!1,this},unset:function(L,H){return this.set(L,void 0,Ae.extend({},H,{unset:!0}))},clear:function(L){var H={};for(var te in this.attributes)H[te]=void 0;return this.set(H,Ae.extend({},L,{unset:!0}))},hasChanged:function(L){return null==L?!Ae.isEmpty(this.changed):Ae.has(this.changed,L)},changedAttributes:function(L){if(!L)return!!this.hasChanged()&&Ae.clone(this.changed);var pe,H=this._changing?this._previousAttributes:this.attributes,te={};for(var De in L){var Le=L[De];Ae.isEqual(H[De],Le)||(te[De]=Le,pe=!0)}return!!pe&&te},previous:function(L){return null!=L&&this._previousAttributes?this._previousAttributes[L]:null},previousAttributes:function(){return Ae.clone(this._previousAttributes)},fetch:function(L){L=Ae.extend({parse:!0},L);var H=this,te=L.success;return L.success=function(pe){var De=L.parse?H.parse(pe,L):pe;if(!H.set(De,L))return!1;te&&te.call(L.context,H,pe,L),H.trigger("sync",H,pe,L)},ln(this,L),this.sync("read",this,L)},save:function(L,H,te){var pe;null==L||"object"==typeof L?(pe=L,te=H):(pe={})[L]=H;var De=(te=Ae.extend({validate:!0,parse:!0},te)).wait;if(pe&&!De){if(!this.set(pe,te))return!1}else if(!this._validate(pe,te))return!1;var Le=this,qe=te.success,At=this.attributes;te.success=function(kr){Le.attributes=At;var ir=te.parse?Le.parse(kr,te):kr;if(De&&(ir=Ae.extend({},pe,ir)),ir&&!Le.set(ir,te))return!1;qe&&qe.call(te.context,Le,kr,te),Le.trigger("sync",Le,kr,te)},ln(this,te),pe&&De&&(this.attributes=Ae.extend({},At,pe));var $t=this.isNew()?"create":te.patch?"patch":"update";"patch"===$t&&!te.attrs&&(te.attrs=pe);var Rr=this.sync($t,this,te);return this.attributes=At,Rr},destroy:function(L){L=L?Ae.clone(L):{};var H=this,te=L.success,pe=L.wait,De=function(){H.stopListening(),H.trigger("destroy",H,H.collection,L)};L.success=function(qe){pe&&De(),te&&te.call(L.context,H,qe,L),H.isNew()||H.trigger("sync",H,qe,L)};var Le=!1;return this.isNew()?Ae.defer(L.success):(ln(this,L),Le=this.sync("delete",this,L)),pe||De(),Le},url:function(){var L=Ae.result(this,"urlRoot")||Ae.result(this.collection,"url")||Yi();if(this.isNew())return L;var H=this.get(this.idAttribute);return L.replace(/[^\/]$/,"$&/")+encodeURIComponent(H)},parse:function(L,H){return L},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(L){return this._validate({},Ae.extend({},L,{validate:!0}))},_validate:function(L,H){if(!H.validate||!this.validate)return!0;L=Ae.extend({},this.attributes,L);var te=this.validationError=this.validate(L,H)||null;return!te||(this.trigger("invalid",this,te,Ae.extend(H,{validationError:te})),!1)}});var mn=Je.Collection=function(L,H){H||(H={}),this.preinitialize.apply(this,arguments),H.model&&(this.model=H.model),void 0!==H.comparator&&(this.comparator=H.comparator),this._reset(),this.initialize.apply(this,arguments),L&&this.reset(L,Ae.extend({silent:!0},H))},Or={add:!0,remove:!0,merge:!0},Tn={add:!0,remove:!1},k=function(L,H,te){te=Math.min(Math.max(te,0),L.length);var Le,pe=Array(L.length-te),De=H.length;for(Le=0;Le<pe.length;Le++)pe[Le]=L[Le+te];for(Le=0;Le<De;Le++)L[Le+te]=H[Le];for(Le=0;Le<pe.length;Le++)L[Le+De+te]=pe[Le]};Ae.extend(mn.prototype,Tr,{model:On,preinitialize:function(){},initialize:function(){},toJSON:function(L){return this.map(function(H){return H.toJSON(L)})},sync:function(){return Je.sync.apply(this,arguments)},add:function(L,H){return this.set(L,Ae.extend({merge:!1},H,Tn))},remove:function(L,H){H=Ae.extend({},H);var te=!Ae.isArray(L);L=te?[L]:L.slice();var pe=this._removeModels(L,H);return!H.silent&&pe.length&&(H.changes={added:[],merged:[],removed:pe},this.trigger("update",this,H)),te?pe[0]:pe},set:function(L,H){if(null!=L){(H=Ae.extend({},Or,H)).parse&&!this._isModel(L)&&(L=this.parse(L,H)||[]);var te=!Ae.isArray(L);L=te?[L]:L.slice();var pe=H.at;null!=pe&&(pe=+pe),pe>this.length&&(pe=this.length),pe<0&&(pe+=this.length+1);var ar,qr,De=[],Le=[],qe=[],At=[],$t={},Rr=H.add,kr=H.merge,ir=H.remove,An=!1,Dn=this.comparator&&null==pe&&!1!==H.sort,Hn=Ae.isString(this.comparator)?this.comparator:null;for(qr=0;qr<L.length;qr++){var fn=this.get(ar=L[qr]);if(fn){if(kr&&ar!==fn){var Jt=this._isModel(ar)?ar.attributes:ar;H.parse&&(Jt=fn.parse(Jt,H)),fn.set(Jt,H),qe.push(fn),Dn&&!An&&(An=fn.hasChanged(Hn))}$t[fn.cid]||($t[fn.cid]=!0,De.push(fn)),L[qr]=fn}else Rr&&(ar=L[qr]=this._prepareModel(ar,H))&&(Le.push(ar),this._addReference(ar,H),$t[ar.cid]=!0,De.push(ar))}if(ir){for(qr=0;qr<this.length;qr++)$t[(ar=this.models[qr]).cid]||At.push(ar);At.length&&this._removeModels(At,H)}var Ze=!1;if(De.length&&!Dn&&Rr&&ir?(Ze=this.length!==De.length||Ae.some(this.models,function(In,Ga){return In!==De[Ga]}),this.models.length=0,k(this.models,De,0),this.length=this.models.length):Le.length&&(Dn&&(An=!0),k(this.models,Le,null==pe?this.length:pe),this.length=this.models.length),An&&this.sort({silent:!0}),!H.silent){for(qr=0;qr<Le.length;qr++)null!=pe&&(H.index=pe+qr),(ar=Le[qr]).trigger("add",ar,this,H);(An||Ze)&&this.trigger("sort",this,H),(Le.length||At.length||qe.length)&&(H.changes={added:Le,removed:At,merged:qe},this.trigger("update",this,H))}return te?L[0]:L}},reset:function(L,H){H=H?Ae.clone(H):{};for(var te=0;te<this.models.length;te++)this._removeReference(this.models[te],H);return H.previousModels=this.models,this._reset(),L=this.add(L,Ae.extend({silent:!0},H)),H.silent||this.trigger("reset",this,H),L},push:function(L,H){return this.add(L,Ae.extend({at:this.length},H))},pop:function(L){var H=this.at(this.length-1);return this.remove(H,L)},unshift:function(L,H){return this.add(L,Ae.extend({at:0},H))},shift:function(L){var H=this.at(0);return this.remove(H,L)},slice:function(){return ns.apply(this.models,arguments)},get:function(L){if(null!=L)return this._byId[L]||this._byId[this.modelId(this._isModel(L)?L.attributes:L,L.idAttribute)]||L.cid&&this._byId[L.cid]},has:function(L){return null!=this.get(L)},at:function(L){return L<0&&(L+=this.length),this.models[L]},where:function(L,H){return this[H?"find":"filter"](L)},findWhere:function(L){return this.where(L,!0)},sort:function(L){var H=this.comparator;if(!H)throw new Error("Cannot sort a set without a comparator");L||(L={});var te=H.length;return Ae.isFunction(H)&&(H=H.bind(this)),1===te||Ae.isString(H)?this.models=this.sortBy(H):this.models.sort(H),L.silent||this.trigger("sort",this,L),this},pluck:function(L){return this.map(L+"")},fetch:function(L){var H=(L=Ae.extend({parse:!0},L)).success,te=this;return L.success=function(pe){te[L.reset?"reset":"set"](pe,L),H&&H.call(L.context,te,pe,L),te.trigger("sync",te,pe,L)},ln(this,L),this.sync("read",this,L)},create:function(L,H){var te=(H=H?Ae.clone(H):{}).wait;if(!(L=this._prepareModel(L,H)))return!1;te||this.add(L,H);var pe=this,De=H.success;return H.success=function(Le,qe,At){te&&pe.add(Le,At),De&&De.call(At.context,Le,qe,At)},L.save(null,H),L},parse:function(L,H){return L},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(L,H){return L[H||this.model.prototype.idAttribute||"id"]},values:function(){return new wr(this,Vn)},keys:function(){return new wr(this,Cr)},entries:function(){return new wr(this,Li)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(L,H){return this._isModel(L)?(L.collection||(L.collection=this),L):((H=H?Ae.clone(H):{}).collection=this,(te=this.model.prototype?new this.model(L,H):this.model(L,H)).validationError?(this.trigger("invalid",this,te.validationError,H),!1):te);var te},_removeModels:function(L,H){for(var te=[],pe=0;pe<L.length;pe++){var De=this.get(L[pe]);if(De){var Le=this.indexOf(De);this.models.splice(Le,1),this.length--,delete this._byId[De.cid];var qe=this.modelId(De.attributes,De.idAttribute);null!=qe&&delete this._byId[qe],H.silent||(H.index=Le,De.trigger("remove",De,this,H)),te.push(De),this._removeReference(De,H)}}return te},_isModel:function(L){return L instanceof On},_addReference:function(L,H){this._byId[L.cid]=L;var te=this.modelId(L.attributes,L.idAttribute);null!=te&&(this._byId[te]=L),L.on("all",this._onModelEvent,this)},_removeReference:function(L,H){delete this._byId[L.cid];var te=this.modelId(L.attributes,L.idAttribute);null!=te&&delete this._byId[te],this===L.collection&&delete L.collection,L.off("all",this._onModelEvent,this)},_onModelEvent:function(L,H,te,pe){if(H){if(("add"===L||"remove"===L)&&te!==this)return;if("destroy"===L&&this.remove(H,pe),"changeId"===L){var De=this.modelId(H.previousAttributes(),H.idAttribute),Le=this.modelId(H.attributes,H.idAttribute);null!=De&&delete this._byId[De],null!=Le&&(this._byId[Le]=H)}}this.trigger.apply(this,arguments)}});var yn="function"==typeof Symbol&&Symbol.iterator;yn&&(mn.prototype[yn]=mn.prototype.values);var wr=function(L,H){this._collection=L,this._kind=H,this._index=0},Vn=1,Cr=2,Li=3;yn&&(wr.prototype[yn]=function(){return this}),wr.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var H,L=this._collection.at(this._index);if(this._index++,this._kind===Vn)H=L;else{var te=this._collection.modelId(L.attributes,L.idAttribute);H=this._kind===Cr?te:[te,L]}return{value:H,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var vr=Je.View=function(L){this.cid=Ae.uniqueId("view"),this.preinitialize.apply(this,arguments),Ae.extend(this,Ae.pick(L,Ba)),this._ensureElement(),this.initialize.apply(this,arguments)},hr=/^(\S+)\s*(.*)$/,Ba=["model","collection","el","id","attributes","className","tagName","events"];Ae.extend(vr.prototype,Tr,{tagName:"div",$:function(L){return this.$el.find(L)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(L){return this.undelegateEvents(),this._setElement(L),this.delegateEvents(),this},_setElement:function(L){this.$el=L instanceof Je.$?L:Je.$(L),this.el=this.$el[0]},delegateEvents:function(L){if(L||(L=Ae.result(this,"events")),!L)return this;for(var H in this.undelegateEvents(),L){var te=L[H];if(Ae.isFunction(te)||(te=this[te]),te){var pe=H.match(hr);this.delegate(pe[1],pe[2],te.bind(this))}}return this},delegate:function(L,H,te){return this.$el.on(L+".delegateEvents"+this.cid,H,te),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(L,H,te){return this.$el.off(L+".delegateEvents"+this.cid,H,te),this},_createElement:function(L){return document.createElement(L)},_ensureElement:function(){if(this.el)this.setElement(Ae.result(this,"el"));else{var L=Ae.extend({},Ae.result(this,"attributes"));this.id&&(L.id=Ae.result(this,"id")),this.className&&(L.class=Ae.result(this,"className")),this.setElement(this._createElement(Ae.result(this,"tagName"))),this._setAttributes(L)}},_setAttributes:function(L){this.$el.attr(L)}});var Ei=function(L,H,te,pe){Ae.each(te,function(De,Le){H[Le]&&(L.prototype[Le]=function(L,H,te,pe){switch(H){case 1:return function(){return L[te](this[pe])};case 2:return function(De){return L[te](this[pe],De)};case 3:return function(De,Le){return L[te](this[pe],wi(De,this),Le)};case 4:return function(De,Le,qe){return L[te](this[pe],wi(De,this),Le,qe)};default:return function(){var De=ns.call(arguments);return De.unshift(this[pe]),L[te].apply(L,De)}}}(H,De,Le,pe))})},wi=function(L,H){return Ae.isFunction(L)?L:Ae.isObject(L)&&!H._isModel(L)?no(L):Ae.isString(L)?function(te){return te.get(L)}:L},no=function(L){var H=Ae.matches(L);return function(te){return H(te.attributes)}};Ae.each([[mn,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[On,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(L){var H=L[0],te=L[1],pe=L[2];H.mixin=function(De){var Le=Ae.reduce(Ae.functions(De),function(qe,At){return qe[At]=0,qe},{});Ei(H,De,Le,pe)},Ei(H,Ae,te,pe)}),Je.sync=function(L,H,te){var pe=kn[L];Ae.defaults(te||(te={}),{emulateHTTP:Je.emulateHTTP,emulateJSON:Je.emulateJSON});var De={type:pe,dataType:"json"};if(te.url||(De.url=Ae.result(H,"url")||Yi()),null==te.data&&H&&("create"===L||"update"===L||"patch"===L)&&(De.contentType="application/json",De.data=JSON.stringify(te.attrs||H.toJSON(te))),te.emulateJSON&&(De.contentType="application/x-www-form-urlencoded",De.data=De.data?{model:De.data}:{}),te.emulateHTTP&&("PUT"===pe||"DELETE"===pe||"PATCH"===pe)){De.type="POST",te.emulateJSON&&(De.data._method=pe);var Le=te.beforeSend;te.beforeSend=function($t){if($t.setRequestHeader("X-HTTP-Method-Override",pe),Le)return Le.apply(this,arguments)}}"GET"!==De.type&&!te.emulateJSON&&(De.processData=!1);var qe=te.error;te.error=function($t,Rr,kr){te.textStatus=Rr,te.errorThrown=kr,qe&&qe.call(te.context,$t,Rr,kr)};var At=te.xhr=Je.ajax(Ae.extend(De,te));return H.trigger("request",H,At,te),At};var kn={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};Je.ajax=function(){return Je.$.ajax.apply(Je.$,arguments)};var Aa=Je.Router=function(L){L||(L={}),this.preinitialize.apply(this,arguments),L.routes&&(this.routes=L.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Ia=/\((.*?)\)/g,ni=/(\(\?)?:\w+/g,on=/\*\w+/g,ba=/[\-{}\[\]+?.,\\\^$|#\s]/g;Ae.extend(Aa.prototype,Tr,{preinitialize:function(){},initialize:function(){},route:function(L,H,te){Ae.isRegExp(L)||(L=this._routeToRegExp(L)),Ae.isFunction(H)&&(te=H,H=""),te||(te=this[H]);var pe=this;return Je.history.route(L,function(De){var Le=pe._extractParameters(L,De);!1!==pe.execute(te,Le,H)&&(pe.trigger.apply(pe,["route:"+H].concat(Le)),pe.trigger("route",H,Le),Je.history.trigger("route",pe,H,Le))}),this},execute:function(L,H,te){L&&L.apply(this,H)},navigate:function(L,H){return Je.history.navigate(L,H),this},_bindRoutes:function(){if(this.routes){this.routes=Ae.result(this,"routes");for(var L,H=Ae.keys(this.routes);null!=(L=H.pop());)this.route(L,this.routes[L])}},_routeToRegExp:function(L){return L=L.replace(ba,"\\$&").replace(Ia,"(?:$1)?").replace(ni,function(H,te){return te?H:"([^/?]+)"}).replace(on,"([^?]*?)"),new RegExp("^"+L+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(L,H){var te=L.exec(H).slice(1);return Ae.map(te,function(pe,De){return De===te.length-1?pe||null:pe?decodeURIComponent(pe):null})}});var Wr=Je.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},Ra=/^[#\/]|\s+$/g,aa=/^\/+|\/+$/g,is=/#.*$/;Wr.started=!1,Ae.extend(Wr.prototype,Tr,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(L){return decodeURI(L.replace(/%25/g,"%2525"))},getSearch:function(){var L=this.location.href.replace(/#.*/,"").match(/\?.+/);return L?L[0]:""},getHash:function(L){var H=(L||this).location.href.match(/#(.*)$/);return H?H[1]:""},getPath:function(){var L=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===L.charAt(0)?L.slice(1):L},getFragment:function(L){return null==L&&(L=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),L.replace(Ra,"")},start:function(L){if(Wr.started)throw new Error("Backbone.history has already been started");if(Wr.started=!0,this.options=Ae.extend({root:"/"},this.options,L),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(aa,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var H=this.root.slice(0,-1)||"/";return this.location.replace(H+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var te=document.body,pe=te.insertBefore(this.iframe,te.firstChild).contentWindow;pe.document.open(),pe.document.close(),pe.location.hash="#"+this.fragment}var De=window.addEventListener||function(Le,qe){return attachEvent("on"+Le,qe)};if(this._usePushState?De("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?De("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var L=window.removeEventListener||function(H,te){return detachEvent("on"+H,te)};this._usePushState?L("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&L("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Wr.started=!1},route:function(L,H){this.handlers.unshift({route:L,callback:H})},checkUrl:function(L){var H=this.getFragment();if(H===this.fragment&&this.iframe&&(H=this.getHash(this.iframe.contentWindow)),H===this.fragment)return!1;this.iframe&&this.navigate(H),this.loadUrl()},loadUrl:function(L){return!!this.matchRoot()&&(L=this.fragment=this.getFragment(L),Ae.some(this.handlers,function(H){if(H.route.test(L))return H.callback(L),!0}))},navigate:function(L,H){if(!Wr.started)return!1;(!H||!0===H)&&(H={trigger:!!H}),L=this.getFragment(L||"");var te=this.root;(""===L||"?"===L.charAt(0))&&(te=te.slice(0,-1)||"/");var pe=te+L;L=L.replace(is,"");var De=this.decodeFragment(L);if(this.fragment!==De){if(this.fragment=De,this._usePushState)this.history[H.replace?"replaceState":"pushState"]({},document.title,pe);else{if(!this._wantsHashChange)return this.location.assign(pe);if(this._updateHash(this.location,L,H.replace),this.iframe&&L!==this.getHash(this.iframe.contentWindow)){var Le=this.iframe.contentWindow;H.replace||(Le.document.open(),Le.document.close()),this._updateHash(Le.location,L,H.replace)}}if(H.trigger)return this.loadUrl(L)}},_updateHash:function(L,H,te){if(te){var pe=L.href.replace(/(javascript:|#).*$/,"");L.replace(pe+"#"+H)}else L.hash="#"+H}}),Je.history=new Wr,On.extend=mn.extend=Aa.extend=vr.extend=Wr.extend=function(L,H){var pe,te=this;return pe=L&&Ae.has(L,"constructor")?L.constructor:function(){return te.apply(this,arguments)},Ae.extend(pe,te,H),pe.prototype=Ae.create(te.prototype,L),pe.prototype.constructor=pe,pe.__super__=te.prototype,pe};var Yi=function(){throw new Error('A "url" property or function must be specified')},ln=function(L,H){var te=H.error;H.error=function(pe){te&&te.call(H.context,L,pe,H),L.trigger("error",L,pe,H)}};return Je}),function(X,Je){"object"==typeof exports&&"undefined"!=typeof module?Je(exports,require("backbone"),require("lodash"),require("jquery")):"function"==typeof define&&define.amd?define(["exports","backbone","lodash","jquery"],Je):Je((X=X||self).joint={},X.Backbone,X._,X.$)}(this,function(X,Je,Ae,Se){"use strict";Je=Je&&Je.hasOwnProperty("default")?Je.default:Je,Ae=Ae&&Ae.hasOwnProperty("default")?Ae.default:Ae,Se=Se&&Se.hasOwnProperty("default")?Se.default:Se;var Nr="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ia(e,t){return e(t={exports:{}},t.exports),t.exports}var sn=function(e){return e&&e.Math==Math&&e},Fr=sn("object"==typeof globalThis&&globalThis)||sn("object"==typeof window&&window)||sn("object"==typeof self&&self)||sn("object"==typeof Nr&&Nr)||function(){return this}()||Function("return this")(),Nn=function(e){try{return!!e()}catch(t){return!0}},ri=!Nn(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),jt={}.propertyIsEnumerable,vt=Object.getOwnPropertyDescriptor,kt=vt&&!jt.call({1:2},1)?function(t){var r=vt(this,t);return!!r&&r.enumerable}:jt,On={f:kt},mn=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Or={}.toString,Tn=function(e){return Or.call(e).slice(8,-1)},k="".split,yn=Nn(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==Tn(e)?k.call(e,""):Object(e)}:Object,wr=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Vn=function(e){return yn(wr(e))},Cr=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Li=function(e,t){if(!Cr(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!Cr(i=r.call(e))||"function"==typeof(r=e.valueOf)&&!Cr(i=r.call(e))||!t&&"function"==typeof(r=e.toString)&&!Cr(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")},vr={}.hasOwnProperty,hr=function(e,t){return vr.call(e,t)},Ba=Fr.document,ro=Cr(Ba)&&Cr(Ba.createElement),Ei=function(e){return ro?Ba.createElement(e):{}},wi=!ri&&!Nn(function(){return 7!=Object.defineProperty(Ei("div"),"a",{get:function(){return 7}}).a}),no=Object.getOwnPropertyDescriptor,Oa=ri?no:function(t,r){if(t=Vn(t),r=Li(r,!0),wi)try{return no(t,r)}catch(i){}if(hr(t,r))return mn(!On.f.call(t,r),t[r])},Ke={f:Oa},kn=function(e){if(!Cr(e))throw TypeError(String(e)+" is not an object");return e},Aa=Object.defineProperty,Ia=ri?Aa:function(t,r,i){if(kn(t),r=Li(r,!0),kn(i),wi)try{return Aa(t,r,i)}catch(s){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[r]=i.value),t},ni={f:Ia},on=ri?function(e,t,r){return ni.f(e,t,mn(1,r))}:function(e,t,r){return e[t]=r,e},ba=function(e,t){try{on(Fr,e,t)}catch(r){Fr[e]=t}return t},Wr="__core-js_shared__",aa=Fr[Wr]||ba(Wr,{}),is=Function.toString;"function"!=typeof aa.inspectSource&&(aa.inspectSource=function(e){return is.call(e)});var Rr,kr,ir,Rn=aa.inspectSource,Yi=Fr.WeakMap,ln="function"==typeof Yi&&/native code/.test(Rn(Yi)),H=ia(function(e){(e.exports=function(t,r){return aa[t]||(aa[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),te=0,pe=Math.random(),De=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++te+pe).toString(36)},Le=H("keys"),qe=function(e){return Le[e]||(Le[e]=De(e))},At={};if(ln){var Hn=aa.state||(aa.state=new(0,Fr.WeakMap)),ar=Hn.get,qr=Hn.has,fn=Hn.set;Rr=function(e,t){return t.facade=e,fn.call(Hn,e,t),t},kr=function(e){return ar.call(Hn,e)||{}},ir=function(e){return qr.call(Hn,e)}}else{var Jt=qe("state");At[Jt]=!0,Rr=function(e,t){return t.facade=e,on(e,Jt,t),t},kr=function(e){return hr(e,Jt)?e[Jt]:{}},ir=function(e){return hr(e,Jt)}}var Ts,Ze={set:Rr,get:kr,has:ir,enforce:function(e){return ir(e)?kr(e):Rr(e,{})},getterFor:function(e){return function(t){var r;if(!Cr(t)||(r=kr(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},xs=ia(function(e){var t=Ze.get,r=Ze.enforce,i=String(String).split("String");(e.exports=function(s,l,f,p){var c,n=!!p&&!!p.unsafe,a=!!p&&!!p.enumerable,o=!!p&&!!p.noTargetGet;"function"==typeof f&&("string"==typeof l&&!hr(f,"name")&&on(f,"name",l),(c=r(f)).source||(c.source=i.join("string"==typeof l?l:""))),s!==Fr?(n?!o&&s[l]&&(a=!0):delete s[l],a?s[l]=f:on(s,l,f)):a?s[l]=f:ba(l,f)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||Rn(this)})}),Ci=Fr,wa=function(e){return"function"==typeof e?e:void 0},hi=function(e,t){return arguments.length<2?wa(Ci[e])||wa(Fr[e]):Ci[e]&&Ci[e][t]||Fr[e]&&Fr[e][t]},Ui=Math.ceil,Vi=Math.floor,Ss=function(e){return isNaN(e=+e)?0:(e>0?Vi:Ui)(e)},To=Math.min,io=function(e){return e>0?To(Ss(e),9007199254740991):0},i0=Math.max,G0=Math.min,Dr=function(e){return function(t,r,i){var p,s=Vn(t),l=io(s.length),f=function(e,t){var r=Ss(e);return r<0?i0(r+t,0):G0(r,t)}(i,l);if(e&&r!=r){for(;l>f;)if((p=s[f++])!=p)return!0}else for(;l>f;f++)if((e||f in s)&&s[f]===r)return e||f||0;return!e&&-1}},b={includes:Dr(!0),indexOf:Dr(!1)},R=b.indexOf,ee=function(e,t){var l,r=Vn(e),i=0,s=[];for(l in r)!hr(At,l)&&hr(r,l)&&s.push(l);for(;t.length>i;)hr(r,l=t[i++])&&(~R(s,l)||s.push(l));return s},Ar=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tt=Ar.concat("length","prototype"),Gn=Object.getOwnPropertyNames||function(t){return ee(t,tt)},ss={f:Gn},tn={f:Object.getOwnPropertySymbols},ii=hi("Reflect","ownKeys")||function(t){var r=ss.f(kn(t)),i=tn.f;return i?r.concat(i(t)):r},Ms=function(e,t){for(var r=ii(t),i=ni.f,s=Ke.f,l=0;l<r.length;l++){var f=r[l];hr(e,f)||i(e,f,s(t,f))}},re=/#|\.prototype\./,Xn=function(e,t){var r=Ns[he(e)];return r==ja||r!=ko&&("function"==typeof t?Nn(t):!!t)},he=Xn.normalize=function(e){return String(e).replace(re,".").toLowerCase()},Ns=Xn.data={},ko=Xn.NATIVE="N",ja=Xn.POLYFILL="P",ao=Xn,Do=Ke.f,rn=function(e,t){var f,p,n,a,o,r=e.target,i=e.global,s=e.stat;if(f=i?Fr:s?Fr[r]||ba(r,{}):(Fr[r]||{}).prototype)for(p in t){if(a=t[p],n=e.noTargetGet?(o=Do(f,p))&&o.value:f[p],!ao(i?p:r+(s?".":"#")+p,e.forced)&&void 0!==n){if(typeof a==typeof n)continue;Ms(a,n)}(e.sham||n&&n.sham)&&on(a,"sham",!0),xs(f,p,a,e)}},sa=!!Object.getOwnPropertySymbols&&!Nn(function(){return!String(Symbol())}),Ca=sa&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,xi=H("wks"),oa=Fr.Symbol,Dt=Ca?oa:oa&&oa.withoutSetter||De,zr=function(e){return hr(xi,e)||(xi[e]=sa&&hr(oa,e)?oa[e]:Dt("Symbol."+e)),xi[e]},Kr=Object.keys||function(t){return ee(t,Ar)},la=ri?Object.defineProperties:function(t,r){kn(t);for(var f,i=Kr(r),s=i.length,l=0;s>l;)ni.f(t,f=i[l++],r[f]);return t},Si=hi("document","documentElement"),Za="prototype",ls=qe("IE_PROTO"),so=function(){},Bi=function(e){return"<script>"+e+"<\/script>"},ks=function(){try{Ts=document.domain&&new ActiveXObject("htmlfile")}catch(t){}ks=Ts?function(e){e.write(Bi("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Ts):function(){var r,e=Ei("iframe");return e.style.display="none",Si.appendChild(e),e.src=String("javascript:"),(r=e.contentWindow.document).open(),r.write(Bi("document.F=Object")),r.close(),r.F}();for(var e=Ar.length;e--;)delete ks[Za][Ar[e]];return ks()};At[ls]=!0;var lo=Object.create||function(t,r){var i;return null!==t?(so[Za]=kn(t),i=new so,so[Za]=null,i[ls]=t):i=ks(),void 0===r?i:la(i,r)},ua=zr("unscopables"),xa=Array.prototype;null==xa[ua]&&ni.f(xa,ua,{configurable:!0,value:lo(null)});var _r=function(e){xa[ua][e]=!0},zo=Object.defineProperty,Ds={},a0=function(e){throw e},zs=function(e,t){if(hr(Ds,e))return Ds[e];t||(t={});var r=[][e],i=!!hr(t,"ACCESSORS")&&t.ACCESSORS,s=hr(t,0)?t[0]:a0,l=hr(t,1)?t[1]:void 0;return Ds[e]=!!r&&!Nn(function(){if(i&&!ri)return!0;var f={length:-1};i?zo(f,1,{enumerable:!0,get:a0}):f[1]=1,r.call(f,s,l)})},uo=b.includes,s0=zs("indexOf",{ACCESSORS:!0,1:0});rn({target:"Array",proto:!0,forced:!s0},{includes:function(t){return uo(this,t,arguments.length>1?arguments[1]:void 0)}}),_r("includes");var us=function(e,t,r){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,s){return e.call(t,i,s)};case 3:return function(i,s,l){return e.call(t,i,s,l)}}return function(){return e.apply(t,arguments)}},o0=Function.call,Fa=function(e,t,r){return us(o0,Fr[e].prototype[t],r)},xr=(Fa("Array","includes"),function(e){return Object(wr(e))}),Hi=Array.isArray||function(t){return"Array"==Tn(t)},Mi=zr("species"),u0=function(e,t){var r;return Hi(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!Hi(r.prototype)?Cr(r)&&null===(r=r[Mi])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},co=[].push,ca=function(e){var t=1==e,r=2==e,i=3==e,s=4==e,l=6==e,f=7==e,p=5==e||l;return function(n,a,o,c){for(var x,z,y=xr(n),w=yn(y),T=us(a,o,3),E=io(w.length),j=0,J=c||u0,K=t?J(n,E):r||f?J(n,0):void 0;E>j;j++)if((p||j in w)&&(z=T(x=w[j],j,y),e))if(t)K[j]=z;else if(z)switch(e){case 3:return!0;case 5:return x;case 6:return j;case 2:co.call(K,x)}else switch(e){case 4:return!1;case 7:co.call(K,x)}return l?-1:i||s?s:K}},zn={forEach:ca(0),map:ca(1),filter:ca(2),some:ca(3),every:ca(4),find:ca(5),findIndex:ca(6),filterOut:ca(7)},C=zn.find,S="find",B=!0,Z=zs(S);S in[]&&Array(1)[S](function(){B=!1}),rn({target:"Array",proto:!0,forced:B||!Z},{find:function(t){return C(this,t,arguments.length>1?arguments[1]:void 0)}}),_r(S),Fa("Array","find");var _t,ct,fr,ve=function(e){return function(t,r){var f,p,i=String(wr(t)),s=Ss(r),l=i.length;return s<0||s>=l?e?"":void 0:(f=i.charCodeAt(s))<55296||f>56319||s+1===l||(p=i.charCodeAt(s+1))<56320||p>57343?e?i.charAt(s):f:e?i.slice(s,s+2):p-56320+(f-55296<<10)+65536}},de={codeAt:ve(!1),charAt:ve(!0)},we=!Nn(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),He=qe("IE_PROTO"),ut=Object.prototype,rt=we?Object.getPrototypeOf:function(e){return e=xr(e),hr(e,He)?e[He]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ut:null},Me=zr("iterator"),sr=!1;[].keys&&("next"in(fr=[].keys())?(ct=rt(rt(fr)))!==Object.prototype&&(_t=ct):sr=!0);var ot=null==_t||Nn(function(){var e={};return _t[Me].call(e)!==e});ot&&(_t={}),!hr(_t,Me)&&on(_t,Me,function(){return this});var dr={IteratorPrototype:_t,BUGGY_SAFARI_ITERATORS:sr},qn=ni.f,Ma=zr("toStringTag"),Na=function(e,t,r){e&&!hr(e=r?e:e.prototype,Ma)&&qn(e,Ma,{configurable:!0,value:t})},wn={},cs=dr.IteratorPrototype,Ni=function(){return this},gn=Object.setPrototypeOf||("__proto__"in{}?function(){var r,e=!1,t={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),e=t instanceof Array}catch(i){}return function(s,l){return kn(s),function(e){if(!Cr(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(l),e?r.call(s,l):s.__proto__=l,s}}():void 0),un=dr.IteratorPrototype,Ye=dr.BUGGY_SAFARI_ITERATORS,Gt=zr("iterator"),cn="values",Yr="entries",ai=function(){return this},hs=de.charAt,Eo="String Iterator",Po=Ze.set,fi=Ze.getterFor(Eo);!function(e,t,r,i,s,l,f){!function(e,t,r){var i="String Iterator";e.prototype=lo(cs,{next:mn(1,r)}),Na(e,i,!1),wn[i]=Ni}(r,0,function(){var s,t=fi(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(s=hs(r,i),t.index+=s.length,{value:s,done:!1})});var T,p=function(J){if(J===s&&y)return y;if(!Ye&&J in o)return o[J];switch(J){case"keys":case cn:case Yr:return function(){return new r(this,J)}}return function(){return new r(this)}},o=e.prototype,c=o[Gt]||o["@@iterator"]||s,y=!Ye&&c||p(s);c&&(T=rt(c.call(new e)),un!==Object.prototype&&T.next&&(rt(T)!==un&&(gn?gn(T,un):"function"!=typeof T[Gt]&&on(T,Gt,ai)),Na(T,"String Iterator",!0))),o[Gt]!==y&&on(o,Gt,y),wn[t]=y}(String,"String",function(e){Po(this,{type:Eo,string:String(e),index:0})});var Bo=function(e,t,r,i){try{return i?t(kn(r)[0],r[1]):t(r)}catch(s){throw function(e){var t=e.return;void 0!==t&&kn(t.call(e))}(e),s}},Oo=zr("iterator"),Wa=Array.prototype,c0=function(e){return void 0!==e&&(wn.Array===e||Wa[Oo]===e)},fo=function(e,t,r){var i=Li(t);i in e?ni.f(e,i,mn(0,r)):e[i]=r},si={};si[zr("toStringTag")]="z";var ha="[object z]"===String(si),Ro=zr("toStringTag"),h0="Arguments"==Tn(function(){return arguments}()),pr=ha?Tn:function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=Object(e),Ro))?r:h0?Tn(t):"Object"==(i=Tn(t))&&"function"==typeof t.callee?"Arguments":i},di=zr("iterator"),Fn=function(e){if(null!=e)return e[di]||e["@@iterator"]||wn[pr(e)]},_a=zr("iterator"),jo=!1;try{var fs=0,vi={next:function(){return{done:!!fs++}},return:function(){jo=!0}};vi[_a]=function(){return this},Array.from(vi,function(){throw 2})}catch(e){}var fa=!function(e,t){if(!jo)return!1;var r=!1;try{var i={};i[_a]=function(){return{next:function(){return{done:r=!0}}}},function(e){Array.from(e)}(i)}catch(s){}return r}();rn({target:"Array",stat:!0,forced:fa},{from:function(t){var a,o,c,y,w,T,r=xr(t),i="function"==typeof this?this:Array,s=arguments.length,l=s>1?arguments[1]:void 0,f=void 0!==l,p=Fn(r),n=0;if(f&&(l=us(l,s>2?arguments[2]:void 0,2)),null==p||i==Array&&c0(p))for(o=new i(a=io(r.length));a>n;n++)T=f?l(r[n],n):r[n],fo(o,n,T);else for(w=(y=p.call(r)).next,o=new i;!(c=w.call(y)).done;n++)T=f?Bo(y,l,[c.value,n],!0):c.value,fo(o,n,T);return o.length=n,o}});var po=zn.findIndex,oi="findIndex",fe=!0,Te=zs(oi);oi in[]&&Array(1)[oi](function(){fe=!1}),rn({target:"Array",proto:!0,forced:fe||!Te},{findIndex:function(t){return po(this,t,arguments.length>1?arguments[1]:void 0)}}),_r(oi),Fa("Array","findIndex"),ia(function(e,t){!function(){var r=t,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(l){this.message=l}(s.prototype=new Error).name="InvalidCharacterError",r.btoa||(r.btoa=function(l){for(var p,n,f=String(l),a=0,o=i,c="";f.charAt(0|a)||(o="=",a%1);c+=o.charAt(63&p>>8-a%1*8)){if((n=f.charCodeAt(a+=3/4))>255)throw new s("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");p=p<<8|n}return c}),r.atob||(r.atob=function(l){var f=String(l).replace(/=+$/,"");if(f.length%4==1)throw new s("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,p=0,o=0,c="";a=f.charAt(o++);~a&&(n=p%4?64*n+a:a,p++%4)?c+=String.fromCharCode(255&n>>(-2*p&6)):0)a=i.indexOf(a);return c})}()}),rn({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Re=Fr.isFinite,_e=Number.isFinite||function(t){return"number"==typeof t&&Re(t)};rn({target:"Number",stat:!0},{isFinite:_e});var yt=zr("match"),bt=function(e){if(function(e){var t;return Cr(e)&&(void 0!==(t=e[yt])?!!t:"RegExp"==Tn(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},It=zr("match"),Qr=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[It]=!1,"/./"[e](t)}catch(i){}}return!1};rn({target:"String",proto:!0,forced:!Qr("includes")},{includes:function(t){return!!~String(wr(this)).indexOf(bt(t),arguments.length>1?arguments[1]:void 0)}}),Fa("String","includes");var e,Gi=Ke.f,Ur="".startsWith,mr=Math.min,$r=Qr("startsWith"),Ya=!($r||(e=Gi(String.prototype,"startsWith"),!e||e.writable));rn({target:"String",proto:!0,forced:!Ya&&!$r},{startsWith:function(t){var r=String(wr(this));bt(t);var i=io(mr(arguments.length>1?arguments[1]:void 0,r.length)),s=String(t);return Ur?Ur.call(r,s,i):r.slice(i,i+s.length)===s}}),Fa("String","startsWith"),function(){function e(i,s){return this.slice(i,s)}function t(i,s){arguments.length<2&&(s=0);for(var l=0,f=i.length;l<f;++l,++s)this[s]=255&i[l]}function r(i){var s;if("number"==typeof i){s=new Array(i);for(var l=0;l<i;++l)s[l]=0}else s=i.slice(0);return s.subarray=e,s.buffer=s,s.byteLength=s.length,s.set=t,"object"==typeof i&&i.buffer&&(s.buffer=i.buffer),s}"undefined"==typeof Uint8Array&&"undefined"!=typeof window&&(window.Uint8Array=r,window.Uint32Array=r,window.Int32Array=r)}();var Fo=Math.round,gl=Math.floor,Bs=Math.PI,Ti=function(e){return e%360+(e<0?360:0)},ds=function(e,t){return t*Fo(e/t)},mo=function(e){return 180*e/Bs%360},mi=function(e,t){return(e=(t=t||!1)?e:e%360)*Bs/180},Rs=function(e,t){if(void 0===t)t=void 0===e?1:e,e=0;else if(t<e){var r=e;e=t,t=r}return gl(Math.random()*(t-e+1)+e)},gs=Math.cos,yo=Math.sin,F0=Math.atan2,Wo=function(e,t){var r=mi(e.y),i=mi(t.y),f=mi(t.x-e.x),p=yo(f)*gs(i),n=gs(r)*yo(i)-yo(r)*gs(i)*gs(f),c=mo(F0(p,n))-22.5;return c<0&&(c+=360),["NE","E","SE","S","SW","W","NW","N"][c=parseInt(c/45)]},d0=function(e,t){var r=e.x,i=e.y;return(r-=t.x)*r+(i-=t.y)*i},W0=function(e,t){return Math.sqrt(d0(e,t))},ft={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},Ln=Math.abs,_o=Math.cos,g0=Math.sin,v0=Math.sqrt,_0=Math.min,Ua=Math.max,Va=Math.atan2,p0=Math.round,Ao=Math.pow,Gs=Math.PI,oe=function(e,t){if(!(this instanceof oe))return new oe(e,t);if("string"==typeof e){var r=e.split(-1===e.indexOf("@")?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=void 0===e?0:e,this.y=void 0===t?0:t};oe.fromPolar=function(e,t,r){r=new oe(r);var i=Ln(e*_o(t)),s=Ln(e*g0(t)),l=Ti(mo(t));return l<90?s=-s:l<180?(i=-i,s=-s):l<270&&(i=-i),new oe(r.x+i,r.y+s)},oe.random=function(e,t,r,i){return new oe(Rs(e,t),Rs(r,i))},oe.prototype={type:ft.Point,chooseClosest:function(e){var t=e.length;if(1===t)return new oe(e[0]);for(var r=null,i=1/0,s=0;s<t;s++){var l=new oe(e[s]),f=this.squaredDistance(l);f<i&&(r=l,i=f)}return r},adhereToRect:function(e){return e.containsPoint(this)||(this.x=_0(Ua(this.x,e.x),e.x+e.width),this.y=_0(Ua(this.y,e.y),e.y+e.height)),this},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return Wo(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new oe(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new oe(this.x-(e||0),this.y-(t||0))},distance:function(e){return W0(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){return new oe((1-t)*this.x+t*e.x,(1-t)*this.y+t*e.y)},magnitude:function(){return v0(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Ln(e.x-this.x)+Ln(e.y-this.y)},move:function(e,t){var r=mi(new oe(e).theta(this));return this.offset(_o(r)*t,-g0(r)*t)},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new oe(e).move(this,this.distance(e))},rotate:function(e,t){if(0===t)return this;e=e||new oe(0,0),t=mi(Ti(-t));var r=_o(t),i=g0(t),l=i*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=r*(this.x-e.x)-i*(this.y-e.y)+e.x,this.y=l,this},round:function(e){var t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Ao(10,e)}return this.x=p0(this.x*t)/t,this.y=p0(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new oe(r)||new oe(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=ds(this.x,e),this.y=ds(this.y,t||e),this},squaredDistance:function(e){return d0(this,e)},theta:function(e){e=new oe(e);var i=Va(-(e.y-this.y),e.x-this.x);return i<0&&(i=2*Gs+i),180*i/Gs},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new oe(e)||new oe(0,0);var t=this.x,r=this.y;return this.x=v0((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=mi(e.theta(new oe(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){return new oe(0,0).angleBetween(this,e)}},oe.prototype.translate=oe.prototype.offset;var Ha=oe,Xa=Math.max,Y0=Math.min,et=function(e,t){return this instanceof et?e instanceof et?new et(e.start,e.end):(this.start=new oe(e),void(this.end=new oe(t))):new et(e,t)};et.prototype={type:ft.Line,angle:function(){var e=new oe(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=Y0(this.start.x,this.end.x),t=Y0(this.start.y,this.end.y),r=Xa(this.start.x,this.end.x),i=Xa(this.start.y,this.end.y);return new $e(e,t,r-e,i-t)},bearing:function(){return Wo(this.start,this.end)},clone:function(){return new et(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new et(this.start,e).vector()),r=Y0(1,Xa(0,t/this.squaredLength()));return r!=r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(0!==t.cross(e,r))return!1;var i=this.length();return!(new et(t,e).length()>i||new et(e,r).length()>i)},divideAt:function(e){var t=this.pointAt(e);return[new et(this.start,t),new et(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new et(this.start,t),new et(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof et&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new oe(this.end.x-this.start.x,this.end.y-this.start.y),r=new oe(e.end.x-e.start.x,e.end.y-e.start.y),i=t.x*r.y-t.y*r.x,s=new oe(e.start.x-this.start.x,e.start.y-this.start.y),l=s.x*r.y-s.y*r.x,f=s.x*t.y-s.y*t.x;if(0===i||l*i<0||f*i<0)return null;if(i>0){if(l>i||f>i)return null}else if(l<i||f<i)return null;return[new oe(this.start.x+l*t.x/i,this.start.y+l*t.y/i)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return W0(this.start,this.end)},midpoint:function(){return new oe((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){var t=this.clone();if(!this.isDifferentiable())return t;var r=t.start,i=t.end,s=r.clone().rotate(i,270),l=i.clone().rotate(r,90);return r.move(l,e),i.move(s,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,i=!0;e<0&&(i=!1,e=-e);var s=this.length();return e>=s?i?r.clone():t.clone():this.pointAt((i?e:s-e)/s)},pointOffset:function(e){e=new oe(e);var t=this.start,r=this.end;return((r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x))/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return d0(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,i=this.pointAt(e),s=new et(t,r);return s.translate(i.x-t.x,i.y-t.y),s},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,i=this.pointAtLength(e),s=new et(t,r);return s.translate(i.x-t.x,i.y-t.y),s},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new oe(this.end.x-this.start.x,this.end.y-this.start.y)}},et.prototype.intersection=et.prototype.intersect;var js=et,U0=Math.sqrt,Io=Math.round,bo=Math.pow,Cn=function(e,t,r){return this instanceof Cn?e instanceof Cn?new Cn(new oe(e.x,e.y),e.a,e.b):(e=new oe(e),this.x=e.x,this.y=e.y,this.a=t,void(this.b=r)):new Cn(e,t,r)};Cn.fromRect=function(e){return e=new $e(e),new Cn(e.center(),e.width/2,e.height/2)},Cn.prototype={type:ft.Ellipse,bbox:function(){return new $e(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new oe(this.x,this.y)},clone:function(){return new Cn(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,i=e.end,s=this.a,l=this.b,f=e.vector(),p=r.difference(new oe(this)),n=new oe(f.x/(s*s),f.y/(l*l)),a=new oe(p.x/(s*s),p.y/(l*l)),o=f.dot(n),c=f.dot(a),w=c*c-o*(p.dot(a)-1);if(w<0)return null;if(w>0){var T=U0(w),E=(-c-T)/o,j=(-c+T)/o;if((E<0||1<E)&&(j<0||1<j))return null;0<=E&&E<=1&&t.push(r.lerp(i,E)),0<=j&&j<=1&&t.push(r.lerp(i,j))}else{var J=-c/o;if(!(0<=J&&J<=1))return null;t.push(r.lerp(i,J))}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new oe(e),t&&e.rotate(new oe(this.x,this.y),t);var s,r=e.x-this.x,i=e.y-this.y;if(0===r)return s=this.bbox().pointNearestToPoint(e),t?s.rotate(new oe(this.x,this.y),-t):s;var l=i/r,a=U0(1/(1/(this.a*this.a)+l*l/(this.b*this.b)));return s=new oe(this.x+(a=r<0?-a:a),this.y+l*a),t?s.rotate(new oe(this.x,this.y),-t):s},normalizedDistance:function(e){var t=e.x,r=e.y,i=this.a,s=this.b,l=this.x,f=this.y;return(t-l)*(t-l)/(i*i)+(r-f)*(r-f)/(s*s)},round:function(e){var t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=bo(10,e)}return this.x=Io(this.x*t)/t,this.y=Io(this.y*t)/t,this.a=Io(this.a*t)/t,this.b=Io(this.b*t)/t,this},tangentTheta:function(e){var c,y,r=e.x,i=e.y,s=this.a,l=this.b,f=this.bbox().center(),p=f.x,n=f.y;return r>f.x+s/2||r<f.x-s/2?y=s*s/(r-p)-s*s*(i-n)*((c=r>f.x?i-30:i+30)-n)/(l*l*(r-p))+p:c=l*l/(i-n)-l*l*(r-p)*((y=i>f.y?r+30:r-30)-p)/(s*s*(i-n))+n,new oe(y,c).theta(e)},toString:function(){return new oe(this.x,this.y).toString()+" "+this.a+" "+this.b}};var V0=Cn,W=Math.abs,wo=Math.cos,Yo=Math.sin,Jn=Math.min,Ht=Math.max,da=Math.round,vl=Math.pow,$e=function(e,t,r,i){if(!(this instanceof $e))return new $e(e,t,r,i);Object(e)===e&&(t=e.y,r=e.width,i=e.height,e=e.x),this.x=void 0===e?0:e,this.y=void 0===t?0:t,this.width=void 0===r?0:r,this.height=void 0===i?0:i};$e.fromEllipse=function(e){return e=new Cn(e),new $e(e.x-e.a,e.y-e.b,2*e.a,2*e.b)},$e.fromPointUnion=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(0===e.length)return null;var i,s,l,f,r=new oe;i=s=1/0,l=f=-1/0;for(var p=0;p<e.length;p++){r.update(e[p]);var n=r.x,a=r.y;n<i&&(i=n),n>l&&(l=n),a<s&&(s=a),a>f&&(f=a)}return new $e(i,s,l-i,f-s)},$e.fromRectUnion=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(0===e.length)return null;var i,s,l,f,r=new $e;i=s=1/0,l=f=-1/0;for(var p=0;p<e.length;p++){r.update(e[p]);var n=r.x,a=r.y,o=n+r.width,c=a+r.height;n<i&&(i=n),o>l&&(l=o),a<s&&(s=a),c>f&&(f=c)}return new $e(i,s,l-i,f-s)},$e.prototype={type:ft.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;var r=this.width,i=this.height,s=mi(e),l=W(Yo(s)),f=W(wo(s)),p=r*f+i*l,n=r*l+i*f;return this.x+=(r-p)/2,this.y+=(i-n)/2,this.width=p,this.height=n,this},bottomLeft:function(){return new oe(this.x,this.y+this.height)},bottomLine:function(){return new et(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new oe(this.x+this.width/2,this.y+this.height)},center:function(){return new oe(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new $e(this)},containsPoint:function(e){return(e=new oe(e)).x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new $e(this).normalize(),r=new $e(e).normalize(),i=t.width,s=t.height,l=r.width,f=r.height;if(!(i&&s&&l&&f))return!1;var p=t.x,n=t.y,a=r.x,o=r.y;return l+=a,i+=p,f+=o,s+=n,p<=a&&l<=i&&n<=o&&f<=s},corner:function(){return new oe(this.x+this.width,this.y+this.height)},equals:function(e){var t=new $e(this).normalize(),r=new $e(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),i=e.origin(),s=e.corner();if(s.x<=t.x||s.y<=t.y||i.x>=r.x||i.y>=r.y)return null;var l=Ht(t.x,i.x),f=Ht(t.y,i.y);return new $e(l,f,Jn(r.x,s.x)-l,Jn(r.y,s.y)-f)},intersectionWithLine:function(e){var l,f,t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],i=[],s=[],p=r.length;for(f=0;f<p;f++)null!==(l=e.intersect(r[f]))&&s.indexOf(l.toString())<0&&(i.push(l),s.push(l.toString()));return i.length>0?i:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new oe(e);var i,r=new oe(this.x+this.width/2,this.y+this.height/2);t&&e.rotate(r,t);for(var s=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],l=new et(r,e),f=s.length-1;f>=0;--f){var p=s[f].intersection(l);if(null!==p){i=p;break}}return i&&t&&i.rotate(r,-t),i},leftLine:function(){return new et(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new oe(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new $e(e),t||(t=e.center());var r,i,s,l,f,p,n,a,o=t.x,c=t.y;r=i=s=l=f=p=n=a=1/0;var y=e.topLeft();y.x<o&&(r=(this.x-o)/(y.x-o)),y.y<c&&(f=(this.y-c)/(y.y-c));var w=e.bottomRight();w.x>o&&(i=(this.x+this.width-o)/(w.x-o)),w.y>c&&(p=(this.y+this.height-c)/(w.y-c));var T=e.topRight();T.x>o&&(s=(this.x+this.width-o)/(T.x-o)),T.y<c&&(n=(this.y-c)/(T.y-c));var E=e.bottomLeft();return E.x<o&&(l=(this.x-o)/(E.x-o)),E.y>c&&(a=(this.y+this.height-c)/(E.y-c)),{sx:Jn(r,i,s,l),sy:Jn(f,p,n,a)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return Jn(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,i=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,i=-this.height),this.x=e,this.y=t,this.width=r,this.height=i,this},offset:function(e,t){return oe.prototype.offset.call(this,e,t)},origin:function(){return new oe(this.x,this.y)},pointNearestToPoint:function(e){if(e=new oe(e),this.containsPoint(e))switch(this.sideNearestToPoint(e)){case"right":return new oe(this.x+this.width,e.y);case"left":return new oe(this.x,e.y);case"bottom":return new oe(e.x,this.y+this.height);case"top":return new oe(e.x,this.y)}return e.adhereToRect(this)},rightLine:function(){return new et(this.topRight(),this.bottomRight())},rightMiddle:function(){return new oe(this.x+this.width,this.y+this.height/2)},round:function(e){var t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=vl(10,e)}return this.x=da(this.x*t)/t,this.y=da(this.y*t)/t,this.width=da(this.width*t)/t,this.height=da(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new oe(e);var r=this.x+this.width-e.x,i=e.y-this.y,l=e.x-this.x,f="left";return r<l&&(l=r,f="right"),i<l&&(l=i,f="top"),this.y+this.height-e.y<l&&(f="bottom"),f},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),i=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=i.x-r.x,this.height=i.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new et(this.topLeft(),this.topRight())},topMiddle:function(){return new oe(this.x+this.width/2,this.y)},topRight:function(){return new oe(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return $e.fromRectUnion(this,e)},update:function(e,t,r,i){return Object(e)===e&&(t=e.y,r=e.width,i=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=i||0,this}},$e.prototype.bottomRight=$e.prototype.corner,$e.prototype.topLeft=$e.prototype.origin,$e.prototype.translate=$e.prototype.offset;var Zs=$e;function pl(e){if(""===(e=e.trim()))return[];for(var t=[],r=e.split(/\s*,\s*|\s+/),i=r.length,s=0;s<i;s+=2)t.push({x:+r[s],y:+r[s+1]});return t}function ml(e){var t=e.length;if(0===t)return[];for(var r=[],i=0;i<t;i++){var s=e[i].clone();r.push(s)}return r}function m0(e){var r,i,l,t=Math.abs,s=e.length;if(0===s)return[];for(r=0;r<s;r++)(void 0===l||e[r].y<l.y||e[r].y===l.y&&e[r].x>l.x)&&(l=e[r]);var f=[];for(r=0;r<s;r++){var p=l.theta(e[r]);0===p&&(p=360),f.push([e[r],r,p])}f.sort(function(je,Fe){var Ve=je[2]-Fe[2];return 0===Ve&&(Ve=Fe[1]-je[1]),Ve}),f.length>2&&f.unshift(f[f.length-1]);for(var y,w,T,E,j,J,o={},c=[];0!==f.length;)if(w=(y=f.pop())[0],!o.hasOwnProperty(y[0]+"@@"+y[1]))for(var K=!1;!K;)if(c.length<2)c.push(y),K=!0;else{E=(T=c.pop())[0];var x=(J=(j=c.pop())[0]).cross(E,w);if(x<0)c.push(j),c.push(T),c.push(y),K=!0;else if(0===x){var O=E.angleBetween(J,w);t(O-180)<1e-10||E.equals(w)||J.equals(E)?(o[T[0]+"@@"+T[1]]=E,c.push(j)):t((O+1)%360-1)<1e-10&&(c.push(j),f.push(T))}else o[T[0]+"@@"+T[1]]=E,c.push(j)}c.length>2&&c.pop();var U,Q=-1;for(i=c.length,r=0;r<i;r++){var ie=c[r][1];(void 0===U||ie<U)&&(U=ie,Q=r)}var ne=[];if(Q>0){var ge=c.slice(Q),ke=c.slice(0,Q);ne=ge.concat(ke)}else ne=c;var Ne=[];for(i=ne.length,r=0;r<i;r++)Ne.push(ne[r][0]);return Ne}var Pr=function(e){return this instanceof Pr?"string"==typeof e?new Pr.parse(e):void(this.points=Array.isArray(e)?e.map(oe):[]):new Pr(e)};Pr.parse=function(e){return new Pr(pl(e))},Pr.fromRect=function(e){return new Pr([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])},Pr.prototype={type:ft.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,i=-1/0,s=this.points,l=s.length;if(0===l)return null;for(var f=0;f<l;f++){var p=s[f],n=p.x,a=p.y;n<e&&(e=n),n>t&&(t=n),a<r&&(r=a),a>i&&(i=a)}return new $e(e,r,t-e,i-r)},clone:function(){return new Pr(ml(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(0===r||1===r)return 0;for(var i,s=1/0,l=0,f=r-1,p=0;p<f;p++){var n=new et(t[p],t[p+1]),a=n.length(),o=n.closestPointNormalizedLength(e),y=n.pointAt(o).squaredDistance(e);y<s&&(s=y,i=l+o*a),l+=a}return i},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(0===t)return 0;var r=this.length();return 0===r?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(0===r)return!1;for(var i=e.x,s=e.y,l=r-1,f=0,p=0,n=new et,a=new et,o=new oe;f<r;f++){var c=t[l],y=t[f];if(e.equals(c)||(n.start=c,n.end=y,n.containsPoint(e)))return!0;if(s<=c.y&&s>y.y||s>c.y&&s<=y.y){var w=c.x-i>y.x-i?c.x-i:y.x-i;w>=0&&(o.x=i+w,o.y=s,a.start=e,a.end=o,n.intersect(a)&&p++)}l=f}return p%2==1},close:function(){var e=this,t=e.start,r=e.end,i=e.points;return t&&r&&!t.equals(r)&&i.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new Pr(m0(this.points))},equals:function(e){if(!e)return!1;var t=this.points,i=t.length;if(e.points.length!==i)return!1;for(var s=0;s<i;s++)if(!t[s].equals(e.points[s]))return!1;return!0},intersectionWithLine:function(e){for(var t=new et(e),r=[],i=this.lengthPoints(),s=new et,l=0,f=i.length-1;l<f;l++){s.start=i[l],s.end=i[l+1];var p=t.intersectionWithLine(s);p&&r.push(p[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(0===t)return!1;for(var r=new et,i=t-1,s=0;s<i;s++)if(r.start=e[s],r.end=e[s+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(0===t)return 0;for(var r=0,i=t-1,s=0;s<i;s++)r+=e[s].distance(e[s+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(0===r)return null;if(1===r||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var i=this.length();return this.pointAtLength(i*e)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(0===r)return null;if(1===r)return t[0].clone();var i=!0;e<0&&(i=!1,e=-e);for(var s=0,l=r-1,f=0;f<l;f++){var p=i?f:l-1-f,n=t[p],a=t[p+1],o=new et(n,a),c=n.distance(a);if(e<=s+c)return o.pointAtLength((i?1:-1)*(e-s));s+=c}return(i?t[r-1]:t[0]).clone()},round:function(e){for(var t=this.points,r=t.length,i=0;i<r;i++)t[i].round(e);return this},scale:function(e,t,r){for(var i=this.points,s=i.length,l=0;l<s;l++)i[l].scale(e,t,r);return this},simplify:function(e){void 0===e&&(e={});var t=this.points;if(t.length<3)return this;for(var r=e.threshold||0,i=0;t[i+2];){var l=i+1,n=t[l];new et(t[i],t[i+2]).closestPoint(n).distance(n)<=r?t.splice(l,1):i+=1}return this},tangentAt:function(e){var r=this.lengthPoints().length;if(0===r||1===r)return null;e<0&&(e=0),e>1&&(e=1);var i=this.length();return this.tangentAtLength(i*e)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(0===r||1===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var s,l=0,f=r-1,p=0;p<f;p++){var n=i?p:f-1-p,a=t[n],o=t[n+1],c=new et(a,o),y=a.distance(o);if(c.isDifferentiable()){if(e<=l+y)return c.tangentAtLength((i?1:-1)*(e-l));s=c}l+=y}return s?s.tangentAt(i?1:0):null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,i=r.length,s=0;s<i;s++)r[s].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(0===t)return"";for(var r="",i=0;i<t;i++){var s=e[i];r+=s.x+","+s.y+" "}return r.trim()}},Object.defineProperty(Pr.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(Pr.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points.length;return 0===t?null:this.points[t-1]}});var y0=Math.abs,Ta=Math.sqrt,yl=Math.min,Al=Math.max,H0=Math.pow,or=function(e,t,r,i){return this instanceof or?e instanceof or?new or(e.start,e.controlPoint1,e.controlPoint2,e.end):(this.start=new oe(e),this.controlPoint1=new oe(t),this.controlPoint2=new oe(r),void(this.end=new oe(i))):new or(e,t,r,i)};function Fs(e){var r,i,t=arguments,s=[];for(i=arguments.length,r=1;r<i;r++)s.push(t[r]);if(!e)throw new Error("Missing a parent object.");var l=Object.create(e);for(i=s.length,r=0;r<i;r++){var p,n,f=s[r];for(n in f)f.hasOwnProperty(n)&&(delete l[n],p=Object.getOwnPropertyDescriptor(f,n),Object.defineProperty(l,n,p))}return l}or.throughPoints=function(){function t(r){var i=r.length,s=[],l=[],f=2;s[0]=r[0]/f;for(var p=1;p<i;p++)l[p]=1/f,s[p]=(r[p]-s[p-1])/(f=(p<i-1?4:3.5)-l[p]);for(p=1;p<i;p++)s[i-p-1]-=l[i-p]*s[i-p];return s}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var i=function e(r){var f,i=[],s=[],l=r.length-1;if(1==l)return i[0]=new oe((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),s[0]=new oe(2*i[0].x-r[0].x,2*i[0].y-r[0].y),[i,s];var p=[];for(f=1;f<l-1;f++)p[f]=4*r[f].x+2*r[f+1].x;p[0]=r[0].x+2*r[1].x,p[l-1]=(8*r[l-1].x+r[l].x)/2;var n=t(p);for(f=1;f<l-1;++f)p[f]=4*r[f].y+2*r[f+1].y;p[0]=r[0].y+2*r[1].y,p[l-1]=(8*r[l-1].y+r[l].y)/2;var a=t(p);for(f=0;f<l;f++)i.push(new oe(n[f],a[f])),s.push(f<l-1?new oe(2*r[f+1].x-n[f+1],2*r[f+1].y-a[f+1]):new oe((r[l].x+n[l-1])/2,(r[l].y+a[l-1])/2));return[i,s]}(r),s=[],l=i[0].length,f=0;f<l;f++){var p=new oe(i[0][f].x,i[0][f].y),n=new oe(i[1][f].x,i[1][f].y);s.push(new or(r[f],p,n,r[f+1]))}return s}}(),or.prototype={type:ft.Curve,bbox:function(){for(var E,j,J,K,x,z,O,U,e=this.start,t=this.controlPoint1,r=this.controlPoint2,i=this.end,s=e.x,l=e.y,f=t.x,p=t.y,n=r.x,a=r.y,o=i.x,c=i.y,y=new Array,w=new Array,T=[new Array,new Array],Q=0;Q<2;++Q)if(0===Q?(j=6*s-12*f+6*n,E=-3*s+9*f-9*n+3*o,J=3*f-3*s):(j=6*l-12*p+6*a,E=-3*l+9*p-9*a+3*c,J=3*p-3*l),y0(E)<1e-12){if(y0(j)<1e-12)continue;0<(K=-J/j)&&K<1&&w.push(K)}else U=Ta(O=j*j-4*J*E),!(O<0)&&(0<(x=(-j+U)/(2*E))&&x<1&&w.push(x),0<(z=(-j-U)/(2*E))&&z<1&&w.push(z));for(var ge,ke,Ne,ie=w.length,ne=ie;ie--;)T[0][ie]=ke=(ge=1-(K=w[ie]))*ge*ge*s+3*ge*ge*K*f+3*ge*K*K*n+K*K*K*o,T[1][ie]=Ne=ge*ge*ge*l+3*ge*ge*K*p+3*ge*K*K*a+K*K*K*c,y[ie]={X:ke,Y:Ne};w[ne]=0,w[ne+1]=1,y[ne]={X:s,Y:l},y[ne+1]={X:o,Y:c},T[0][ne]=s,T[1][ne]=l,T[0][ne+1]=o,T[1][ne+1]=c,w.length=ne+2,T[0].length=ne+2,T[1].length=ne+2,y.length=ne+2;var je=yl.apply(null,T[0]),Fe=yl.apply(null,T[1]),Ve=Al.apply(null,T[0]),st=Al.apply(null,T[1]);return new $e(je,Fe,Ve-je,st-Fe)},clone:function(){return new or(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){var r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:r,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:r}):t.subdivisions};return this.lengthAtT(this.closestPointT(e,s),s)},closestPointNormalizedLength:function(e,t){var r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:r,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:r}):t.subdivisions},l=this.closestPointLength(e,s);if(!l)return 0;var f=this.length(s);return 0===f?0:l/f},closestPointT:function(e,t){for(var s,l,f,p,n,a,o,r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:r}):t.subdivisions,c=i.length,y=c?1/c:0,w=0;w<c;w++){var T=i[w],E=T.start.distance(e),j=T.end.distance(e),J=E+j;(!o||J<o)&&(s=T,l=w*y,f=(w+1)*y,p=E,n=j,a=T.start.distance(T.end),o=J)}for(var K=H0(10,-r);;){var x=p?y0(p-n)/p:0,z=n?y0(p-n)/n:0;if(x<K||z<K||!p||p<a*K||!n||n<a*K)return p<=n?l:f;var ne=s.divide(.5);y/=2;var ge=ne[0].start.distance(e),ke=ne[0].end.distance(e),Ne=ge+ke,je=ne[1].start.distance(e),Fe=ne[1].end.distance(e);Ne<=je+Fe?(s=ne[0],f-=y,p=ge,n=ke):(s=ne[1],l+=y,p=je,n=Fe)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){return this.toPolyline(t).containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,i=this.controlPoint2,s=this.end;if(e<=0)return[new or(t,t,t,t),new or(t,r,i,s)];if(e>=1)return[new or(t,r,i,s),new or(s,s,s,s)];var l=this.getSkeletonPoints(e),n=l.divider,a=l.dividerControlPoint1,o=l.dividerControlPoint2;return[new or(t,l.startControlPoint1,l.startControlPoint2,n),new or(n,a,o,s)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,i=this.controlPoint2,s=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:i.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:i.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};var l=new et(t,r).pointAt(e),f=new et(r,i).pointAt(e),p=new et(i,s).pointAt(e),n=new et(l,f).pointAt(e),a=new et(f,p).pointAt(e);return{startControlPoint1:l,startControlPoint2:n,divider:new et(n,a).pointAt(e),dividerControlPoint1:a,dividerControlPoint2:p}},getSubdivisions:function(e){var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,r=[new or(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===t)return r;for(var i=this.endpointDistance(),s=H0(10,-t),l=0;;){l+=1;for(var f=[],p=r.length,n=0;n<p;n++){var o=r[n].divide(.5);f.push(o[0],o[1])}for(var c=0,y=f.length,w=0;w<y;w++)c+=f[w].endpointDistance();if(l>1&&(0!==c?(c-i)/c:0)<s)return f;r=f,i=c}},isDifferentiable:function(){var t=this.controlPoint1,r=this.controlPoint2,i=this.end;return!(this.start.equals(t)&&t.equals(r)&&r.equals(i))},length:function(e){for(var r=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,i=0,s=r.length,l=0;l<s;l++)i+=r[l].endpointDistance();return i},lengthAtT:function(e,t){if(e<=0)return 0;var r=void 0===(t=t||{}).precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:r})},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,s=t.divider,l=new et(r,t.dividerControlPoint1);return l.translate(s.x-r.x,s.y-r.y),l},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;var r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:r,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:r}):t.subdivisions},l=this.length(s);return this.tAtLength(l*e,s)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e);for(var f,p,n,a,o,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.subdivisions?this.getSubdivisions({precision:i}):t.subdivisions,l={precision:i,subdivisions:s},c=0,y=s.length,w=1/y,T=0;T<y;T++){var E=r?T:y-1-T,j=s[T],J=j.endpointDistance();if(e<=c+J){f=j,p=E*w,n=(E+1)*w,a=r?e-c:J+c-e,o=r?J+c-e:e-c;break}c+=J}if(!f)return r?1:0;for(var K=this.length(l),x=H0(10,-i);;){if((0!==K?a/K:0)<x)return p;if((0!==K?o/K:0)<x)return n;var O,U,Q=f.divide(.5);w/=2;var ie=Q[0].endpointDistance(),ne=Q[1].endpointDistance();a<=ie?(f=Q[0],n-=w,U=ie-(O=a)):(f=Q[1],p+=w,U=ne-(O=a-ie)),a=O,o=U}},toPoints:function(e){for(var r=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,i=[r[0].start.clone()],s=r.length,l=0;l<s;l++)i.push(r[l].end.clone());return i},toPolyline:function(e){return new Pr(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}},or.prototype.divide=or.prototype.divideAtT;var it=function(e){if(!(this instanceof it))return new it(e);if("string"==typeof e)return new it.parse(e);var t,r;if(this.segments=[],e)if(Array.isArray(e)&&0!==e.length)if(r=(e=e.reduce(function(p,n){return p.concat(n)},[])).length,e[0].isSegment)for(t=0;t<r;t++)this.appendSegment(e[t]);else{var s=null;for(t=0;t<r;t++){var l=e[t];if(!(l instanceof et||l instanceof or))throw new Error("Cannot construct a path segment from the provided object.");0===t&&this.appendSegment(it.createSegment("M",l.start)),s&&!s.end.equals(l.start)&&this.appendSegment(it.createSegment("M",l.start)),l instanceof et?this.appendSegment(it.createSegment("L",l.end)):l instanceof or&&this.appendSegment(it.createSegment("C",l.controlPoint1,l.controlPoint2,l.end)),s=l}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof et)this.appendSegment(it.createSegment("M",e.start)),this.appendSegment(it.createSegment("L",e.end));else if(e instanceof or)this.appendSegment(it.createSegment("M",e.start)),this.appendSegment(it.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else{if(!(e instanceof Pr))throw new Error("Cannot construct a path from the provided object.");if(!e.points||0===e.points.length)return;for(r=e.points.length,t=0;t<r;t++){this.appendSegment(it.createSegment(0===t?"M":"L",e.points[t]))}}};function Ji(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}it.parse=function(e){if(!e)return new it;for(var t=new it,i=e.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),s=i.length,l=0;l<s;l++){var n=i[l].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),a=it.createSegment.apply(this,n);t.appendSegment(a)}return t},it.createSegment=function(e){var t=arguments;if(!e)throw new Error("Type must be provided.");var r=it.segmentTypes[e];if(!r)throw new Error(e+" is not a recognized path segment type.");for(var i=[],s=arguments.length,l=1;l<s;l++)i.push(t[l]);return Ji(r,i)},it.prototype={type:ft.Path,appendSegment:function(e){var i,t=this.segments,r=t.length,s=0!==r?t[r-1]:null;if(Array.isArray(e)){if(!(e=e.reduce(function(a,o){return a.concat(o)},[]))[0].isSegment)throw new Error("Segments required.");for(var f=e.length,p=0;p<f;p++)i=this.prepareSegment(e[p],s,null),t.push(i),s=i}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,s,null),t.push(i)}},bbox:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var r,i=0;i<t;i++){var s=e[i];if(s.isVisible){var l=s.bbox();r=r?r.union(l):l}}if(r)return r;var f=e[t-1];return new $e(f.end.x,f.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new it,i=0;i<t;i++){var s=e[i].clone();r.appendSegment(s)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){var r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:r,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions},l=this.closestPointT(e,s);return l?this.lengthAtT(l,s):0},closestPointNormalizedLength:function(e,t){var r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:r,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions},l=this.closestPointLength(e,s);if(0===l)return 0;var f=this.length(s);return 0===f?0:l/f},closestPointT:function(e,t){var r=this.segments,i=r.length;if(0===i)return null;for(var f,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,l=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,p=1/0,n=0;n<i;n++){var a=r[n];if(a.isVisible){var c=a.closestPointT(e,{precision:s,subdivisions:l[n]}),y=a.pointAtT(c),w=new et(y,e).squaredLength();w<p&&(f={segmentIndex:n,value:c},p=w)}}return f||{segmentIndex:i-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,i=r.length;if(0===i)return null;for(var f,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,l=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,p=1/0,n=0;n<i;n++){var a=r[n],o=l[n];if(a.isDifferentiable()){var c=a.closestPointT(e,{precision:s,subdivisions:o}),y=a.pointAtT(c),w=new et(y,e).squaredLength();w<p&&(f=a.tangentAtT(c),p=w)}}return f||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var i=r.length,s=0,l=0;l<i;l++)r[l].containsPoint(e)&&s++;return s%2==1},divideAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,f={precision:s,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions},p=this.length(f);return this.divideAtLength(p*e,f)},divideAtLength:function(e,t){var r=this.segments.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);var f,p,a,o,c,y,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,l=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,n=0;for(f=0;f<r;f++){var T=i?f:r-1-f;p=this.getSegment(T);var E=l[T],j=p.length({precision:s,subdivisions:E});if(p.isDifferentiable()&&(c=p,y=T,e<=n+j)){o=T,a=p.divideAtLength((i?1:-1)*(e-n),{precision:s,subdivisions:E});break}n+=j}if(!c)return null;a||(o=y,a=c.divideAtT(i?1:0));var J=this.clone();J.replaceSegment(o,a);var K=o,x=o+1,z=o+2;a[0].isDifferentiable()||(J.removeSegment(K),x-=1,z-=1);var O=J.getSegment(x).start;J.insertSegment(x,it.createSegment("M",O)),z+=1,a[1].isDifferentiable()||(J.removeSegment(z-1),z-=1);var U=z-K-1;for(f=z;f<J.segments.length;f++){var Q=this.getSegment(f-U);if("Z"===(p=J.getSegment(f)).type&&!Q.subpathStartSegment.end.equals(p.subpathStartSegment.end)){var ie=it.createSegment("L",Q.end);J.replaceSegment(f,ie)}}return[new it(J.segments.slice(0,x)),new it(J.segments.slice(x))]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,i=t.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var l=t[s],f=r[s];if(l.type!==f.type||!l.equals(f))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(0===r)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){for(var t=this.segments,r=t.length,i=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=[],l=0;l<r;l++){var p=t[l].getSubdivisions({precision:i});s.push(p)}return s},getSubpaths:function(){for(var t=this.clone().validate().segments,r=t.length,i=[],s=0;s<r;s++){var l=t[s];l.isSubpathStart?i.push(new it(l)):i[i.length-1].appendSegment(l)}return i},insertSegment:function(e,t){var r=this.segments,i=r.length;if(e<0&&(e=i+e+1),e>i||e<0)throw new Error("Index out of range.");var s,l=null,f=null;if(0!==i&&(f=e>=1?(l=r[e-1]).nextSegment:r[0]),Array.isArray(t)){if(!(t=t.reduce(function(o,c){return o.concat(c)},[]))[0].isSegment)throw new Error("Segments required.");for(var p=t.length,n=0;n<p;n++)s=this.prepareSegment(t[n],l,f),r.splice(e+n,0,s),l=s}else{if(!t||!t.isSegment)throw new Error("Segment required.");s=this.prepareSegment(t,l,f),r.splice(e,0,s)}},intersectionWithLine:function(e,t){var r=null,i=this.toPolylines(t);if(!i)return null;for(var s=0,l=i.length;s<l;s++){var p=e.intersect(i[s]);p&&(r||(r=[]),Array.isArray(p)?Array.prototype.push.apply(r,p):r.push(p))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++)if(e[r].isDifferentiable())return!0;return!1},isValid:function(){var e=this.segments;return 0===e.length||"M"===e[0].type},length:function(e){var t=this.segments,r=t.length;if(0===r)return 0;for(var s=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,l=0,f=0;f<r;f++)l+=t[f].length({subdivisions:s[f]});return l},lengthAtT:function(e,t){var r=this.segments,i=r.length;if(0===i)return 0;var s=e.segmentIndex;if(s<0)return 0;var l=e.value;s>=i?(s=i-1,l=1):l<0?l=0:l>1&&(l=1);for(var f=void 0===(t=t||{}).precision?this.PRECISION:t.precision,p=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:f}):t.segmentSubdivisions,a=0,o=0;o<s;o++){var c=r[o];a+=c.length({precisison:f,subdivisions:p[o]})}return a+(c=r[s]).lengthAtT(l,{precisison:f,subdivisions:p[s]})},pointAt:function(e,t){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,f={precision:s,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions},p=this.length(f);return this.pointAtLength(p*e,f)},pointAtLength:function(e,t){var r=this.segments,i=r.length;if(0===i)return null;if(0===e)return this.start.clone();var s=!0;e<0&&(s=!1,e=-e);for(var p,l=void 0===(t=t||{}).precision?this.PRECISION:t.precision,f=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:l}):t.segmentSubdivisions,n=0,a=0;a<i;a++){var o=s?a:i-1-a,c=r[o],y=f[o],w=c.length({precision:l,subdivisions:y});if(c.isVisible){if(e<=n+w)return c.pointAtLength((s?1:-1)*(e-n),{precision:l,subdivisions:y});p=c}n+=w}return p?s?p.end:p.start:r[i-1].end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(0===r)return null;var i=e.segmentIndex;if(i<0)return t[0].pointAtT(0);if(i>=r)return t[r-1].pointAtT(1);var s=e.value;return s<0?s=0:s>1&&(s=1),t[i].pointAtT(s)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var i=e;return e.isSubpathStart&&(e.subpathStartSegment=e,i=r),i&&this.updateSubpathStartSegment(i),e},removeSegment:function(e){var t=this.segments,r=t.length;if(0===r)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var i=t.splice(e,1)[0],s=i.previousSegment,l=i.nextSegment;s&&(s.nextSegment=l),l&&(l.previousSegment=s),i.isSubpathStart&&l&&this.updateSubpathStartSegment(l)},replaceSegment:function(e,t){var r=this.segments,i=r.length;if(0===i)throw new Error("Path has no segments.");if(e<0&&(e=i+e),e>=i||e<0)throw new Error("Index out of range.");var s,l=r[e],f=l.previousSegment,p=l.nextSegment,n=l.isSubpathStart;if(Array.isArray(t)){if(!(t=t.reduce(function(y,w){return y.concat(w)},[]))[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var a=t.length,o=0;o<a;o++)s=this.prepareSegment(t[o],f,p),r.splice(e+o,0,s),f=s,n&&s.isSubpathStart&&(n=!1)}else{if(!t||!t.isSegment)throw new Error("Segment required.");s=this.prepareSegment(t,f,p),r.splice(e,1,s),n&&s.isSubpathStart&&(n=!1)}n&&p&&this.updateSubpathStartSegment(p)},round:function(e){for(var t=this.segments,r=t.length,i=0;i<r;i++)t[i].round(e);return this},scale:function(e,t,r){for(var i=this.segments,s=i.length,l=0;l<s;l++)i[l].scale(e,t,r);return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,f={precision:s,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions},p=this.length(f);return this.segmentIndexAtLength(p*e,f)},segmentIndexAtLength:function(e,t){var r=this.segments,i=r.length;if(0===i)return null;var s=!0;e<0&&(s=!1,e=-e);for(var l=void 0===(t=t||{}).precision?this.PRECISION:t.precision,f=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:l}):t.segmentSubdivisions,p=null,n=0,a=0;a<i;a++){var o=s?a:i-1-a,c=r[o],w=c.length({precision:l,subdivisions:f[o]});if(c.isVisible){if(e<=n+w)return o;p=o}n+=w}return p},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,f={precision:s,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions},p=this.length(f);return this.tangentAtLength(p*e,f)},tangentAtLength:function(e,t){var r=this.segments,i=r.length;if(0===i)return null;var s=!0;e<0&&(s=!1,e=-e);for(var p,l=void 0===(t=t||{}).precision?this.PRECISION:t.precision,f=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:l}):t.segmentSubdivisions,n=0,a=0;a<i;a++){var o=s?a:i-1-a,c=r[o],y=f[o],w=c.length({precision:l,subdivisions:y});if(c.isDifferentiable()){if(e<=n+w)return c.tangentAtLength((s?1:-1)*(e-n),{precision:l,subdivisions:y});p=c}n+=w}return p?p.tangentAtT(s?1:0):null},tangentAtT:function(e){var t=this.segments,r=t.length;if(0===r)return null;var i=e.segmentIndex;if(i<0)return t[0].tangentAtT(0);if(i>=r)return t[r-1].tangentAtT(1);var s=e.value;return s<0?s=0:s>1&&(s=1),t[i].tangentAtT(s)},toPoints:function(e){var t=this.segments,r=t.length;if(0===r)return null;for(var s=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,l=[],f=[],p=0;p<r;p++){var n=t[p];if(n.isVisible){var a=s[p];if(a.length>0){var o=a.map(function(c){return c.start});Array.prototype.push.apply(f,o)}else f.push(n.start)}else f.length>0&&(f.push(t[p-1].end),l.push(f),f=[])}return f.length>0&&(f.push(this.end),l.push(f)),l},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var i=0,s=r.length;i<s;i++)t.push(new Pr(r[i]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",i=0;i<t;i++)r+=e[i].serialize()+" ";return r.trim()},translate:function(e,t){for(var r=this.segments,i=r.length,s=0;s<i;s++)r[s].translate(e,t);return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)e.subpathStartSegment=t?t.subpathStartSegment:null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,it.createSegment("M",0,0)),this}},Object.defineProperty(it.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var r=0;r<t;r++){var i=e[r];if(i.isVisible)return i.start}return e[t-1].end}}),Object.defineProperty(it.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var r=t-1;r>=0;r--){var i=e[r];if(i.isVisible)return i.end}return e[t-1].end}});var vs={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(vs,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(vs,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(vs,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Wn=function(){for(var e=arguments,t=[],r=arguments.length,i=0;i<r;i++)t.push(e[i]);if(!(this instanceof Wn))return Ji(Wn,t);if(0===r)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var s;if(t[0]instanceof et){if(1===r)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+r+" lines provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(2===r)return this.end=new oe(+t[0],+t[1]),this;if(r<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+r+" coordinates provided).");var l;for(s=[],i=0;i<r;i+=2)l=t.slice(i,i+2),s.push(Ji(Wn,l));return s}if(1===r)return this.end=new oe(t[0]),this;for(s=[],i=0;i<r;i+=1)s.push(new Wn(t[i]));return s},Il={clone:function(){return new Wn(this.end)},divideAt:function(e){var r=new et(this.start,this.end).divideAt(e);return[new Wn(r[0]),new Wn(r[1])]},divideAtLength:function(e){var r=new et(this.start,this.end).divideAtLength(e);return[new Wn(r[0]),new Wn(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(Il,"type",{configurable:!0,enumerable:!0,value:"L"}),Wn.prototype=Fs(vs,et.prototype,Il);var yi=function(){for(var e=arguments,t=[],r=arguments.length,i=0;i<r;i++)t.push(e[i]);if(!(this instanceof yi))return Ji(yi,t);if(0===r)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var s,f;if(t[0]instanceof or){if(1===r)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+r+" curves provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(6===r)return this.controlPoint1=new oe(+t[0],+t[1]),this.controlPoint2=new oe(+t[2],+t[3]),this.end=new oe(+t[4],+t[5]),this;if(r<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+r+" coordinates provided).");var l;for(s=[],i=0;i<r;i+=6)l=t.slice(i,i+6),s.push(Ji(yi,l));return s}if(3===r)return this.controlPoint1=new oe(t[0]),this.controlPoint2=new oe(t[1]),this.end=new oe(t[2]),this;if(r<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+r+" points provided).");for(s=[],i=0;i<r;i+=3)f=t.slice(i,i+3),s.push(Ji(yi,f));return s},qa={clone:function(){return new yi(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var i=new or(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(e,t);return[new yi(i[0]),new yi(i[1])]},divideAtLength:function(e,t){var i=new or(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(e,t);return[new yi(i[0]),new yi(i[1])]},divideAtT:function(e){var r=new or(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(e);return[new yi(r[0]),new yi(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.controlPoint1,r=this.controlPoint2,i=this.end;return!(this.start.equals(t)&&t.equals(r)&&r.equals(i))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(qa,"type",{configurable:!0,enumerable:!0,value:"C"}),yi.prototype=Fs(vs,or.prototype,qa);var ps=function(){for(var e=arguments,t=[],r=arguments.length,i=0;i<r;i++)t.push(e[i]);if(!(this instanceof ps))return Ji(ps,t);if(0===r)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var s,f;if(t[0]instanceof et){if(1===r)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+r+" lines provided).")}if(t[0]instanceof or){if(1===r)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+r+" curves provided).")}if("string"==typeof t[0]||"number"==typeof t[0]){if(2===r)return this.end=new oe(+t[0],+t[1]),this;if(r<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+r+" coordinates provided).");var l;for(s=[],i=0;i<r;i+=2)l=t.slice(i,i+2),s.push(Ji(0===i?ps:Wn,l));return s}if(1===r)return this.end=new oe(t[0]),this;for(s=[],i=0;i<r;i+=1)f=t[i],s.push(0===i?new ps(f):new Wn(f));return s},X0={bbox:function(){return null},clone:function(){return new ps(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(X0,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(X0,"type",{configurable:!0,enumerable:!0,value:"M"}),ps.prototype=Fs(vs,X0);var _n=function(){for(var e=arguments,t=[],r=arguments.length,i=0;i<r;i++)t.push(e[i]);if(!(this instanceof _n))return Ji(_n,t);if(r>0)throw new Error("Closepath constructor expects no arguments.");return this},A0={clone:function(){return new _n},divideAt:function(e){var r=new et(this.start,this.end).divideAt(e);return[r[1].isDifferentiable()?new Wn(r[0]):this.clone(),new Wn(r[1])]},divideAtLength:function(e){var r=new et(this.start,this.end).divideAtLength(e);return[r[1].isDifferentiable()?new Wn(r[0]):this.clone(),new Wn(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(A0,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(A0,"type",{configurable:!0,enumerable:!0,value:"Z"}),_n.prototype=Fs(vs,et.prototype,A0);var Ql=it.segmentTypes={L:Wn,C:yi,M:ps,Z:_n,z:_n};it.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Ql).join("")+",.]*$"),it.isDataSupported=function(e){return"string"==typeof e&&this.regexSupportedData.test(e)};var $l={curveThroughPoints:function(e){return console.warn("deprecated"),new it(or.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var s,t=[],r=[],i=e.length-1;if(1==i)return t[0]=new oe((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new oe(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var l=[];for(s=1;s<i-1;s++)l[s]=4*e[s].x+2*e[s+1].x;l[0]=e[0].x+2*e[1].x,l[i-1]=(8*e[i-1].x+e[i].x)/2;var f=this.getFirstControlPoints(l);for(s=1;s<i-1;++s)l[s]=4*e[s].y+2*e[s+1].y;l[0]=e[0].y+2*e[1].y,l[i-1]=(8*e[i-1].y+e[i].y)/2;var p=this.getFirstControlPoints(l);for(s=0;s<i;s++)t.push(new oe(f[s],p[s])),r.push(s<i-1?new oe(2*e[s+1].x-f[s+1],2*e[s+1].y-p[s+1]):new oe((e[i].x+f[i-1])/2,(e[i].y+p[i-1])/2));return[t,r]},getCurveDivider:function(e,t,r,i){console.warn("deprecated");var s=new or(e,t,r,i);return function(f){var p=s.divide(f);return[{p0:p[0].start,p1:p[0].controlPoint1,p2:p[0].controlPoint2,p3:p[0].end},{p0:p[1].start,p1:p[1].controlPoint1,p2:p[1].controlPoint2,p3:p[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],i=[],s=2;r[0]=e[0]/s;for(var l=1;l<t;l++)i[l]=1/s,r[l]=(e[l]-r[l-1])/(s=(l<t-1?4:3.5)-i[l]);for(l=1;l<t;l++)r[t-l-1]-=i[t-l]*r[t-l];return r},getInversionSolver:function(e,t,r,i){console.warn("deprecated");var s=new or(e,t,r,i);return function(f){return s.closestPointT(f)}}},Ai=function(e){return this instanceof Ai?"string"==typeof e?new Ai.parse(e):void(this.points=Array.isArray(e)?e.map(oe):[]):new Ai(e)};function ms(e,t){var r=e.start.x,i=e.start.y,f=t.start.x,p=t.start.y,o=e.end.x-r,c=e.end.y-i,y=t.end.x-f,w=t.end.y-p,T=r-f,E=i-p,j=o*w-y*c,J=(o*E-c*T)/j,K=(y*E-w*T)/j;return J>=0&&J<=1&&K>=0&&K<=1}function b0(e,t){var r=e.a,i=e.b,s=e.x,l=e.y,f=t.start.x-s,n=t.start.y-l,o=r*r,c=i*i,y=t.end.x-s-f,w=t.end.y-l-n,T=y*y/o+w*w/c,E=2*f*y/o+2*n*w/c,J=E*E-4*T*(f*f/o+n*n/c-1);if(0===J){var K=-E/2/T;return K>=0&&K<=1}if(J>0){var x=Math.sqrt(J),z=(-E+x)/2/T,O=(-E-x)/2/T;return z>=0&&z<=1||O>=0&&O<=1}return!1}function bl(e,t){return function Yt(e,t,r,i){var s=Math.cos,l=Math.sin,f=l(t),p=s(t),n=l(i),a=s(i),o=f*f,c=p*p,w=n*n,T=a*a,j=e.a*e.a,J=e.b*e.b,K=r.a*r.a,x=r.b*r.b,z=j*o+J*c,O=K*w+x*T,U=j*c+J*o,Q=K*T+x*w,ie=2*(J-j)*(f*p),ne=2*(x-K)*(n*a),ge=-2*z*e.x-ie*e.y,ke=-2*O*r.x-ne*r.y,Ne=-ie*e.x-2*U*e.y,je=-ne*r.x-2*Q*r.y,Fe=z*e.x*e.x+U*e.y*e.y+ie*e.x*e.y-j*J,Ve=O*r.x*r.x+Q*r.y*r.y+ne*r.x*r.y-K*x;ne/=2,ke/=2,je/=2;var st=Kt([[z,ie/=2,ge/=2],[ie,U,Ne/=2],[ge,Ne,Fe]]),br=Kt([[O,ne,ke],[ne,Q,je],[ke,je,Ve]]),yr=.33333333*(Kt([[O,ie,ge],[ne,U,Ne],[ke,Ne,Fe]])+Kt([[z,ne,ge],[ie,Q,Ne],[ge,je,Fe]])+Kt([[z,ie,ke],[ie,U,je],[ge,Ne,Ve]])),Xr=.33333333*(Kt([[z,ne,ke],[ie,Q,je],[ge,je,Ve]])+Kt([[O,ie,ke],[ne,U,je],[ke,Ne,Ve]])+Kt([[O,ne,ge],[ne,Q,Ne],[ke,je,Fe]])),Ct=jr([[st,yr],[yr,Xr]]),Et=jr([[st,Xr],[yr,br]]),Nt=jr([[yr,Xr],[Xr,br]]);return!(jr([[2*Ct,Et],[Et,2*Nt]])>0&&(Xr>0||yr>0))}(e,0,t,0)}function M(e,t){var r=t.start,i=t.end,s=e.x,l=e.y,f=e.width,p=e.height;return!(r.x>s+f&&i.x>s+f||r.x<s&&i.x<s||r.y>l+p&&i.y>l+p||r.y<l&&i.y<l)&&(!(!e.containsPoint(t.start)&&!e.containsPoint(t.end))||ms(e.topLine(),t)||ms(e.rightLine(),t)||ms(e.bottomLine(),t)||ms(e.leftLine(),t))}function u(e,t){return!!h(e,$e.fromEllipse(t))&&_(Ai.fromRect(e),t)}function h(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function d(e,t){return ht(e,t,{interior:!1})}function m(e,t){return wt(e,t,{interior:!1})}function I(e,t){return lr(e,t,{interior:!1})}function N(e,t){return ur(e,t,{interior:!1})}function P(e,t){return ht(e,t,{interior:!0})}function _(e,t){return wt(e,t,{interior:!0})}function q(e,t){return lr(e,t,{interior:!0})}function ae(e,t){return ur(e,t,{interior:!0})}function me(e,t){return Xt(e,t,{interior:!0})}function ze(e,t,r){return e.getSubpaths().some(function(i){var l=i.toPolylines(r)[0];return"Z"===i.getSegment(-1).type?P(l,t):d(l,t)})}function Be(e,t,r){return e.getSubpaths().some(function(i){var l=i.toPolylines(r)[0];return"Z"===i.getSegment(-1).type?_(l,t):m(l,t)})}function Ee(e,t,r){return Xe(e,Ai.fromRect(t),r)}function Ue(e,t,r){return mt(e,t,r,{interior:!1})}function Xe(e,t,r){return mt(e,t,r,{interior:!0})}function at(e,t,r,i){return e.getSubpaths().some(function(s){var f=s.toPolylines(r)[0];return"Z"===s.getSegment(-1).type?Xe(t,f,i):Ue(t,f,i)})}function ht(e,t,r){void 0===r&&(r={});var s,i=r.interior;if(void 0===i&&(i=!1),i){if(e.containsPoint(t.start))return!0;var l=e.start,p=e.points;s=e.end.equals(l)?p:p.concat([l])}else s=e.points;for(var n=s.length,a=new et,o=0;o<n-1;o++)if(a.start=s[o],a.end=s[o+1],ms(t,a))return!0;return!1}function wt(e,t,r){void 0===r&&(r={});var i=e.start,s=e.end,l=e.points;if(t.containsPoint(i))return!0;var f,p=r.interior;if(void 0===p&&(p=!1),p){if(e.containsPoint(t.center()))return!0;f=s.equals(i)?l:l.concat([i])}else f=l;for(var n=f.length,a=new et,o=0;o<n-1;o++)if(a.start=f[o],a.end=f[o+1],b0(t,a))return!0;return!1}function lr(e,t,r){return Xt(e,Ai.fromRect(t),r)}function mt(e,t,r,i){return e.getSubpaths().some(function(s){var f=s.toPolylines(r)[0];return"Z"===s.getSegment(-1).type?Xt(t,f,i):ur(t,f,i)})}function ur(e,t,r){void 0===r&&(r={});var s,i=r.interior;if(void 0===i&&(i=!1),i){if(e.containsPoint(t.start))return!0;s=e.clone().close()}else s=e;for(var f=t.points,p=f.length,n=new et,a=0;a<p-1;a++)if(n.start=f[a],n.end=f[a+1],d(s,n))return!0;return!1}function Xt(e,t,r){return t.containsPoint(e.start)||ur(e,t.clone().close(),r)}function jr(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function Kt(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}Ai.parse=function(e){return new Ai(pl(e))},Ai.fromRect=function(e){return new Ai([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])},Ai.prototype=Fs(Pr.prototype,{type:ft.Polygon,clone:function(){return new Ai(ml(this.points))},convexHull:function(){return new Ai(m0(this.points))},lengthPoints:function(){var e=this,t=e.start,i=e.points;return i.length<=1||t.equals(e.end)?i:i.concat([t.clone()])}});var En={exists:function I0(e,t,r,i){switch(e.type){case ft.Line:if(t.type===ft.Line)return ms(e,t);break;case ft.Ellipse:switch(t.type){case ft.Line:return b0(e,t);case ft.Ellipse:return bl(e,t)}break;case ft.Rect:switch(t.type){case ft.Line:return M(e,t);case ft.Ellipse:return u(e,t);case ft.Rect:return h(e,t)}break;case ft.Polyline:switch(t.type){case ft.Line:return d(e,t);case ft.Ellipse:return m(e,t);case ft.Rect:return I(e,t);case ft.Polyline:return N(e,t)}break;case ft.Polygon:switch(t.type){case ft.Line:return P(e,t);case ft.Ellipse:return _(e,t);case ft.Rect:return q(e,t);case ft.Polyline:return ae(e,t);case ft.Polygon:return me(e,t)}break;case ft.Path:switch(t.type){case ft.Line:return ze(e,t,r);case ft.Ellipse:return Be(e,t,r);case ft.Rect:return Ee(e,t,r);case ft.Polyline:return Ue(e,t,r);case ft.Polygon:return Xe(e,t,r);case ft.Path:return at(e,t,r,i)}}switch(t.type){case ft.Ellipse:case ft.Rect:case ft.Polyline:case ft.Polygon:case ft.Path:return I0(t,e,i,r);default:throw Error("The intersection for "+e+" and "+t+" could not be found.")}},lineWithLine:ms,ellipseWithLine:b0,ellipseWithEllipse:bl,rectWithLine:M,rectWithEllipse:u,rectWithRect:h,polylineWithLine:d,polylineWithEllipse:m,polylineWithRect:I,polylineWithPolyline:N,polygonWithLine:P,polygonWithEllipse:_,polygonWithRect:q,polygonWithPolyline:ae,polygonWithPolygon:me,pathWithLine:ze,pathWithEllipse:Be,pathWithRect:Ee,pathWithPolyline:Ue,pathWithPolygon:Xe,pathWithPath:at},nn={intersection:En,scale:{linear:function(e,t,r){return(r-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]||0}},normalizeAngle:Ti,snapToGrid:ds,toDeg:mo,toRad:mi,random:Rs,bezier:$l,Curve:or,Ellipse:Cn,ellipse:V0,Line:et,line:js,Path:it,Point:oe,point:Ha,Polyline:Pr,Polygon:Ai,Rect:$e,rect:Zs,types:ft},be=function(){if("object"!=typeof window||!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},i=Math,s=i.PI,l=i.atan2,f=i.sqrt,p=i.min,n=i.max,a=i.cos,o=i.sin,c=function(x,z,O){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(x){if(c.isV(x)&&(x=x.node),z=z||{},c.isString(x)){if("svg"===(x=x.trim()).toLowerCase())x=c.createSvgDocument();else if("<"===x[0]){var U=c.createSvgDocument(x);if(U.childNodes.length>1){var ie,ne,Q=[];for(ie=0,ne=U.childNodes.length;ie<ne;ie++){var ge=U.childNodes[ie];Q.push(new c(document.importNode(ge,!0)))}return Q}x=document.importNode(U.firstChild,!0)}else x=document.createElementNS(t.svg,x);c.ensureId(x)}return this.node=x,this.setAttributes(z),O&&this.append(O),this}},y=c.prototype;function T(x,z,O){O||(O={});for(var U=O.includeAnnotationIndices,Q=O.eol,ie=O.lineHeight,ne=O.baseSize,ge=0,ke={},Ne=z.length-1,je=0;je<=Ne;je++){var Fe=z[je],Ve=null;if(c.isObject(Fe)){var st=Fe.attrs,br=c("tspan",st),yr=br.node,Xr=Fe.t;Q&&je===Ne&&(Xr+=Q),yr.textContent=Xr;var Ct=st.class;Ct&&br.addClass(Ct),U&&br.attr("annotations",Fe.annotations),Ve=parseFloat(st["font-size"]),isFinite(Ve)||(Ve=ne),Ve&&Ve>ge&&(ge=Ve)}else Q&&je===Ne&&(Fe+=Q),yr=document.createTextNode(Fe||" "),ne&&ne>ge&&(ge=ne);x.appendChild(yr)}return ge&&(ke.maxFontSize=ge),ie?ke.lineHeight=ie:ge&&(ke.lineHeight=1.2*ge),ke}Object.defineProperty(y,"id",{enumerable:!0,get:function(){return this.node.id},set:function(x){this.node.id=x}}),y.getTransformToElement=function(x){var z=this.node;if(c.isSVGGraphicsElement(x)&&c.isSVGGraphicsElement(z)){var O=c.toNode(x).getScreenCTM(),U=z.getScreenCTM();if(O&&U)return O.inverse().multiply(U)}return c.createSVGMatrix()},y.transform=function(x,z){var O=this.node;if(c.isUndefined(x))return c.transformStringToMatrix(this.attr("transform"));if(z&&z.absolute)return this.attr("transform",c.matrixToTransformString(x));var U=c.createSVGTransform(x);return O.transform.baseVal.appendItem(U),this},y.translate=function(x,z,O){O=O||{},z=z||0;var U=this.attr("transform")||"",Q=c.parseTransformString(U);return U=Q.value,c.isUndefined(x)?Q.translate:(U=U.replace(/translate\([^)]*\)/g,"").trim(),this.attr("transform",("translate("+(O.absolute?x:Q.translate.tx+x)+","+(O.absolute?z:Q.translate.ty+z)+") "+U).trim()),this)},y.rotate=function(x,z,O,U){U=U||{};var Q=this.attr("transform")||"",ie=c.parseTransformString(Q);return Q=ie.value,c.isUndefined(x)?ie.rotate:(Q=Q.replace(/rotate\([^)]*\)/g,"").trim(),x%=360,this.attr("transform",(Q+" rotate("+(U.absolute?x:ie.rotate.angle+x)+(void 0!==z&&void 0!==O?","+z+","+O:"")+")").trim()),this)},y.scale=function(x,z){z=c.isUndefined(z)?x:z;var O=this.attr("transform")||"",U=c.parseTransformString(O);return O=U.value,c.isUndefined(x)?U.scale:(O=O.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(O+" scale("+x+","+z+")").trim()),this)},y.bbox=function(x,z){var O,U=this.node,Q=U.ownerSVGElement;if(!Q)return new $e(0,0,0,0);try{O=U.getBBox()}catch(ne){O={x:U.clientLeft,y:U.clientTop,width:U.clientWidth,height:U.clientHeight}}if(x)return new $e(O);var ie=this.getTransformToElement(z||Q);return c.transformRect(O,ie)},y.getBBox=function(x){var O,z={},U=this.node;if(!U.ownerSVGElement||!c.isSVGGraphicsElement(U))return new $e(0,0,0,0);if(x&&(x.target&&(z.target=c.toNode(x.target)),x.recursive&&(z.recursive=x.recursive)),z.recursive){var ne=this.children(),ge=ne.length;if(0===ge)return this.getBBox({target:z.target,recursive:!1});z.target||(z.target=this);for(var ke=0;ke<ge;ke++){var je,Ne=ne[ke];je=0===Ne.children().length?Ne.getBBox({target:z.target,recursive:!1}):Ne.getBBox({target:z.target,recursive:!0}),O=O?O.union(je):je}return O}try{O=U.getBBox()}catch(Fe){O={x:U.clientLeft,y:U.clientTop,width:U.clientWidth,height:U.clientHeight}}if(z.target){var ie=this.getTransformToElement(z.target);return c.transformRect(O,ie)}return new $e(O)};var E=/em$/;function j(x,z){var O=parseFloat(x);return E.test(x)?O*z:O}y.text=function(x,z){if(x&&"string"!=typeof x)throw new Error("Vectorizer: text() expects the first argument to be a string.");x=c.sanitizeText(x),z||(z={});var O=z.displayEmpty,U=z.eol,Q=z.textPath,ie=z.textVerticalAnchor,ne="middle"===ie||"bottom"===ie||"top"===ie,ge=z.x;void 0===ge&&(ge=this.attr("x")||0);var ke=z.includeAnnotationIndices,Ne=z.annotations;Ne&&!c.isArray(Ne)&&(Ne=[Ne]);var je=z.lineHeight,Fe="auto"===je,Ve=Fe?"1.5em":je||"1em";this.empty(),this.attr({"xml:space":"preserve",display:x||O?null:"none"});var st=parseFloat(this.attr("font-size"));st||(st=16,(ne||Ne)&&this.attr("font-size",st));var yr,br=document;Q?("string"==typeof Q&&(Q={d:Q}),yr=function w(x,z){x||(x={});var O=c("textPath"),U=x.d;if(U&&void 0===x["xlink:href"]){var Q=c("path").attr("d",U).appendTo(z.defs());O.attr("xlink:href","#"+Q.id)}return c.isObject(x)&&O.attr(x),O.node}(Q,this)):yr=br.createDocumentFragment();for(var Nt,Xr=0,Ct=x.split("\n"),Et=[],St=0,tr=Ct.length-1;St<=tr;St++){var gr,Br=Ve,Zr="v-line",Qt=br.createElementNS(t.svg,"tspan"),Mn=Ct[St];if(Mn)if(Ne){var nr=(gr=T(Qt,c.annotateString(Mn,Ne,{offset:-Xr,includeAnnotationIndices:ke}),{includeAnnotationIndices:ke,eol:St!==tr&&U,lineHeight:Fe?null:Ve,baseSize:st})).lineHeight;nr&&Fe&&0!==St&&(Br=nr),0===St&&(Nt=.8*gr.maxFontSize)}else U&&St!==tr&&(Mn+=U),Qt.textContent=Mn;else{Qt.textContent="-",Zr+=" v-empty-line";var Mt=Qt.style;Mt.fillOpacity=0,Mt.strokeOpacity=0,Ne&&(gr={})}gr&&Et.push(gr),St>0&&Qt.setAttribute("dy",Br),(St>0||Q)&&Qt.setAttribute("x",ge),Qt.className.baseVal=Zr,yr.appendChild(Qt),Xr+=Mn.length+1}if(ne)if(Ne)Br=function J(x,z,O,U){if(!Array.isArray(z))return 0;var Q=z.length;if(!Q)return 0;for(var ie=z[0],ne=j(ie.maxFontSize,O)||O,ge=0,ke=j(U,O),Ne=1;Ne<Q;Ne++)ge+=j((ie=z[Ne]).lineHeight,O)||ke;var Ve,Fe=j(ie.maxFontSize,O)||O;switch(x){case"middle":Ve=ne/2-.15*Fe-ge/2;break;case"bottom":Ve=-.25*Fe-ge;break;default:Ve=.8*ne}return Ve}(ie,Et,st,Ve);else if("top"===ie)Br="0.8em";else{var nt;switch(tr>0?(nt=parseFloat(Ve)||1,nt*=tr,E.test(Ve)||(nt/=st)):nt=0,ie){case"middle":Br=.3-nt/2+"em";break;case"bottom":Br=-nt-.3+"em"}}else 0===ie?Br="0em":ie?Br=ie:(Br=0,null===this.attr("y")&&this.attr("y",Nt||"0.8em"));return yr.firstChild.setAttribute("dy",Br),this.append(yr),this},y.removeAttr=function(x){var z=c.qualifyAttr(x),O=this.node;return z.ns?O.hasAttributeNS(z.ns,z.local)&&O.removeAttributeNS(z.ns,z.local):O.hasAttribute(x)&&O.removeAttribute(x),this},y.attr=function(x,z){if(c.isUndefined(x)){for(var O=this.node.attributes,U={},Q=0;Q<O.length;Q++)U[O[Q].name]=O[Q].value;return U}if(c.isString(x)&&c.isUndefined(z))return this.node.getAttribute(x);if("object"==typeof x)for(var ie in x)x.hasOwnProperty(ie)&&this.setAttribute(ie,x[ie]);else this.setAttribute(x,z);return this},y.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",c.normalizePathData(this.attr("d"))),this},y.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},y.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},y.setAttributes=function(x){for(var z in x)x.hasOwnProperty(z)&&this.setAttribute(z,x[z]);return this},y.append=function(x){c.isArray(x)||(x=[x]);for(var z=0,O=x.length;z<O;z++)this.node.appendChild(c.toNode(x[z]));return this},y.prepend=function(x){var z=this.node.firstChild;return z?c(z).before(x):this.append(x)},y.before=function(x){var z=this.node,O=z.parentNode;if(O){c.isArray(x)||(x=[x]);for(var U=0,Q=x.length;U<Q;U++)O.insertBefore(c.toNode(x[U]),z)}return this},y.appendTo=function(x){return c.toNode(x).appendChild(this.node),this},y.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},y.tagName=function(){return this.node.tagName.toUpperCase()},y.defs=function(){var x=this.svg()||this,z=x.node.getElementsByTagName("defs")[0];return z?c(z):c("defs").appendTo(x)},y.clone=function(){var x=c(this.node.cloneNode(!0));return x.node.id=c.uniqueId(),x},y.findOne=function(x){var z=this.node.querySelector(x);return z?c(z):void 0},y.find=function(x){var z=[],O=this.node.querySelectorAll(x);if(O)for(var U=0;U<O.length;U++)z.push(c(O[U]));return z},y.children=function(){for(var x=this.node.childNodes,z=[],O=0;O<x.length;O++)1===x[O].nodeType&&z.push(c(x[O]));return z},y.parent=function(){return c(this.node.parentNode)||null},y.index=function(){for(var x=0,z=this.node.previousSibling;z;)1===z.nodeType&&x++,z=z.previousSibling;return x},y.findParentByClass=function(x,z){for(var O=this.node.ownerSVGElement,U=this.node.parentNode;U&&U!==z&&U!==O;){var Q=c(U);if(Q.hasClass(x))return Q;U=U.parentNode}return null},y.contains=function(x){var z=this.node,O=c.toNode(x),U=O&&O.parentNode;return z===U||!!(U&&1===U.nodeType&&16&z.compareDocumentPosition(U))},y.toLocalPoint=function(x,z){var O=this.svg().node,U=O.createSVGPoint();U.x=x,U.y=z;try{var Q=U.matrixTransform(O.getScreenCTM().inverse()),ie=this.getTransformToElement(O).inverse()}catch(ne){return U}return Q.matrixTransform(ie)},y.translateCenterToPoint=function(x){var O=this.getBBox({target:this.svg()}).center();return this.translate(x.x-O.x,x.y-O.y),this},y.translateAndAutoOrient=function(x,z,O){x=new oe(x),z=new oe(z),O||(O=this.svg());var U=this.scale();this.attr("transform","");var Q=this.getBBox({target:O}).scale(U.sx,U.sy),ie=c.createSVGTransform();ie.setTranslate(-Q.x-Q.width/2,-Q.y-Q.height/2);var ne=c.createSVGTransform(),ge=x.angleBetween(z,x.clone().offset(1,0));ge&&ne.setRotate(ge,0,0);var ke=c.createSVGTransform(),Ne=x.clone().move(z,Q.width/2);ke.setTranslate(2*x.x-Ne.x,2*x.y-Ne.y);var je=this.getTransformToElement(O),Fe=c.createSVGTransform();return Fe.setMatrix(ke.matrix.multiply(ne.matrix.multiply(ie.matrix.multiply(je.scale(U.sx,U.sy))))),this.attr("transform",c.matrixToTransformString(Fe.matrix)),this},y.animateAlongPath=function(x,z){z=c.toNode(z);var O=c.ensureId(z),U=c("animateMotion",x),Q=c("mpath",{"xlink:href":"#"+O});U.append(Q),this.append(U);try{U.node.beginElement()}catch(Ve){if("fake"===document.documentElement.getAttribute("smiling")){var ie=U.node;ie.animators=[];var ne=ie.getAttribute("id");ne&&(id2anim[ne]=ie);for(var ge=getTargets(ie),ke=0,Ne=ge.length;ke<Ne;ke++){var Fe=new Animator(ie,ge[ke],ke);animators.push(Fe),ie.animators[ke]=Fe,Fe.register()}}}return this},y.hasClass=function(x){return new RegExp("(\\s|^)"+x+"(\\s|$)").test(this.node.getAttribute("class"))},y.addClass=function(x){if(x&&!this.hasClass(x)){var z=this.node.getAttribute("class")||"";this.node.setAttribute("class",(z+" "+x).trim())}return this},y.removeClass=function(x){if(x&&this.hasClass(x)){var z=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+x+"(\\s|$)","g"),"$2");this.node.setAttribute("class",z)}return this},y.toggleClass=function(x,z){return(c.isUndefined(z)?this.hasClass(x):!z)?this.removeClass(x):this.addClass(x),this},y.sample=function(x){x=x||1;for(var ie,z=this.node,O=z.getTotalLength(),U=[],Q=0;Q<O;)ie=z.getPointAtLength(Q),U.push({x:ie.x,y:ie.y,distance:Q}),Q+=x;return U},y.convertToPath=function(){var x=c("path");x.attr(this.attr());var z=this.convertToPathData();return z&&x.attr("d",z),x},y.convertToPathData=function(){var x=this.tagName();switch(x){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(x+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var x,z,O,U,Q,ie,ne,ge,ke,Ne,je,Fe,Ve,st,br;switch(this.tagName()){case"RECT":return x=parseFloat(this.attr("x"))||0,z=parseFloat(this.attr("y"))||0,O=parseFloat(this.attr("width"))||0,U=parseFloat(this.attr("height"))||0,new $e(x,z,O,U);case"CIRCLE":return Q=parseFloat(this.attr("cx"))||0,ie=parseFloat(this.attr("cy"))||0,ne=parseFloat(this.attr("r"))||0,new Cn({x:Q,y:ie},ne,ne);case"ELLIPSE":return Q=parseFloat(this.attr("cx"))||0,ie=parseFloat(this.attr("cy"))||0,ge=parseFloat(this.attr("rx"))||0,ke=parseFloat(this.attr("ry"))||0,new Cn({x:Q,y:ie},ge,ke);case"POLYLINE":return Ne=c.getPointsFromSvgNode(this),new Pr(Ne);case"POLYGON":return(Ne=c.getPointsFromSvgNode(this)).length>1&&Ne.push(Ne[0]),new Pr(Ne);case"PATH":return je=this.attr("d"),it.isDataSupported(je)||(je=c.normalizePathData(je)),new it(je);case"LINE":return Fe=parseFloat(this.attr("x1"))||0,st=parseFloat(this.attr("y1"))||0,Ve=parseFloat(this.attr("x2"))||0,br=parseFloat(this.attr("y2"))||0,new et({x:Fe,y:st},{x:Ve,y:br})}return this.getBBox()},y.findIntersection=function(x,z){var O=this.svg().node,U=this.getBBox({target:z=z||O}),Q=U.center();if(U.intersectionWithLineFromCenterToPoint(x)){var ie,ne=this.tagName();if("RECT"===ne){var ge=new $e(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),ke=this.getTransformToElement(z),Ne=c.decomposeMatrix(ke),je=O.createSVGTransform();je.setRotate(-Ne.rotation,Q.x,Q.y);var Fe=c.transformRect(ge,je.matrix.multiply(ke));ie=new $e(Fe).intersectionWithLineFromCenterToPoint(x,Ne.rotation)}else if("PATH"===ne||"POLYGON"===ne||"POLYLINE"===ne||"CIRCLE"===ne||"ELLIPSE"===ne){var Xr,Ct,Et,St,tr,st=("PATH"===ne?this:this.convertToPath()).sample(),br=1/0,yr=[];for(Xr=0;Xr<st.length;Xr++)Et=(Et=c.createSVGPoint((Ct=st[Xr]).x,Ct.y)).matrixTransform(this.getTransformToElement(z)),(tr=(Ct=new oe(Et)).distance(Q)+(St=1.1*Ct.distance(x)))<br?(br=tr,yr=[{sample:Ct,refDistance:St}]):tr<br+1&&yr.push({sample:Ct,refDistance:St});yr.sort(function(Br,Zr){return Br.refDistance-Zr.refDistance}),yr[0]&&(ie=yr[0].sample)}return ie}},y.setAttribute=function(x,z){var O=this.node;if(null===z)return this.removeAttr(x),this;var U=c.qualifyAttr(x);return U.ns?O.setAttributeNS(U.ns,x,z):"id"===x?O.id=z:O.setAttribute(x,z),this},c.createSvgDocument=function(x){if(x)return c.parseXML('<svg xmlns="'+t.svg+'" xmlns:xlink="'+t.xlink+'" version="1.1">'+x+"</svg>",{async:!1}).documentElement;var Q=document.createElementNS(t.svg,"svg");return Q.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),Q.setAttribute("version","1.1"),Q},c.createSVGStyle=function(x){return c("style",{type:"text/css"},[c.createCDATASection(x)]).node},c.createCDATASection=function(x){return void 0===x&&(x=""),document.implementation.createDocument(null,"xml",null).createCDATASection(x)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(x){return c.isV(x)?x.node:x.nodeName&&x||x[0]},c.ensureId=function(x){return(x=c.toNode(x)).id||(x.id=c.uniqueId())},c.sanitizeText=function(x){return(x||"").replace(/ /g,"\xa0")},c.isUndefined=function(x){return void 0===x},c.isString=function(x){return"string"==typeof x},c.isObject=function(x){return x&&"object"==typeof x},c.isArray=Array.isArray,c.parseXML=function(x,z){var O;z=z||{};try{var U=new DOMParser;c.isUndefined(z.async)||(U.async=z.async),O=U.parseFromString(x,"text/xml")}catch(Q){O=void 0}if(!O||O.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+x);return O},c.qualifyAttr=function(x){if(-1!==x.indexOf(":")){var z=x.split(":");return{ns:t[z[0]],local:z[1]}}return{ns:null,local:x}},c.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,c.transformSeparatorRegex=/[ ,]+/,c.transformationListRegex=/^(\w+)\((.*)\)/,c.transformStringToMatrix=function(x){var z=c.createSVGMatrix(),O=x&&x.match(c.transformRegex);if(!O)return z;for(var U=0,Q=O.length;U<Q;U++){var ne=O[U].match(c.transformationListRegex);if(ne){var ge,ke,Ne,je,Fe,Ve=c.createSVGMatrix(),st=ne[2].split(c.transformSeparatorRegex);switch(ne[1].toLowerCase()){case"scale":ge=parseFloat(st[0]),ke=void 0===st[1]?ge:parseFloat(st[1]),Ve=Ve.scaleNonUniform(ge,ke);break;case"translate":Ne=parseFloat(st[0]),je=parseFloat(st[1]),Ve=Ve.translate(Ne,je);break;case"rotate":Fe=parseFloat(st[0]),Ne=parseFloat(st[1])||0,je=parseFloat(st[2])||0,Ve=0!==Ne||0!==je?Ve.translate(Ne,je).rotate(Fe).translate(-Ne,-je):Ve.rotate(Fe);break;case"skewx":Fe=parseFloat(st[0]),Ve=Ve.skewX(Fe);break;case"skewy":Fe=parseFloat(st[0]),Ve=Ve.skewY(Fe);break;case"matrix":Ve.a=parseFloat(st[0]),Ve.b=parseFloat(st[1]),Ve.c=parseFloat(st[2]),Ve.d=parseFloat(st[3]),Ve.e=parseFloat(st[4]),Ve.f=parseFloat(st[5]);break;default:continue}z=z.multiply(Ve)}}return z},c.matrixToTransformString=function(x){return x||(x=!0),"matrix("+(void 0!==x.a?x.a:1)+","+(void 0!==x.b?x.b:0)+","+(void 0!==x.c?x.c:0)+","+(void 0!==x.d?x.d:1)+","+(void 0!==x.e?x.e:0)+","+(void 0!==x.f?x.f:0)+")"},c.parseTransformString=function(x){var z,O,U;if(x){var Q=c.transformSeparatorRegex;if(x.trim().indexOf("matrix")>=0){var ie=c.transformStringToMatrix(x),ne=c.decomposeMatrix(ie);U=[ne.scaleX,ne.scaleY],O=[ne.rotation];var ge=[];(0!==(z=[ne.translateX,ne.translateY])[0]||0!==z[1])&&ge.push("translate("+z+")"),(1!==U[0]||1!==U[1])&&ge.push("scale("+U+")"),0!==O[0]&&ge.push("rotate("+O+")"),x=ge.join(" ")}else{var ke=x.match(/translate\((.*?)\)/);ke&&(z=ke[1].split(Q));var Ne=x.match(/rotate\((.*?)\)/);Ne&&(O=Ne[1].split(Q));var je=x.match(/scale\((.*?)\)/);je&&(U=je[1].split(Q))}}var Fe=U&&U[0]?parseFloat(U[0]):1;return{value:x,translate:{tx:z&&z[0]?parseInt(z[0],10):0,ty:z&&z[1]?parseInt(z[1],10):0},rotate:{angle:O&&O[0]?parseInt(O[0],10):0,cx:O&&O[1]?parseInt(O[1],10):void 0,cy:O&&O[2]?parseInt(O[2],10):void 0},scale:{sx:Fe,sy:U&&U[1]?parseFloat(U[1]):Fe}}},c.deltaTransformPoint=function(x,z){return{x:z.x*x.a+z.y*x.c+0,y:z.x*x.b+z.y*x.d+0}},c.decomposeMatrix=function(x){var z=c.deltaTransformPoint(x,{x:0,y:1}),O=c.deltaTransformPoint(x,{x:1,y:0}),U=180/s*l(z.y,z.x)-90,Q=180/s*l(O.y,O.x);return{translateX:x.e,translateY:x.f,scaleX:f(x.a*x.a+x.b*x.b),scaleY:f(x.c*x.c+x.d*x.d),skewX:U,skewY:Q,rotation:U}},c.matrixToScale=function(x){var z,O,U,Q;return x?(z=c.isUndefined(x.a)?1:x.a,Q=c.isUndefined(x.d)?1:x.d,O=x.b,U=x.c):z=Q=1,{sx:O?f(z*z+O*O):z,sy:U?f(U*U+Q*Q):Q}},c.matrixToRotate=function(x){var z={x:0,y:1};return x&&(z=c.deltaTransformPoint(x,z)),{angle:Ti(mo(l(z.y,z.x))-90)}},c.matrixToTranslate=function(x){return{tx:x&&x.e||0,ty:x&&x.f||0}},c.isV=function(x){return x instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(x){return!!x&&(x=c.toNode(x))instanceof SVGElement&&"function"==typeof x.getScreenCTM};var K=c("svg").node;return c.createSVGMatrix=function(x){var z=K.createSVGMatrix();for(var O in x)z[O]=x[O];return z},c.createSVGTransform=function(x){return c.isUndefined(x)?K.createSVGTransform():(x instanceof SVGMatrix||(x=c.createSVGMatrix(x)),K.createSVGTransformFromMatrix(x))},c.createSVGPoint=function(x,z){var O=K.createSVGPoint();return O.x=x,O.y=z,O},c.transformRect=function(x,z){var O=K.createSVGPoint();O.x=x.x,O.y=x.y;var U=O.matrixTransform(z);O.x=x.x+x.width,O.y=x.y;var Q=O.matrixTransform(z);O.x=x.x+x.width,O.y=x.y+x.height;var ie=O.matrixTransform(z);O.x=x.x,O.y=x.y+x.height;var ne=O.matrixTransform(z),ge=p(U.x,Q.x,ie.x,ne.x),ke=n(U.x,Q.x,ie.x,ne.x),Ne=p(U.y,Q.y,ie.y,ne.y),je=n(U.y,Q.y,ie.y,ne.y);return new $e(ge,Ne,ke-ge,je-Ne)},c.transformPoint=function(x,z){return new oe(c.createSVGPoint(x.x,x.y).matrixTransform(z))},c.transformLine=function(x,z){return new et(c.transformPoint(x.start,z),c.transformPoint(x.end,z))},c.transformPolyline=function(x,z){var O=x instanceof Pr?x.points:x;c.isArray(O)||(O=[]);for(var U=[],Q=0,ie=O.length;Q<ie;Q++)U[Q]=c.transformPoint(O[Q],z);return new Pr(U)},c.styleToObject=function(x){for(var z={},O=x.split(";"),U=0;U<O.length;U++){var ie=O[U].split("=");z[ie[0].trim()]=ie[1].trim()}return z},c.createSlicePathData=function(x,z,O,U){var Q=2*s-1e-6,ie=x,ne=z,ge=O,ke=U,Ne=(ke<ge&&(Ne=ge,ge=ke,ke=Ne),ke-ge),je=Ne<s?"0":"1",Fe=a(ge),Ve=o(ge),st=a(ke),br=o(ke);return Ne>=Q?ie?"M0,"+ne+"A"+ne+","+ne+" 0 1,1 0,"+-ne+"A"+ne+","+ne+" 0 1,1 0,"+ne+"M0,"+ie+"A"+ie+","+ie+" 0 1,0 0,"+-ie+"A"+ie+","+ie+" 0 1,0 0,"+ie+"Z":"M0,"+ne+"A"+ne+","+ne+" 0 1,1 0,"+-ne+"A"+ne+","+ne+" 0 1,1 0,"+ne+"Z":ie?"M"+ne*Fe+","+ne*Ve+"A"+ne+","+ne+" 0 "+je+",1 "+ne*st+","+ne*br+"L"+ie*st+","+ie*br+"A"+ie+","+ie+" 0 "+je+",0 "+ie*Fe+","+ie*Ve+"Z":"M"+ne*Fe+","+ne*Ve+"A"+ne+","+ne+" 0 "+je+",1 "+ne*st+","+ne*br+"L0,0Z"},c.mergeAttrs=function(x,z){for(var O in z)x[O]="class"===O?x[O]?x[O]+" "+z[O]:z[O]:"style"===O?c.isObject(x[O])&&c.isObject(z[O])?c.mergeAttrs(x[O],z[O]):c.isObject(x[O])?c.mergeAttrs(x[O],c.styleToObject(z[O])):c.isObject(z[O])?c.mergeAttrs(c.styleToObject(x[O]),z[O]):c.mergeAttrs(c.styleToObject(x[O]),c.styleToObject(z[O])):z[O];return x},c.annotateString=function(x,z,O){z=z||[];for(var ie,ge,ke,U=(O=O||{}).offset||0,Q=[],ne=[],Ne=0;Ne<x.length;Ne++){ge=ne[Ne]=x[Ne];for(var je=0;je<z.length;je++){var Fe=z[je];Ne>=Fe.start+U&&Ne<Fe.end+U&&(c.isObject(ge)?ge.attrs=c.mergeAttrs(c.mergeAttrs({},ge.attrs),Fe.attrs):ge=ne[Ne]={t:x[Ne],attrs:Fe.attrs},O.includeAnnotationIndices&&(ge.annotations||(ge.annotations=[])).push(je))}(ke=ne[Ne-1])?c.isObject(ge)&&c.isObject(ke)?JSON.stringify(ge.attrs)===JSON.stringify(ke.attrs)?ie.t+=ge.t:(Q.push(ie),ie=ge):c.isObject(ge)||c.isObject(ke)?(Q.push(ie),ie=ge):ie=(ie||"")+ge:ie=ge}return ie&&Q.push(ie),Q},c.findAnnotationsAtIndex=function(x,z){var O=[];return x&&x.forEach(function(U){U.start<z&&z<=U.end&&O.push(U)}),O},c.findAnnotationsBetweenIndexes=function(x,z,O){var U=[];return x&&x.forEach(function(Q){(z>=Q.start&&z<Q.end||O>Q.start&&O<=Q.end||Q.start>=z&&Q.end<O)&&U.push(Q)}),U},c.shiftAnnotations=function(x,z,O){return x&&x.forEach(function(U){U.start<z&&U.end>=z?U.end+=O:U.start>=z&&(U.start+=O,U.end+=O)}),x},c.convertLineToPathData=function(x){return["M",(x=c(x)).attr("x1"),x.attr("y1"),"L",x.attr("x2"),x.attr("y2")].join(" ")},c.convertPolygonToPathData=function(x){var z=c.getPointsFromSvgNode(x);return 0===z.length?null:c.svgPointsToPath(z)+" Z"},c.convertPolylineToPathData=function(x){var z=c.getPointsFromSvgNode(x);return 0===z.length?null:c.svgPointsToPath(z)},c.svgPointsToPath=function(x){for(var z=0,O=x.length;z<O;z++)x[z]=x[z].x+" "+x[z].y;return"M "+x.join(" L")},c.getPointsFromSvgNode=function(x){var z=[],O=(x=c.toNode(x)).points;if(O)for(var U=0,Q=O.numberOfItems;U<Q;U++)z.push(O.getItem(U));return z},c.KAPPA=.551784,c.convertCircleToPathData=function(x){x=c(x);var z=parseFloat(x.attr("cx"))||0,O=parseFloat(x.attr("cy"))||0,U=parseFloat(x.attr("r")),Q=U*c.KAPPA;return["M",z,O-U,"C",z+Q,O-U,z+U,O-Q,z+U,O,"C",z+U,O+Q,z+Q,O+U,z,O+U,"C",z-Q,O+U,z-U,O+Q,z-U,O,"C",z-U,O-Q,z-Q,O-U,z,O-U,"Z"].join(" ")},c.convertEllipseToPathData=function(x){x=c(x);var z=parseFloat(x.attr("cx"))||0,O=parseFloat(x.attr("cy"))||0,U=parseFloat(x.attr("rx")),Q=parseFloat(x.attr("ry"))||U,ie=U*c.KAPPA,ne=Q*c.KAPPA;return["M",z,O-Q,"C",z+ie,O-Q,z+U,O-ne,z+U,O,"C",z+U,O+ne,z+ie,O+Q,z,O+Q,"C",z-ie,O+Q,z-U,O+ne,z-U,O,"C",z-U,O-ne,z-ie,O-Q,z,O-Q,"Z"].join(" ")},c.convertRectToPathData=function(x){return x=c(x),c.rectToPath({x:parseFloat(x.attr("x"))||0,y:parseFloat(x.attr("y"))||0,width:parseFloat(x.attr("width"))||0,height:parseFloat(x.attr("height"))||0,rx:parseFloat(x.attr("rx"))||0,ry:parseFloat(x.attr("ry"))||0})},c.rectToPath=function(x){var O=x.x,U=x.y,Q=x.width,ie=x.height,ne=p(x.rx||x["top-rx"]||0,Q/2),ge=p(x.rx||x["bottom-rx"]||0,Q/2),ke=p(x.ry||x["top-ry"]||0,ie/2),Ne=p(x.ry||x["bottom-ry"]||0,ie/2);return(ne||ge||ke||Ne?["M",O,U+ke,"v",ie-ke-Ne,"a",ge,Ne,0,0,0,ge,Ne,"h",Q-2*ge,"a",ge,Ne,0,0,0,ge,-Ne,"v",-(ie-Ne-ke),"a",ne,ke,0,0,0,-ne,-ke,"h",-(Q-2*ne),"a",ne,ke,0,0,0,-ne,ke,"Z"]:["M",O,U,"H",O+Q,"V",U+ie,"H",O,"V",U,"Z"]).join(" ")},c.normalizePathData=function(){var x="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",z=new RegExp("([a-z])["+x+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+x+"]*,?["+x+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+x+"]*,?["+x+"]*","ig"),U=Math,Q=U.PI,ie=U.sin,ne=U.cos,ge=U.tan,ke=U.asin,Ne=U.sqrt,je=U.abs;function Fe(Ct,Et,Nt,St,tr,Br){var Zr=.3333333333333333,Qt=2/3;return[Zr*Ct+Qt*Nt,Zr*Et+Qt*St,Zr*tr+Qt*Nt,Zr*Br+Qt*St,tr,Br]}function Ve(Ct,Et,Nt){return{x:Ct*ne(Nt)-Et*ie(Nt),y:Ct*ie(Nt)+Et*ne(Nt)}}function st(Ct,Et,Nt,St,tr,Br,Zr,Qt,Mn,gr){var nt,Rt=120*Q/180,nr=Q/180*(+tr||0),Mt=[];if(gr)_i=gr[0],ti=gr[1],$u=gr[2],ec=gr[3];else{Et=(nt=Ve(Ct,Et,-nr)).y;var Wi=((Ct=nt.x)-(Qt=(nt=Ve(Qt,Mn,-nr)).x))/2,na=(Et-(Mn=nt.y))/2,n0=Wi*Wi/(Nt*Nt)+na*na/(St*St);n0>1&&(Nt*=n0=Ne(n0),St*=n0);var Sg=Nt*Nt,Mg=St*St,kg=(Br==Zr?-1:1)*Ne(je((Sg*Mg-Sg*na*na-Mg*Wi*Wi)/(Sg*na*na+Mg*Wi*Wi))),$u=kg*Nt*na/St+(Ct+Qt)/2,ec=kg*-St*Wi/Nt+(Et+Mn)/2,_i=ke(((Et-ec)/St).toFixed(9)),ti=ke(((Mn-ec)/St).toFixed(9));(_i=Ct<$u?Q-_i:_i)<0&&(_i=2*Q+_i),(ti=Qt<$u?Q-ti:ti)<0&&(ti=2*Q+ti),Zr&&_i>ti&&(_i-=2*Q),!Zr&&ti>_i&&(ti-=2*Q)}var Ng=ti-_i;if(je(Ng)>Rt){var Rg=ti,Gg=Qt,jg=Mn;Mt=st(Qt=$u+Nt*ne(ti=_i+Rt*(Zr&&ti>_i?1:-1)),Mn=ec+St*ie(ti),Nt,St,tr,0,Zr,Gg,jg,[ti,Rg,$u,ec])}Ng=ti-_i;var Zg=ne(_i),Fg=ie(_i),Wg=ne(ti),_g=ie(ti),Dg=ge(Ng/4),zg=4/3*(Nt*Dg),Lg=4/3*(St*Dg),Eg=[Ct,Et],Kl=[Ct+zg*Fg,Et-Lg*Zg],Pg=[Qt+zg*_g,Mn-Lg*Wg],Bg=[Qt,Mn];if(Kl[0]=2*Eg[0]-Kl[0],Kl[1]=2*Eg[1]-Kl[1],gr)return[Kl,Pg,Bg].concat(Mt);for(var Og=[],Yg=(Mt=[Kl,Pg,Bg].concat(Mt).join().split(",")).length,O0=0;O0<Yg;O0++)Og[O0]=O0%2?Ve(Mt[O0-1],Mt[O0],nr).y:Ve(Mt[O0],Mt[O0+1],nr).x;return Og}function Xr(Ct){var Et=function yr(Ct){if((!Array.isArray(Ct)||!Array.isArray(Ct&&Ct[0]))&&(Ct=function br(Ct){if(!Ct)return null;var Et={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Nt=[];return String(Ct).replace(z,function(St,tr,Br){var Zr=[],Qt=tr.toLowerCase();for(Br.replace(O,function(Mn,gr){gr&&Zr.push(+gr)}),"m"===Qt&&Zr.length>2&&(Nt.push([tr].concat(Zr.splice(0,2))),Qt="l",tr="m"===tr?"l":"L");Zr.length>=Et[Qt]&&(Nt.push([tr].concat(Zr.splice(0,Et[Qt]))),Et[Qt]););}),Nt}(Ct)),!Ct||!Ct.length)return[["M",0,0]];for(var Qt,Et=[],Nt=0,St=0,tr=0,Br=0,Mn=Ct.length,gr=0;gr<Mn;gr++){var Rt=[];Et.push(Rt);var Mt,nt,nr=Ct[gr];if((Qt=nr[0])!=Qt.toUpperCase())switch(Rt[0]=Qt.toUpperCase(),Rt[0]){case"A":Rt[1]=nr[1],Rt[2]=nr[2],Rt[3]=nr[3],Rt[4]=nr[4],Rt[5]=nr[5],Rt[6]=+nr[6]+Nt,Rt[7]=+nr[7]+St;break;case"V":Rt[1]=+nr[1]+St;break;case"H":Rt[1]=+nr[1]+Nt;break;case"M":for(tr=+nr[1]+Nt,Br=+nr[2]+St,Mt=nr.length,nt=1;nt<Mt;nt++)Rt[nt]=+nr[nt]+(nt%2?Nt:St);break;default:for(Mt=nr.length,nt=1;nt<Mt;nt++)Rt[nt]=+nr[nt]+(nt%2?Nt:St)}else for(var Wi=nr.length,na=0;na<Wi;na++)Rt[na]=nr[na];switch(Rt[0]){case"Z":Nt=+tr,St=+Br;break;case"H":Nt=Rt[1];break;case"V":St=Rt[1];break;case"M":tr=Rt[Rt.length-2],Br=Rt[Rt.length-1],Nt=Rt[Rt.length-2],St=Rt[Rt.length-1];break;default:Nt=Rt[Rt.length-2],St=Rt[Rt.length-1]}}return Et}(Ct),Nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function St(Mt,nt,Wi){var na,n0;if(!Mt)return["C",nt.x,nt.y,nt.x,nt.y,nt.x,nt.y];switch(Mt[0]in{T:1,Q:1}||(nt.qx=null,nt.qy=null),Mt[0]){case"M":nt.X=Mt[1],nt.Y=Mt[2];break;case"A":Mt=0===parseFloat(Mt[1])||0===parseFloat(Mt[2])?["L",Mt[6],Mt[7]]:["C"].concat(st.apply(0,[nt.x,nt.y].concat(Mt.slice(1))));break;case"S":"C"===Wi||"S"===Wi?(na=2*nt.x-nt.bx,n0=2*nt.y-nt.by):(na=nt.x,n0=nt.y),Mt=["C",na,n0].concat(Mt.slice(1));break;case"T":"Q"===Wi||"T"===Wi?(nt.qx=2*nt.x-nt.qx,nt.qy=2*nt.y-nt.qy):(nt.qx=nt.x,nt.qy=nt.y),Mt=["C"].concat(Fe(nt.x,nt.y,nt.qx,nt.qy,Mt[1],Mt[2]));break;case"Q":nt.qx=Mt[1],nt.qy=Mt[2],Mt=["C"].concat(Fe(nt.x,nt.y,Mt[1],Mt[2],Mt[3],Mt[4]));break;case"H":Mt=["L"].concat(Mt[1],nt.y);break;case"V":Mt=["L"].concat(nt.x,Mt[1])}return Mt}function tr(Mt,nt){if(Mt[nt].length>7){Mt[nt].shift();for(var Wi=Mt[nt];Wi.length;)Br[nt]="A",Mt.splice(nt++,0,["C"].concat(Wi.splice(0,6)));Mt.splice(nt,1),Mn=Et.length}}for(var Br=[],Zr="",Qt="",Mn=Et.length,gr=0;gr<Mn;gr++){Et[gr]&&(Zr=Et[gr][0]),"C"!==Zr&&(Br[gr]=Zr,gr>0&&(Qt=Br[gr-1])),Et[gr]=St(Et[gr],Nt,Qt),"A"!==Br[gr]&&"C"===Zr&&(Br[gr]="C"),tr(Et,gr);var Rt=Et[gr],nr=Rt.length;Nt.x=Rt[nr-2],Nt.y=Rt[nr-1],Nt.bx=parseFloat(Rt[nr-4])||Nt.x,Nt.by=parseFloat(Rt[nr-3])||Nt.y}return(!Et[0][0]||"M"!==Et[0][0])&&Et.unshift(["M",0,0]),Et}return function(Ct){return Xr(Ct).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=nn,c}(),Vr={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Kn=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Vr.classNamePrefix.length)!==Vr.classNamePrefix&&(t=Vr.classNamePrefix+t),t}).join(" ")},w0=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Vr.classNamePrefix.length)===Vr.classNamePrefix&&(t=t.substr(Vr.classNamePrefix.length)),t}).join(" ")},Ja=function(e,t){for(var r={},i={},s=be.namespace.svg,l=t||s,f=document.createDocumentFragment(),p=[e,f,l];p.length>0;){l=p.pop();for(var n=p.pop(),a=p.pop(),o=0,c=a.length;o<c;o++){var y=a[o];if(!y.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var w=y.tagName;y.hasOwnProperty("namespaceURI")&&(l=y.namespaceURI);var T=document.createElementNS(l,w),E=l===s,j=E?be:Se,J=y.attributes;J&&j(T).attr(J);var K=y.style;if(K&&Se(T).css(K),y.hasOwnProperty("className")){var x=y.className;E?T.className.baseVal=x:T.className=x}if(y.hasOwnProperty("textContent")&&(T.textContent=y.textContent),y.hasOwnProperty("selector")){var z=y.selector;if(r[z])throw new Error("json-dom-parser: selector must be unique");r[z]=T,j(T).attr("joint-selector",z)}if(y.hasOwnProperty("groupSelector")){var O=y.groupSelector;Array.isArray(O)||(O=[O]);for(var U=0,Q=O.length;U<Q;U++){var ie=O[U],ne=i[ie];ne||(ne=i[ie]=[]),ne.push(T)}}n.appendChild(T);var ge=y.children;Array.isArray(ge)&&p.push(ge,T,l)}}return{fragment:f,selectors:r,groupSelectors:i}},Uo=function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t},Ki=function(e,t,r){for(var s,i=Array.isArray(t)?t:t.split(r||"/"),l=0,f=i.length;l<f;){if(s=i[l++],Object(e)!==e||!(s in e))return;e=e[s]}return e},ys=function(e,t){return"string"!=typeof t&&"number"!=typeof t&&(t=String(t)),!("constructor"===t&&"function"==typeof e[t]||"__proto__"===t)},Qi=function(e,t,r,i){for(var s=Array.isArray(t)?t:t.split(i||"/"),l=s.length-1,f=e,p=0;p<l;p++){var n=s[p];if(!ys(f,n))return e;f=f[n]||(f[n]={})}return f[s[l]]=r,e},C0=function(e,t,r){for(var i=Array.isArray(t)?t:t.split(r||"/"),s=i.length-1,l=e,f=0;f<s;f++){var p=i[f];if(!ys(l,p))return e;var n=l[p];if(!n)return e;l=n}return delete l[i[s]],e},Co=function(e,t,r){t=t||"/";var i={};for(var s in e)if(e.hasOwnProperty(s)){var l="object"==typeof e[s];if(l&&r&&r(e[s])&&(l=!1),l){var f=Co(e[s],t,r);for(var p in f)!f.hasOwnProperty(p)||(i[s+t+p]=f[p])}else i[s]=e[s]}return i},Ws=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},_s=function(e){return _s.id=_s.id||1,e.id=void 0===e.id?"j_"+_s.id++:e.id,e.id},Ka=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},cr=function(e){var t=e,r=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];if(r){for(var i in e)void 0===r[i]&&(r[i]=e[i]);t=r}var s=t.target;if(s){var l=s.correspondingUseElement;l&&(t.target=l)}return t},Ys=function(){var e;if("undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var i=(new Date).getTime(),s=Math.max(0,16-(i-t)),l=setTimeout(function(){r(i+s)},s);return t=i+s,l}}return function(r,i){for(var s=[],l=arguments.length-2;l-- >0;)s[l]=arguments[l+2];return e(void 0!==i?r.bind.apply(r,[i].concat(s)):r)}}(),Us=function(){var e,t="undefined"!=typeof window;return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),Qn=function(e){return $n(e)&&"%"===e.slice(-1)},x0=function(e,t){var i=parseFloat(e);if(Number.isNaN(i))return null;var l,s={};if(s.value=i,null==t)l="[A-Za-z]*";else if(Array.isArray(t)){if(0===t.length)return null;l=t.join("|")}else $n(t)&&(l=t);var f=function r(p){var n=new RegExp("(?:\\d+(?:\\.\\d+)*)("+p+")$").exec(e);return n?n[1]:null}(l);return null===f?null:(s.unit=f,s)},Vo=function(e,t,r,i){void 0===r&&(r={}),void 0===i&&(i={});var s=t.width,l=t.height,f=i.svgDocument||be("svg").node,p=be("tspan").node,n=be("text").attr(r).append(p).node,a=document.createTextNode("");n.style.opacity=0,n.style.display="block",p.style.display="block",p.appendChild(a),f.appendChild(n),i.svgDocument||document.body.appendChild(f);var o=i.separator||" ",c=i.eol||"\n",y=i.hyphen?new RegExp(i.hyphen):/[^\w\d]/,w=i.maxLineCount;zi(w)||(w=1/0);for(var J,K,x,T=e.split(o),E=[],j=[],z=0,O=0,U=T.length;z<U;z++){var Q=T[z];if(Q){var ie=!1;if(c&&Q.indexOf(c)>=0){if(Q.length>1){for(var ne=Q.split(c),ge=0,ke=ne.length-1;ge<ke;ge++)ne.splice(2*ge+1,0,c);T.splice.apply(T,[z,1].concat(ne.filter(function(Nt){return""!==Nt}))),z--,U=T.length;continue}j[++O]="",ie=!0}if(!ie)if(a.data=j[O]?j[O]+" "+Q:Q,p.getComputedTextLength()<=s)j[O]=a.data,(J||K)&&(E[O++]=!0,J=0,K=0);else{if(!j[O]||J){var Ne=!!J;if(J=Q.length-1,Ne||!J){if(!J){if(!j[O]){j=[];break}T.splice(z,2,Q+T[z+1]),U--,E[O++]=!0,z--;continue}T[z]=Q.substring(0,J),T[z+1]=Q.substring(J)+(void 0===T[z+1]?"":T[z+1])}else{if(K)T.splice(z,2,T[z]+T[z+1]),K=0;else{var je=Q.search(y);je>-1&&je!==Q.length-1&&0!==je&&(K=je+1,J=0),T.splice(z,1,Q.substring(0,K||J),Q.substring(K||J)),U++}O&&!E[O-1]&&O--}z--;continue}O++,z--}var Fe=null;if(j.length>w)Fe=w-1;else if(void 0!==l){var Ve;void 0===x&&(x=(Ve="auto"===r.lineHeight?{value:1.5,unit:"em"}:x0(r.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===Ve.unit&&(x*=n.getBBox().height)),x*j.length>l&&(Fe=Math.floor(l/x)-1)}if(null!==Fe){j.splice(Fe+1);var st=i.ellipsis;if(!st||Fe<0)break;"string"!=typeof st&&(st="\u2026");var br=j[Fe];if(!br&&!ie)break;var Xr,Ct,yr=br.length;do{if(Ct=br[yr],Xr=br.substring(0,yr),Ct?Ct.match(o)&&(Xr+=Ct):Xr+="string"==typeof o?o:" ",a.data=Xr+=st,p.getComputedTextLength()<=s){j[Fe]=Xr;break}yr--}while(yr>=0);break}}}return i.svgDocument?f.removeChild(n):document.body.removeChild(f),j.join(c)},Ho=function(e){var t=Se(Se.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var r=this;Se.each(r.attributes,function(){var s=this.name,l=this.value;(s.startsWith("on")||l.startsWith("javascript:")||l.startsWith("data:")||l.startsWith("vbscript:"))&&Se(r).removeAttr(s)})}),t.html()},S0=function(e,t){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,t);else{var r=window.URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}},xo=function(e){e=e.replace(/\s/g,"");var l,t=(e=decodeURIComponent(e)).indexOf(","),r=e.slice(0,t),i=r.split(":")[1].split(";")[0],s=e.slice(t+1);l=r.indexOf("base64")>=0?atob(s):unescape(encodeURIComponent(s));for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return new Blob([f],{type:i})},tu=function(e,t){var r=Se(e),i=r.map(function(){var l=this.parentNode,f=l.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(l===this)throw new Error("You can't sort elements if any one is a descendant of another.");l.insertBefore(this,f),l.removeChild(f)}});return Array.prototype.sort.call(r,t).each(function(s){i[s].call(this)})},So=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,i,s,l;return r=i=s=l=0,isFinite(e.vertical)&&(r=s=+e.vertical),isFinite(e.horizontal)&&(i=l=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(i=+e.right),isFinite(e.bottom)&&(s=+e.bottom),isFinite(e.left)&&(l=+e.left),{top:r,right:i,bottom:s,left:l}},ru={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,r=1;;t+=r,r/=2)if(e>=(7-4*t)/11){var i=(11-6*t-11*e)/4;return-i*i+r*r}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,r){return t=t||0,r=r||1,function(i){var s=e(i);return s<t?t:s>r?r:s}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},nu={number:function(e,t){var r=t-e;return function(i){return e+r*i}},object:function(e,t){var r=Object.keys(e);return function(i){var s,l,f={};for(s=r.length-1;-1!=s;s--)f[l=r[s]]=e[l]+(t[l]-e[l])*i;return f}},hexColor:function(e,t){var r=parseInt(e.slice(1),16),i=parseInt(t.slice(1),16),s=255&r,l=(255&i)-s,f=65280&r,p=(65280&i)-f,n=16711680&r,a=(16711680&i)-n;return function(o){return"#"+(1<<24|s+l*o&255|f+p*o&65280|n+a*o&16711680).toString(16).slice(1)}},unit:function(e,t){var r=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=r.exec(e),s=r.exec(t),l=s[1].indexOf("."),f=l>0?s[1].length-l-1:0,p=+s[1]-(e=+i[1]),n=i[2];return function(a){return(e+p*a).toFixed(f)+n}}},wl={outline:function(e){var r=Number.isFinite(e.margin)?e.margin:2,i=Number.isFinite(e.width)?e.width:1;return li('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+i,innerRadius:r})},highlight:function(e){return li('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return li('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return li(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return li('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return li('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return li('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return li('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return li('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return li('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return li('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},rc={number:function(e,t,r){r=r||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var s=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i.exec(e),l=s[1]||" ",f=s[2]||">",p=s[3]||"",n=s[4]||"",a=s[5],o=+s[6],c=s[7],y=s[8],w=s[9],T=1,E="",j="",J=!1;switch(y&&(y=+y.substring(1)),(a||"0"===l&&"="===f)&&(a=l="0",f="=",c&&(o-=Math.floor((o-1)/4))),w){case"n":c=!0,w="g";break;case"%":T=100,j="%",w="f";break;case"p":T=100,j="%",w="r";break;case"b":case"o":case"x":case"X":"#"===n&&(E="0"+w.toLowerCase());break;case"c":case"d":J=!0,y=0;break;case"s":T=-1,w="r"}"$"===n&&(E=r.currency[0],j=r.currency[1]),"r"==w&&!y&&(w="g"),null!=y&&("g"==w?y=Math.max(1,Math.min(21,y)):("e"==w||"f"==w)&&(y=Math.max(0,Math.min(20,y))));var K=a&&c;if(J&&t%1)return"";var x=t<0||0===t&&1/t<0?(t=-t,"-"):p,z=j;if(T<0){var O=this.prefix(t,y);t=O.scale(t),z=O.symbol+j}else t*=T;var U=(t=this.convert(w,t,y)).lastIndexOf("."),Q=U<0?t:t.substring(0,U),ie=U<0?"":r.decimal+t.substring(U+1);function ne(Ne){for(var je=Ne.length,Fe=[],Ve=0,st=r.grouping[0];je>0&&st>0;)Fe.push(Ne.substring(je-=st,je+st)),st=r.grouping[Ve=(Ve+1)%r.grouping.length];return Fe.reverse().join(r.thousands)}!a&&c&&r.grouping&&(Q=ne(Q));var ge=E.length+Q.length+ie.length+(K?0:x.length),ke=ge<o?new Array(ge=o-ge+1).join(l):"";return K&&(Q=ne(ke+Q)),x+=E,t=Q+ie,("<"===f?x+t+ke:">"===f?ke+x+t:"^"===f?ke.substring(0,ge>>=1)+x+t+ke.substring(ge):x+(K?t:ke+t))+z},string:function(e,t){for(var r,i="{",s=!1,l=[];-1!==(r=e.indexOf(i));){var f,p,n;if(f=e.slice(0,r),s){n=(p=f.split(":")).shift().split("."),f=t;for(var a=0;a<n.length;a++)f=f[n[a]];p.length&&(f=this.number(p,f))}l.push(f),e=e.slice(r+1),i=(s=!s)?"}":"{"}return l.push(e),l.join("")},convert:function(e,t,r){switch(e){case"b":return t.toString(2);case"c":return String.fromCharCode(t);case"o":return t.toString(8);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"g":return t.toPrecision(r);case"e":return t.toExponential(r);case"f":return t.toFixed(r);case"r":return(t=this.round(t,this.precision(t,r))).toFixed(Math.max(0,Math.min(20,this.precision(t*(1+1e-15),r))));default:return t+""}},round:function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},precision:function(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)},prefix:function(e,t){var r=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function(s,l){var f=Math.pow(10,3*Math.abs(8-l));return{scale:l>8?function(p){return p/f}:function(p){return p*f},symbol:s}}),i=0;return e&&(e<0&&(e*=-1),t&&(e=this.round(e,this.precision(e,t))),i=1+Math.floor(1e-12+Math.log(e)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i<=0?i+1:i-1)/3)))),r[8+i/3]}},li=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(i){for(var s=Array.from(arguments),l=s.slice(1,4).find(function(n){return!!n}),f=l.split("."),p=r[f.shift()];void 0!==p&&f.length;)p=p[f.shift()];return void 0!==p?p:""})}},Cl=Ae.assign,qt=Ae.defaults,kh=Cl,Dh=Ae.defaultsDeep,gt=Ae.assign,$i=Ae.defaults,xl=Ae.defaultsDeep,ga=Ae.invokeMap||Ae.invoke,ea=Ae.sortedIndexBy||Ae.sortedIndex,Xo=Ae.uniqBy||Ae.uniq,Di=Ae.clone,Ii=Ae.cloneDeep,As=Ae.isEmpty,qo=Ae.isEqual,Bt=Ae.isFunction,en=Ae.isPlainObject,Zt=Ae.toArray,nc=Ae.debounce,q0=Ae.groupBy,ic=Ae.sortBy,Sl=Ae.flattenDeep,J0=Ae.without,K0=Ae.difference,iu=Ae.intersection,Qa=Ae.union,$a=Ae.has,Hr=Ae.result,Is=Ae.omit,Ml=Ae.pick,au=Ae.bindAll,va=Ae.forIn,ac=Ae.camelCase,sc=Ae.uniqueId,Yn=function(){if(Ae.mergeWith){var e=Array.from(arguments),t=e[e.length-1],r=Bt(t)?t:Pn;return e.push(function(i,s){var l=r(i,s);return void 0!==l?l:Array.isArray(i)&&!Array.isArray(s)?s:void 0}),Ae.mergeWith.apply(this,e)}return Ae.merge.apply(this,arguments)},su=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"===Object.prototype.toString.call(e)},an=function(e){return!!e&&("object"==typeof e||"function"==typeof e)},zi=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"===Object.prototype.toString.call(e)},$n=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&"[object String]"===Object.prototype.toString.call(e)},Pn=function(){};function ka(e){e=Xo(e);var t=Zt(e).reduce(function(r,i){return r[i.id]=i.clone(),r},{});return Zt(e).forEach(function(r){var i=t[r.id];if(i.isLink()){var s=i.source(),l=i.target();s.id&&t[s.id]&&i.prop("source/id",t[s.id].id),l.id&&t[l.id]&&i.prop("target/id",t[l.id].id)}var f=r.get("parent");f&&t[f]&&i.set("parent",t[f].id);var p=Zt(r.get("embeds")).reduce(function(n,a){return t[a]&&n.push(t[a].id),n},[]);As(p)||i.set("embeds",p)}),t}var Hs={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},zh=Object.keys(Hs).map(function(e){return Hs[e]}).join(""),Q0="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",N0=/\s/g,ou=new RegExp("^("+Q0+"\\*)?(["+zh+"])([-+]{1,2}"+Q0+")?$","g");function lu(e){throw new Error("Invalid calc() expression: "+e)}function Lh(e,t){var r=ou.exec(e.replace(N0,""));r||lu(e),ou.lastIndex=0;var i=r[1];void 0===i&&(i=1);var l=r[3];void 0===l&&(l=0);var f=t.x,p=t.y,n=t.width,a=t.height,o=0;switch(r[2]){case Hs.width:o=n;break;case Hs.height:o=a;break;case Hs.x:o=f;break;case Hs.y:o=p;break;case Hs.minimum:o=Math.min(a,n);break;case Hs.maximum:o=Math.max(a,n);break;case Hs.diagonal:o=Math.sqrt(a*a+n*n)}return parseFloat(i)*o+function oc(e){if(!e)return 0;switch(e[0]){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}(l)}function Mo(e){return"string"==typeof e&&e.includes("calc")}var lc="calc(".length;function Nl(e,t){for(var r=e,i=0;;){var s=r.indexOf("calc(",i);if(-1===s)return r;var l=s+lc,f=1;e:for(;;){switch(r[l]){case"(":f++;break;case")":if(0==--f)break e;break;case void 0:lu(r)}l++}var p=r.slice(s+lc,l);Mo(p)&&(p=Nl(p,t));var n=String(Lh(p,t));r=r.slice(0,s)+n+r.slice(l+1),i=s+n.length}}function Xs(e,t){return function(r,i){var s=Qn(r);r=parseFloat(r),s&&(r/=100);var l={};if(isFinite(r)){var f=s||r>=0&&r<=1?r*i[t]:Math.max(r+i[t],0);l[e]=f}return l}}function Jo(e,t,r){return function(i,s){var f,l=Qn(i);if(i=parseFloat(i),l&&(i/=100),isFinite(i)){var p=s[r]();f=l||i>0&&i<1?p[e]+s[t]*i:p[e]+i}var n=oe();return n[e]=f||0,n}}function uu(e,t,r){return function(i,s){var l;l="middle"===i?s[t]/2:i===r?s[t]:isFinite(i)?i>-1&&i<1?-s[t]*i:-i:Qn(i)?s[t]*parseFloat(i)/100:0;var f=oe();return f[e]=-(s[e]+l),f}}function $0(e,t){var r="joint-shape",i=t&&t.resetOffset;return function(s,l,f){var p=Se(f),n=p.data(r);if(!n||n.value!==s){var a=e(s);n={value:s,shape:a,shapeBBox:a.bbox()},p.data(r,n)}var o=n.shape.clone(),c=n.shapeBBox.clone(),y=c.origin(),w=l.origin();c.x=w.x,c.y=w.y;var T=l.maxRectScaleToFit(c,w);return o.scale(0===c.width||0===l.width?1:T.sx,0===c.height||0===l.height?1:T.sy,y),i&&o.translate(-y.x,-y.y),o}}function Tl(e){var r=$0(function t(i){return new it(be.normalizePathData(i))},e);return function(i,s,l){return{d:r(i,s,l).serialize()}}}function el(e){var t=$0(Pr,e);return function(r,i,s){return{points:t(r,i,s).serialize()}}}function kl(e,t){var r=new oe(1,0);return function(i){var s,l,f=this[e](i);return f?(l=t.rotate?f.vector().vectorAngle(r):0,s=f.start):(s=this.path.start,l=0),0===l?{transform:"translate("+s.x+","+s.y+")"}:{transform:"translate("+s.x+","+s.y+") rotate("+l+")"}}}function cu(e){return function(r,i,s){var l=be(s);l.attr(e)!==r&&l.attr(e,r)}}function qs(e,t,r){return void 0!==r.text}function k0(){return this.model.isLink()}function tl(e){var t={},r=e.stroke;"string"==typeof r&&(t.stroke=r,t.fill=r);var i=e.strokeOpacity;return void 0===i&&(i=e["stroke-opacity"]),void 0===i&&(i=e.opacity),void 0!==i&&(t["stroke-opacity"]=i,t["fill-opacity"]=i),t}function uc(e){var r=this.paper;return"url(#"+("pattern"===e.type?r.definePattern(e):r.defineGradient(e))+")"}var t,r,Ut={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:cu("href")},xlinkHref:{set:cu("xlink:href")},filter:{qualify:en,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:en,set:uc},stroke:{qualify:en,set:uc},sourceMarker:{qualify:en,set:function(e,t,r,i){return e=gt(tl(i),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:en,set:function(e,t,r,i){return e=gt(tl(i),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:en,set:function(e,t,r,i){return e=gt(tl(i),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!en(r.textWrap)},set:function(e,t,r,i){var s=Se(r),l="joint-text",f=s.data(l),p=Ml(i,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty"),n=p.x;Mo(n)&&(p.x=Nl(n,t));var a=p.fontSize=i["font-size"]||i.fontSize,o=JSON.stringify([e,p]);if(void 0===f||f!==o){a&&r.setAttribute("font-size",a);var c=p.textPath;if(an(c)){var y=c.selector;if("string"==typeof y){var w=this.findBySelector(y)[0];w instanceof SVGPathElement&&(p.textPath=gt({"xlink:href":"#"+w.id},c))}}be(r).text(""+e,p),s.data(l,o)}}},textWrap:{qualify:en,set:function(e,t,r,i){var s=e.width||0,l={};l.width=Qn(s)?t.width*parseFloat(s)/100:s<=0?t.width+s:s;var f=e.height||0;l.height=Qn(f)?t.height*parseFloat(f)/100:f<=0?t.height+f:f;var p,n=e.text;void 0===n&&(n=i.text),p=void 0!==n?Vo(""+n,l,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":i["font-size"]||i.fontSize,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight,"letter-spacing":"letter-spacing"in i?i["letter-spacing"]:i.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,maxLineCount:e.maxLineCount}):"",Ut.text.set.call(this,p,t,r,i)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var i=Se(r),s="joint-title",l=i.data(s);if(void 0===l||l!==e){i.data(s,e);var f=r.firstChild;if(f&&"TITLE"===f.tagName.toUpperCase())f.textContent=e;else{var p=document.createElementNS(r.namespaceURI,"title");p.textContent=e,r.insertBefore(p,f)}}}},lineHeight:{qualify:qs},textVerticalAnchor:{qualify:qs},textPath:{qualify:qs},annotations:{qualify:qs},eol:{qualify:qs},displayEmpty:{qualify:qs},port:{set:function(e){return null===e||void 0===e.id?e:e.id}},style:{qualify:en,set:function(e,t,r){Se(r).css(e)}},html:{set:function(e,t,r){Se(r).html(e+"")}},ref:{},refX:{position:Jo("x","width","origin")},refY:{position:Jo("y","height","origin")},refDx:{position:Jo("x","width","corner")},refDy:{position:Jo("y","height","corner")},refWidth:{set:Xs("width","width")},refHeight:{set:Xs("height","height")},refRx:{set:Xs("rx","width")},refRy:{set:Xs("ry","height")},refRInscribed:{set:(t=Xs("r","width"),r=Xs("r","height"),function(i,s){return(s.height>s.width?t:r)(i,s)})},refRCircumscribed:{set:function(e,t){var r=Qn(e);e=parseFloat(e),r&&(e/=100);var s,i=Math.sqrt(t.height*t.height+t.width*t.width);return isFinite(e)&&(s=r||e>=0&&e<=1?e*i:Math.max(e+i,0)),{r:s}}},refCx:{set:Xs("cx","width")},refCy:{set:Xs("cy","height")},xAlignment:{offset:uu("x","width","right")},yAlignment:{offset:uu("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:Tl({resetOffset:!0})},refDKeepOffset:{set:Tl({resetOffset:!1})},refPointsResetOffset:{set:el({resetOffset:!0})},refPointsKeepOffset:{set:el({resetOffset:!1})},connection:{qualify:k0,set:function(e){var r,t=e.stubs;if(void 0===t&&(t=0),isFinite(t)&&0!==t){var i;i=t<0?(this.getConnectionLength()+t)/2:t;var s=this.getConnection(),l=s.divideAtLength(i),f=s.divideAtLength(-i);l&&f&&(r=l[0].serialize()+" "+f[1].serialize())}return{d:r||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:k0,set:kl("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:k0,set:kl("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:k0,set:kl("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:k0,set:kl("getTangentAtRatio",{rotate:!1})}};Ut["xlink:href"]=Ut.xlinkHref,["transform","d","points","width","height","cx","cy","r","rx","ry","x1","x2","y1","y2","x","y","dx","dy"].forEach(function(e){Ut[e]={qualify:Mo,set:function(r,i){var s;return(s={})[e]=Nl(r,i),s}}}),Ut.refR=Ut.refRInscribed,Ut.refD=Ut.refDResetOffset,Ut.refPoints=Ut.refPointsResetOffset,Ut.atConnectionLength=Ut.atConnectionLengthKeepGradient,Ut.atConnectionRatio=Ut.atConnectionRatioKeepGradient,Ut.refX2=Ut.refX,Ut.refY2=Ut.refY,Ut.refWidth2=Ut.refWidth,Ut.refHeight2=Ut.refHeight,Ut["ref-x"]=Ut.refX,Ut["ref-y"]=Ut.refY,Ut["ref-dy"]=Ut.refDy,Ut["ref-dx"]=Ut.refDx,Ut["ref-width"]=Ut.refWidth,Ut["ref-height"]=Ut.refHeight,Ut["x-alignment"]=Ut.xAlignment,Ut["y-alignment"]=Ut.yAlignment;var es=Ut,Da=Je.Model.extend({constructor:function(e,t){var r,i=e||{};"function"==typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=sc("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(i=this.parse(i,t)||{}),(r=Hr(this,"defaults"))&&(i=Yn({},r,i)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){var t=Hr(this.constructor.prototype,"defaults").attrs||{},i={};va(this.attributes.attrs,function(l,f){var p=t[f];va(l,function(n,a){an(n)&&!Array.isArray(n)?va(n,function(o,c){(!p||!p[a]||!qo(p[a][c],o))&&(i[f]=i[f]||{},(i[f][a]||(i[f][a]={}))[c]=o)}):(!p||!qo(p[a],n))&&(i[f]=i[f]||{},i[f][a]=n)})});var s=Ii(Is(this.attributes,"attrs"));return s.attrs=i,s},initialize:function(e){var t=this.getIdAttribute();(!e||!(t in e))&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return Ws()},processPorts:function(){var e=this.ports,t={};va(this.get("attrs"),function(l,f){l&&l.port&&(void 0!==l.port.id?t[l.port.id]=l.port:t[l.port]={id:l.port})});var r={};va(e,function(l,f){t[f]||(r[f]=!0)}),this.graph&&!As(r)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(l){r[l.get("target").port]&&l.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(l){r[l.get("source").port]&&l.remove()})),this.ports=t},remove:function(e){void 0===e&&(e={});var r=this.graph,i=this.collection;if(!r)return i&&i.remove(this,e),this;r.startBatch("remove");var s=this.getParentCell();s&&s.unembed(this,e);for(var l=this.getEmbeddedCells(),f=0,p=l.length;f<p;f++){var n=l[f];n&&n.remove(e)}return this.trigger("remove",this,r.attributes.cells,e),r.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=e||{};var i,r=t.maxZIndex();e.deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst})).unshift(this):i=[this],r=r-i.length+1;var s=t.get("cells"),l=s.indexOf(this)!==s.length-i.length;l||(l=i.some(function(f,p){return f.get("z")!==r+p})),l&&(this.startBatch("to-front"),r+=i.length,i.forEach(function(f,p){f.set("z",r+p,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=e||{};var i,r=t.minZIndex();e.deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst})).unshift(this):i=[this];var l=0!==t.get("cells").indexOf(this);l||(l=i.some(function(f,p){return f.get("z")!==r+p})),l&&(this.startBatch("to-back"),r-=i.length,i.forEach(function(f,p){f.set("z",r+p,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return void 0===e?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){var r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){var r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){var t=this;return(Array.isArray(e)?e:[e]).every(function(i){return t!==i&&!t.isEmbeddedIn(i)})},_embedCells:function(e,t){var r=this,i="embed";this.startBatch(i);var s=gt([],this.get("embeds"));e.forEach(function(l){s[l.isLink()?"unshift":"push"](l.id),l.parent(r.id,t)}),this.set("embeds",Xo(s),t),this.stopBatch(i)},_unembedCells:function(e,t){var r="unembed";this.startBatch(r),e.forEach(function(i){return i.unset("parent",t)}),this.set("embeds",J0.apply(void 0,[this.get("embeds")].concat(e.map(function(i){return i.id}))),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},this.graph){var t;if(e.deep)if(e.breadthFirst){t=[];for(var r=this.getEmbeddedCells();r.length>0;){var i=r.shift();t.push(i),r.push.apply(r,i.getEmbeddedCells())}}else(t=this.getEmbeddedCells()).forEach(function(s){t.push.apply(t,s.getEmbeddedCells(e))});else t=Zt(this.get("embeds")).map(this.graph.getCell,this.graph);return t}return[]},isEmbeddedIn:function(e,t){var r=$n(e)?e:e.id,i=this.parent();if(t=$i({deep:!0},t),this.graph&&t.deep){for(;i;){if(i===r)return!0;i=this.graph.getCell(i).parent()}return!1}return i===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if((e=e||{}).deep)return Zt(ka([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Je.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var i="/",s=$n(e);if(s||Array.isArray(e)){if(arguments.length>1){var l,f;s?f=(l=e).split("/"):(l=e.join(i),f=e.slice());var p=f[0],n=f.length;if((r=r||{}).propertyPath=l,r.propertyValue=t,r.propertyPathArray=f,1===n)return this.set(p,t,r);for(var a={},o=a,c=p,y=1;y<n;y++){var w=f[y],T=Number.isFinite(s?Number(w):w);o=o[c]=T?[]:{},c=w}a=Qi(a,f,t,"/");var E=Yn({},this.attributes);r.rewrite&&C0(E,l,"/");var j=Yn(E,a);return this.set(p,j[p],r)}return Ki(this.attributes,e,i)}return this.set(Yn({},this.attributes,e),t)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),i=r[0];if("attrs"===i&&(t.dirty=!0),1===r.length)return this.unset(e,t);var s=r.slice(1),l=Ii(this.get(i));return C0(l,s,"/"),this.set(i,l,t)},attr:function(e,t,r){var i=Array.from(arguments);return 0===i.length?this.get("attrs"):(i[0]=Array.isArray(e)?["attrs"].concat(e):$n(e)?"attrs/"+e:{attrs:e},this.prop.apply(this,i))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,i){var s=this;i=i||"/",r=gt({duration:100,delay:10,timingFunction:ru.linear,valueFunction:nu.number},r);var p,c,f=0,n=function(w){var T,E,j;(E=(w-=f=f||w)/r.duration)<1?this._transitionIds[e]=T=Ys(n):(E=1,delete this._transitionIds[e]),j=p(r.timingFunction(E)),r.transitionId=T,this.prop(e,j,r),T||this.trigger("transition:end",this,e)}.bind(this),o=this._scheduledTransitionIds;return c=setTimeout(function(w){o[e]&&(o[e]=J0(o[e],c),0===o[e].length&&delete o[e]),s.stopPendingTransitions(e,i),p=r.valueFunction(Ki(s.attributes,e,i),t),s._transitionIds[e]=Ys(w),s.trigger("transition:start",s,e)},r.delay,n),o[e]||(o[e]=[]),o[e].push(c),c},getTransitions:function(){return Qa(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t){void 0===t&&(t="/");var i=this._scheduledTransitionIds;void 0===i&&(i={});var s=Object.keys(i);if(e){var l=e.split(t);s=s.filter(function(f){return qo(l,f.split(t).slice(0,l.length))})}return s.forEach(function(f){i[f].forEach(function(n){return clearTimeout(n)}),delete i[f]}),this},stopPendingTransitions:function(t,r){var i=this;void 0===r&&(r="/");var l=this._transitionIds;void 0===l&&(l={});var f=Object.keys(l);if(t){var p=t.split(r);f=f.filter(function(n){return qo(p,n.split(r).slice(0,p.length))})}f.forEach(function(n){Us(l[n]),delete l[n],i.trigger("transition:end",i,n)})},stopTransitions:function(e,t){return void 0===t&&(t="/"),this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,gt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,gt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new oe(0,0)},getPointFromConnectedLink:function(){return new oe},getBBox:function(){return new $e(0,0,0,0)},getPointRotatedAroundCenter:function(t,r,i){var s=new oe(r,i);return t&&s.rotate(this.getBBox().center(),t),s},getAbsolutePointFromRelative:function(t,r){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,r))},getRelativePointFromAbsolute:function(t,r){return this.getPointRotatedAroundCenter(this.angle(),t,r).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes;return t&&t[e]||es[e]},define:function(e,t,r,i){r=gt({defaults:xl({type:e},t,this.prototype.defaults)},r);var s=this.extend(r,i);return"undefined"!=typeof joint&&$a(joint,"shapes")&&Qi(joint.shapes,e,s,"."),s}}),hu=function(e,t,r){if($n(r)){if(!Dl[r])throw new Error('Unknown wrapper: "'+r+'"');r=Dl[r]}if(!Bt(r))throw new Error("Wrapper must be a function.");Zt(t).forEach(function(i){e[i]=r(e[i])})},Dl={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,i=r>0&&t[0]||[],s=r>1&&t[r-1]||{};return Array.isArray(i)||(s instanceof Da?i=t:i instanceof Da&&(t.length>1&&t.pop(),i=t)),s instanceof Da&&(s={}),e.call(this,i,s)}}},cc={wrapWith:hu,wrappers:Dl,addClassNamePrefix:Kn,removeClassNamePrefix:w0,parseDOMJSON:Ja,hashCode:Uo,getByPath:Ki,setByPath:Qi,unsetByPath:C0,flattenObject:Co,uuid:Ws,guid:_s,toKebabCase:Ka,normalizeEvent:cr,nextFrame:Ys,cancelFrame:Us,shapePerimeterConnectionPoint:function(e,t,r,i){var s,l;if(!r){var f=t.$(".scalable")[0],p=t.$(".rotatable")[0];f&&f.firstChild?r=f.firstChild:p&&p.firstChild&&(r=p.firstChild)}return r?(l=be(r).findIntersection(i,e.paper.cells))||(s=be(r).getBBox({target:e.paper.cells})):l=(s=t.model.getBBox()).intersectionWithLineFromCenterToPoint(i),l||s.center()},isPercentage:Qn,parseCssNumeric:x0,breakText:Vo,sanitizeHTML:Ho,downloadBlob:S0,downloadDataUri:function(e,t){var r=xo(e);S0(r,t)},dataUriToBlob:xo,imageToDataUri:function(e,t){if(!e||"data:"===e.substr(0,5))return setTimeout(function(){t(null,e)},0);var s=new XMLHttpRequest;s.open("GET",e,!0),s.addEventListener("error",function(){t(new Error("Failed to load image "+e))}),s.responseType=window.FileReader?"blob":"arraybuffer",s.addEventListener("load",function(){window.FileReader?function(l,f){if(200===l.status){var p=new FileReader;p.onload=function(n){f(null,n.target.result)},p.onerror=function(){f(new Error("Failed to load image "+e))},p.readAsDataURL(l.response)}else f(new Error("Failed to load image "+e))}(s,t):function(l,f){if(200===l.status){var n=new Uint8Array(l.response),a=e.split(".").pop()||"png";f(null,"data:image/"+({svg:"svg+xml"}[a]||a)+";base64,"+btoa(function(w){for(var E=[],j=0;j<w.length;j+=32768)E.push(String.fromCharCode.apply(null,w.subarray(j,j+32768)));return E.join("")}(n)))}else f(new Error("Failed to load image "+e))}(s,t)}),s.send()},getElementBBox:function(e){var t=Se(e);if(0===t.length)throw new Error("Element not found");var r=t[0],i=r.ownerDocument,s=r.getBoundingClientRect(),l=0,f=0;if(r.ownerSVGElement){var p=be(r),n=p.getBBox({target:p.svg()});l=s.width-n.width,f=s.height-n.height}return{x:s.left+window.pageXOffset-i.documentElement.offsetLeft+l/2,y:s.top+window.pageYOffset-i.documentElement.offsetTop+f/2,width:s.width-l,height:s.height-f}},sortElements:tu,setAttributesBySelector:function(e,t){var r=Se(e);va(t,function(i,s){var l=r.find(s).addBack().filter(s);$a(i,"class")&&(l.addClass(i.class),i=Is(i,"class")),l.attr(i)})},normalizeSides:So,timing:ru,interpolate:nu,filter:wl,format:rc,template:li,toggleFullScreen:function(e){var t=window.top.document;function r(i,s){for(var l=["webkit","moz","ms","o",""],f=0;f<l.length;f++){var p=l[f],n=p?p+s:s.substr(0,1).toLowerCase()+s.substr(1);if(void 0!==i[n])return Bt(i[n])?i[n]():i[n]}}e=e||t.body,r(t,"FullscreenElement")||r(t,"FullScreenElement")?r(t,"ExitFullscreen")||r(t,"CancelFullScreen"):r(e,"RequestFullscreen")||r(e,"RequestFullScreen")},mixin:Cl,supplement:qt,deepMixin:kh,deepSupplement:Dh,assign:gt,defaults:$i,defaultsDeep:xl,invoke:ga,sortedIndex:ea,uniq:Xo,clone:Di,cloneDeep:Ii,isEmpty:As,isEqual:qo,isFunction:Bt,isPlainObject:en,toArray:Zt,debounce:nc,groupBy:q0,sortBy:ic,flattenDeep:Sl,without:J0,difference:K0,intersection:iu,union:Qa,has:$a,result:Hr,omit:Is,pick:Ml,bindAll:au,forIn:va,camelCase:ac,uniqueId:sc,merge:Yn,isBoolean:su,isObject:an,isNumber:zi,isString:$n,noop:Pn,cloneCells:ka};function hc(e,t,r){var i=e.toJSON();return i.angle=t||0,$i({},r,i)}function rl(e,t,r){return e.map(function(i,s,l){var f=this.pointAt((s+.5)/l.length);return(i.dx||i.dy)&&f.offset(i.dx||0,i.dy||0),hc(f.round(),0,i)},js(t,r))}function bs(e,t,r,i){var s=t.center(),l=t.width/t.height,f=t.topMiddle(),p=Cn.fromRect(t);return e.map(function(n,a,o){var c=r+i(a,o.length),y=f.clone().rotate(s,-c).scale(l,1,s),w=n.compensateRotation?-p.tangentTheta(y):0;return(n.dx||n.dy)&&y.offset(n.dx||0,n.dy||0),n.dr&&y.move(s,n.dr),hc(y.round(),w,n)})}function nl(e,t){var r=t.x;$n(r)&&(r=parseFloat(r)/100*e.width);var i=t.y;return $n(i)&&(i=parseFloat(i)/100*e.height),Ha(r||0,i||0)}var il={absolute:function(e,t,r){return e.map(nl.bind(null,t))},fn:function(e,t,r){return r.fn(e,t,r)},line:function(e,t,r){return rl(e,nl(t,r.start||t.origin()),nl(t,r.end||t.corner()))},left:function(e,t,r){return rl(e,t.origin(),t.bottomLeft())},right:function(e,t,r){return rl(e,t.topRight(),t.corner())},top:function(e,t,r){return rl(e,t.origin(),t.topRight())},bottom:function(e,t,r){return rl(e,t.bottomLeft(),t.corner())},ellipseSpread:function(e,t,r){var s=r.step||360/e.length;return bs(e,t,r.startAngle||0,function(l){return l*s})},ellipse:function(e,t,r){var s=r.step||20;return bs(e,t,r.startAngle||0,function(l,f){return(l+.5-f/2)*s})}};function Js(e,t){return xl({},e,t,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function bi(e,t,r,i){i=$i({},i,{offset:15});var f,p,n,a,s=t.center().theta(e),l=fc(t),o=i.offset,c=0;s<l[1]||s>l[2]?(n=".3em",f=o,p=0,a="start"):s<l[0]?(n="0",f=0,p=-o,r?(c=-90,a="start"):a="middle"):s<l[3]?(n=".3em",f=-o,p=0,a="end"):(n=".6em",f=0,p=o,r?(c=90,a="start"):a="middle");var y=Math.round;return Js({x:y(f),y:y(p),angle:c,attrs:{".":{y:n,"text-anchor":a}}})}function fc(e){var t=e.center(),r=t.theta(e.origin()),i=t.theta(e.bottomLeft()),s=t.theta(e.corner());return[r,t.theta(e.topRight()),s,i]}function dc(e,t,r,i){var l,f,p,n,s=t.center().theta(e),a=(i=$i({},i,{offset:15})).offset,o=0,c=fc(t);s<c[1]||s>c[2]?(p=".3em",l=-a,f=0,n="end"):s<c[0]?(p=".6em",l=0,f=a,r?(o=90,n="start"):n="middle"):s<c[3]?(p=".3em",l=a,f=0,n="start"):(p="0em",l=0,f=-a,r?(o=-90,n="start"):n="middle");var y=Math.round;return Js({x:y(l),y:y(f),angle:o,attrs:{".":{y:p,"text-anchor":n}}})}function vu(e,t,r){r=$i({},r,{offset:20});var n,i=Ha(0,0),s=-e.theta(i),l=s,f=e.clone().move(i,r.offset).difference(e).round(),p=".3em";(s+90)%180==0?(n=t?"end":"middle",!t&&-270===s&&(p="0em")):s>-270&&s<-90?(n="start",l=s-180):n="end";var a=Math.round;return Js({x:a(f.x),y:a(f.y),angle:t?l:0,attrs:{".":{y:p,"text-anchor":n}}})}var yu={manual:function(e,t,r){return Js(r,t)},left:function(e,t,r){return Js(r,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},right:function(e,t,r){return Js(r,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},top:function(e,t,r){return Js(r,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},bottom:function(e,t,r){return Js(r,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},outsideOriented:function(e,t,r){return bi(e,t,!0,r)},outside:function(e,t,r){return bi(e,t,!1,r)},insideOriented:function(e,t,r){return dc(e,t,!0,r)},inside:function(e,t,r){return dc(e,t,!1,r)},radial:function(e,t,r){return vu(e.difference(t.center()),!1,r)},radialOriented:function(e,t,r){return vu(e.difference(t.center()),!0,r)}},vn=Da.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){return void 0===e?Di(this.get("source")):e instanceof Da?((i=Di(t)||{}).id=e.id,this.set("source",i,r)):en(e)?this.set("source",i=e,t):((i=Di(t)||{}).x=e.x,i.y=e.y,this.set("source",i,r));var i},target:function(e,t,r){return void 0===e?Di(this.get("target")):e instanceof Da?((i=Di(t)||{}).id=e.id,this.set("target",i,r)):en(e)?this.set("target",i=e,t):((i=Di(t)||{}).x=e.x,i.y=e.y,this.set("target",i,r));var i},router:function(e,t,r){if(void 0===e){var i=this.get("router");return i?"object"==typeof i?Di(i):i:this.get("manhattan")?{name:"orthogonal"}:null}var s="object"==typeof e||"function"==typeof e;return this.set("router",s?e:{name:e,args:t},s?t:r)},connector:function(e,t,r){if(void 0===e){var i=this.get("connector");return i?"object"==typeof i?Di(i):i:this.get("smooth")?{name:"smooth"}:null}var s="object"==typeof e||"function"==typeof e;return this.set("connector",s?e:{name:e,args:t},s?t:r)},label:function(e,t,r){var i=this.labels();return(e=isFinite(e)&&null!==e?0|e:0)<0&&(e=i.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return 0===arguments.length?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){var t=this.attributes.labels;return Array.isArray(t)&&t.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var i=this.labels(),s=i.length;return(e=isFinite(e)&&null!==e?0|e:s)<0&&(e=s+e+1),i.splice(e,0,t),this.labels(i,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&null!==e?0|e:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var i=this.vertices();if((e=isFinite(e)&&null!==e?0|e:0)<0&&(e=i.length+e),arguments.length<=1)return this.prop(["vertices",e]);var s=this._normalizeVertex(t);return this.prop(["vertices",e],s,r)},vertices:function(e,t){if(0===arguments.length)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],i=0;i<e.length;i++){var s=e[i],l=this._normalizeVertex(s);r.push(l)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var i=this.vertices(),s=i.length;(e=isFinite(e)&&null!==e?0|e:s)<0&&(e=s+e+1);var l=this._normalizeVertex(t);return i.splice(e,0,l),this.vertices(i,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&null!==e?0|e:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){return en(e)?e:{x:e.x,y:e.y}},translate:function(e,t,r){return(r=r||{}).translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(i){return{x:(i.x||0)+e,y:(i.y||0)+t}},r)},scale:function(e,t,r,i){return this.applyToPoints(function(s){return oe(s).scale(e,t,r).toJSON()},i)},applyToPoints:function(e,t){if(!Bt(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},i=this.attributes,s=i.source,l=i.target;s.id||(r.source=e(s)),l.id||(r.target=e(l));var f=this.vertices();return f.length>0&&(r.vertices=f.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new oe(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new oe(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){var e=[this.getSourcePoint()].concat(this.vertices().map(oe),[this.getTargetPoint()]);return new Pr(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),i=this.getTargetElement(),s=this.getParentCell();r&&i&&(t=r===i||r.isEmbeddedIn(i)?i:i.isEmbeddedIn(r)?r:this.graph.getCommonAncestor(r,i)),s&&(!t||t.id!==s.id)&&s.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var t=this.attributes,s=t.source.id,l=t.target.id;if(!s||!l)return!1;var f=s===l;if(!f&&e.deep&&this.graph){var p=this.getSourceCell(),n=this.getTargetCell();f=p.isEmbeddedIn(n)||n.isEmbeddedIn(p)}return f},getSourceCell:function(){var t=this.graph,i=this.attributes.source;return i&&i.id&&t&&t.getCell(i.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){var t=this.graph,i=this.attributes.target;return i&&i.id&&t&&t.getCell(i.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=$n(e)||zi(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){return e.id===t.id&&(e.port===t.port||!e.port&&!t.port)}}),Au=function(e){var t=Ii(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=il,this.portLabelLayoutNamespace=yu,this._init(t)};Au.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),i=this.getPortsByGroup(e),s=r.position||{},l=s.name,f=this.portLayoutNamespace;f[l]||(l="left");var p=s.args||{},n=i.map(function(c){return c&&c.position&&c.position.args}),a=f[l](n,t,p),o={ports:i,result:[]};return Zt(a).reduce(function(c,y,w){var T=c.ports[w];return c.result.push({portId:T.id,portTransformation:y,labelTransformation:this._getPortLabelLayout(T,oe(y),t),portAttrs:T.attrs,portSize:T.size,labelSize:T.label.size}),c}.bind(this),o),o.result},_getPortLabelLayout:function(e,t,r){var i=this.portLabelLayoutNamespace,s=e.label.position.name||"left";return i[s]?i[s](t,r,e.label.position.args):null},_init:function(e){if(an(e.groups))for(var t=Object.keys(e.groups),r=0,i=t.length;r<i;r++){var s=t[r];this.groups[s]=this._evaluateGroup(e.groups[s])}for(var l=Zt(e.items),f=0,p=l.length;f<p;f++)this.ports.push(this._evaluatePort(l[f]))},_evaluateGroup:function(e){return Yn(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=gt({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=Yn({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=Yn({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=gt({},r.size,t.size),t},_getZIndex:function(e,t){return zi(t.z)?t.z:zi(e.z)||"auto"===e.z?e.z:"auto"},_createPositionNode:function(e,t){return Yn({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var i,r={};Bt(e)?(i="fn",r.fn=e):$n(e)?i=e:void 0===e?i=t?"left":null:Array.isArray(e)?(i="absolute",r.x=e[0],r.y=e[1]):an(e)&&(i=e.name,gt(r,e.args));var s={args:r};return i&&(s.name=i),s},_getLabel:function(e,t){var r=e.label||{},i=r;return i.position=this._getPosition(r.position,t),i}};var vc={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Zt(e.items).forEach(function(p){t[p.id]=!0});var r=this.previous("ports")||{},i={};Zt(r.items).forEach(function(p){t[p.id]||(i[p.id]=!0)});var s=this.graph;s&&!As(i)&&(s.getConnectedLinks(this,{inbound:!0}).forEach(function(p){i[p.get("target").port]&&p.remove()}),s.getConnectedLinks(this,{outbound:!0}).forEach(function(p){i[p.get("source").port]&&p.remove()}))},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return-1!==this.getPortIndex(e)},getPorts:function(){return Ii(this.prop("ports/items"))||[]},getGroupPorts:function(e){var t=Zt(this.prop(["ports","items"])).filter(function(r){return r.group===e});return Ii(t)},getPort:function(e){return Ii(Zt(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){return this._portSettingsData.getGroupPortsMetrics(e,$e(this.size())).reduce(function(r,i){var s=i.portTransformation;return r[i.portId]={x:s.x,y:s.y,angle:s.angle},r},{})},getPortIndex:function(e){var t=an(e)?e.id:e;return this._isValidPortId(t)?Zt(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!an(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=gt([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){var i="number"==typeof e?e:this.getPortIndex(e);if(!an(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");var s=gt([],this.prop("ports/items"));return s.splice(i,0,t),this.prop("ports/items",s,r),this},portProp:function(e,t,r,i){var s=this.getPortIndex(e);if(-1===s)throw new Error("Element: unable to find port with id "+e);var l=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?l[0]=["ports","items",s].concat(t):$n(t)?l[0]=["ports/items/",s,"/",t].join(""):(l=["ports/items/"+s],en(t)&&(l.push(t),l.push(r))),this.prop.apply(this,l)},_validatePorts:function(){var e=this.get("ports")||{},t=[],r=Zt((e=e||{}).items);return r.forEach(function(i){"object"!=typeof i&&t.push("Element: invalid port ",i),this._isValidPortId(i.id)||(i.id=this.generatePortId())},this),Xo(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return null!=e&&!an(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",gt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){var r=t||{},i=this.getPortIndex(e);if(-1!==i){var s=gt([],this.prop(["ports","items"]));s.splice(i,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],s,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){var r,i;if(Array.isArray(e)){if(r=t||{},0===e.length)return this.this;i=gt([],this.prop(["ports","items"])).filter(function(l){return!e.some(function(f){var p=an(f)?f.id:f;return l.id===p})})}else r=e||{},i=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],i,r),this.stopBatch("port-remove"),this},_createPortData:function(){var t,e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new Au(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var i=r.filter(function(l){if(!t.find(function(f){return f.id===l.id}))return l}),s=t.filter(function(l){if(!r.find(function(f){return f.id===l.id}))return l});s.length>0&&this.trigger("ports:remove",this,s),i.length>0&&this.trigger("ports:add",this,i)}}},Zh={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,i=t.node.childNodes.length;r<i;r++)e.push(t.node.childNodes[r]);var s=q0(this.model._portSettingsData.getPorts(),"z"),l="auto";Zt(s[l]).forEach(function(o){var c=this._getPortElement(o);t.append(c),e.push(c)},this);for(var f=Object.keys(s),p=0;p<f.length;p++){var n=f[p];if(n!==l){var a=parseInt(n,10);this._appendPorts(s[n],a,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var i=this._getContainerElement(),s=Zt(e).map(this._getPortElement,this);r[t]||t<0?be(r[Math.max(t,0)]).before(s):i.append(s)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){var r=this._portElementsCache[e];if(!r)return null;var f=this.findBySelector(t,r.portContentElement.node,r.portContentSelectors)[0];return void 0===f&&(f=null),f},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){ga(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){var t,r,i,s,l=be(this.portContainerMarkup).addClass("joint-port"),f=this._getPortMarkup(e);if(Array.isArray(f)){var p=this.parseDOMJSON(f,l.node),n=p.fragment;t=n.childNodes.length>1?be("g").append(n):be(n.firstChild),s=p.selectors}else t=be(f),Array.isArray(t)&&(t=be("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});var T,a=this._getPortLabelMarkup(e.label);if(Array.isArray(a)){var o=this.parseDOMJSON(a,l.node),c=o.fragment,w=c.childNodes.length;w>0&&(i=o.selectors,r=1===w?be(c.firstChild):be("g").append(c))}else r=be(a),Array.isArray(r)&&(r=be("g").append(r));if(s&&i){for(var E in i)if(s[E]&&E!==this.selector)throw new Error("ElementView: selectors within port must be unique.");T=gt({},s,i)}else T=s||i;return l.append(t.addClass("joint-port-body")),r&&l.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:l,portLabelElement:r,portSelectors:T,portLabelSelectors:i,portContentElement:t,portContentSelectors:s},l},_updatePortGroup:function(e){for(var t=$e(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),i=0,s=r.length;i<s;i++){var l=r[i],p=this._portElementsCache[l.portId]||{},n=l.portTransformation;this.applyPortTransform(p.portElement,n),this.updateDOMSubtreeAttributes(p.portElement.node,l.portAttrs,{rootBBox:new $e(l.portSize),selectors:p.portSelectors});var a=l.labelTransformation;a&&p.portLabelElement&&(this.applyPortTransform(p.portLabelElement,a,-n.angle||0),this.updateDOMSubtreeAttributes(p.portLabelElement.node,a.attrs,{rootBBox:new $e(l.labelSize),selectors:p.portLabelSelectors}))}},applyPortTransform:function(e,t,r){var i=be.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(i,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},hn=Da.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Da.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){var p,i=zi(t),s=(r=(i?r:e)||{}).parentRelative,l=r.deep,f=r.restrictedArea;if(s){if(!this.graph)throw new Error("Element must be part of a graph.");var n=this.getParentCell();n&&!n.isLink()&&(p=n.get("position"))}if(i){if(p&&(e+=p.x,t+=p.y),l||f){var a=this.get("position");this.translate(e-a.x,t-a.y,r)}else this.set("position",{x:e,y:t},r);return this}var y=oe(this.get("position"));return s?y.difference(p):y},translate:function(e,t,r){if(t=t||0,0===(e=e||0)&&0===t)return this;(r=r||{}).translateBy=r.translateBy||this.id;var i=this.get("position")||{x:0,y:0},s=r.restrictedArea;if(s&&r.translateBy===this.id)if("function"==typeof s){var l=s.call(this,i.x+e,i.y+t,r);e=l.x-i.x,t=l.y-i.y}else{var f=this.getBBox({deep:!0}),p=i.x-f.x,n=i.y-f.y,a=Math.max(s.x+p,Math.min(s.x+s.width+p-f.width,i.x+e)),o=Math.max(s.y+n,Math.min(s.y+s.height+n-f.height,i.y+t));e=a-i.x,t=o-i.y}var c={x:i.x+e,y:i.y+t};return r.tx=e,r.ty=t,r.transition?(an(r.transition)||(r.transition={}),this.transition("position",c,gt({},r.transition,{valueFunction:nu.object})),ga(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",c,r),ga(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var i=this.get("size");return void 0===e?{width:i.width,height:i.height}:(an(e)&&(r=t,t=zi(e.height)?e.height:i.height,e=zi(e.width)?e.width:i.width),this.resize(e,t,r))},resize:function(e,t,r){if(this.startBatch("resize",r=r||{}),r.direction){var i=this.get("size");switch(r.direction){case"left":case"right":t=i.height;break;case"top":case"bottom":e=i.width}var f,s=Ti(this.get("angle")||0),l=this.getBBox();if(s){var p={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(p+=Math.floor((s+45)/90),p%=4);var n=l[["bottomLeft","corner","topRight","origin"][p]](),a=oe(n).rotate(l.center(),-s),o=Math.sqrt(e*e+t*t)/2,c=p*Math.PI/2;c+=Math.atan(p%2==0?t/e:e/t),c-=mi(s);var y=oe.fromPolar(o,c,a);f=oe(y).offset(e/-2,t/-2)}else switch(f=l.topLeft(),r.direction){case"top":case"top-right":f.offset(0,l.height-t);break;case"left":case"bottom-left":f.offset(l.width-e,0);break;case"top-left":f.offset(l.width-e,l.height-t)}this.set("size",{width:e,height:t},r),this.position(f.x,f.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,i){var s=this.getBBox().scale(e,t,r);return this.startBatch("scale",i),this.position(s.x,s.y,i),this.resize(s.width,s.height,i),this.stopBatch("scale"),this},fitEmbeds:function(e){void 0===e&&(e={});var r=this.graph;if(!r)throw new Error("Element must be part of a graph.");var i=this.getEmbeddedCells().filter(function(T){return T.isElement()});if(0===i.length)return this;this.startBatch("fit-embeds",e),e.deep&&ga(i,"fitEmbeds",e);var s=So(e.padding),l=s.left,f=s.right,p=s.top,n=s.bottom,a=r.getCellsBBox(i),o=a.x,c=a.y,y=a.width,w=a.height;return this.set({position:{x:o-=l,y:c-=p},size:{width:y+=l+f,height:w+=n+p}},e),this.stopBatch("fit-embeds"),this},rotate:function(e,t,r,i){if(r){var s=this.getBBox().center(),l=this.get("size"),f=this.get("position");s.rotate(r,this.get("angle")-e);var p=s.x-l.width/2-f.x,n=s.y-l.height/2-f.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(f.x+p,f.y+n,i),this.rotate(e,t,null,i),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,i);return this},angle:function(){return Ti(this.get("angle")||0)},getBBox:function(e){void 0===e&&(e={});var r=this.graph,i=this.attributes,l=e.rotate;if(e.deep&&r){var f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),r.getCellsBBox(f,e)}var p=i.angle;void 0===p&&(p=0);var n=i.position,c=i.size,T=new $e(n.x,n.y,c.width,c.height);return l&&T.rotateAroundCenter(p),T},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),i=r.center(),s=e.get(t);if(!s)return i;var l=s.port;if(!l||!this.hasPort(l))return i;var f=this.portProp(l,["group"]),p=this.getPortsPositions(f),n=new oe(p[l]).offset(r.origin()),a=this.angle();return a&&n.rotate(i,-a),n}});gt(hn.prototype,vc);var Fh=Je.Collection.extend({initialize:function(e,t){this.cellNamespace=t.cellNamespace?t.cellNamespace:"undefined"!=typeof joint&&$a(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,l=new("link"===e.type?vn:Ki(r.cellNamespace,e.type,".")||hn)(e,t);return t.dry||(l.graph=r.graph),l},comparator:function(e){return e.get("z")||0}}),Qs=Je.Model.extend({initialize:function(e,t){var r=new Fh([],{model:(t=t||{}).cellModel,cellNamespace:t.cellNamespace,graph:this});Je.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var t=e.attributes,r=t.source,i=t.target;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0),i.id&&((this._in[i.id]||(this._in[i.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var t=e.attributes,r=t.source,i=t.target;r.id&&this._out[r.id]&&this._out[r.id][e.id]&&delete this._out[r.id][e.id],i.id&&this._in[i.id]&&this._in[i.id][e.id]&&delete this._in[i.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Je.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var i;return"object"==typeof e?(i=e,r=t):(i={})[e]=t,i.hasOwnProperty("cells")&&(this.resetCells(i.cells,r),i=Is(i,"cells")),Je.Model.prototype.set.call(this,i,r)},clear:function(e){e=gt({},e,{clear:!0});var t=this.get("cells");if(0===t.length)return this;this.startBatch("clear",e);var r=t.sortBy(function(i){return i.isLink()?1:2});do{r.shift().remove(e)}while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof Je.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!$n(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Je.Model?e.has("z")||e.set("z",this.maxZIndex()+1):void 0===e.z&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return 0===e.length||(e=Sl(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t)),this},resetCells:function(e,t){var r=Zt(e).map(function(i){return this._prepareCell(i,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),ga(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){(r=r||{}).clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(function(e){return e.isElement()})},getLinks:function(){return this.get("cells").filter(function(e){return e.isLink()})},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){var r=(t=t||{}).indirect,i=t.inbound,s=t.outbound;void 0===i&&void 0===s&&(i=s=!0);var l=[],f={};function p(c,y){if(va(c.getOutboundEdges(y.id),function(T,E){if(!f[E]){var j=c.getCell(E);l.push(j),f[E]=!0,r&&(i&&n(c,j),s&&p(c,j))}}.bind(c)),r&&y.isLink()){var w=y.getTargetCell();w&&w.isLink()&&(f[w.id]||(l.push(w),p(c,w)))}}function n(c,y){if(va(c.getInboundEdges(y.id),function(T,E){if(!f[E]){var j=c.getCell(E);l.push(j),f[E]=!0,r&&(i&&n(c,j),s&&p(c,j))}}.bind(c)),r&&y.isLink()){var w=y.getSourceCell();w&&w.isLink()&&(f[w.id]||(l.push(w),n(c,w)))}}if(s&&p(this,e),i&&n(this,e),t.deep){var a=e.getEmbeddedCells({deep:!0}),o={};a.forEach(function(c){c.isElement()&&(o[c.id]=!0)}),a.forEach(function(c){c.isLink()||(s&&va(this.getOutboundEdges(c.id),function(y,w){if(!f[w]){var E=this.getCell(w).attributes,K=E.source.id,x=E.target.id;if(!t.includeEnclosed&&K&&o[K]&&x&&o[x])return;l.push(this.getCell(w)),f[w]=!0}}.bind(this)),i&&va(this.getInboundEdges(c.id),function(y,w){if(!f[w]){var E=this.getCell(w).attributes,K=E.source.id,x=E.target.id;if(!t.includeEnclosed&&K&&o[K]&&x&&o[x])return;l.push(this.getCell(w)),f[w]=!0}}.bind(this)))},this)}return l},getNeighbors:function(e,t){t||(t={});var r=t.inbound,i=t.outbound;void 0===r&&void 0===i&&(r=i=!0);var s=this.getConnectedLinks(e,t).reduce(function(p,n){var a=n.attributes,o=a.source,c=a.target,y=n.hasLoop(t);if(r&&$a(o,"id")&&!p[o.id]){var w=this.getCell(o.id);w.isElement()&&(y||w&&w!==e&&(!t.deep||!w.isEmbeddedIn(e)))&&(p[o.id]=w)}if(i&&$a(c,"id")&&!p[c.id]){var T=this.getCell(c.id);T.isElement()&&(y||T&&T!==e&&(!t.deep||!T.isEmbeddedIn(e)))&&(p[c.id]=T)}return p}.bind(this),{});if(e.isLink()){if(r){var l=e.getSourceCell();l&&l.isElement()&&!s[l.id]&&(s[l.id]=l)}if(i){var f=e.getTargetCell();f&&f.isElement()&&!s[f.id]&&(s[f.id]=f)}}return Zt(s)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var i=[],s=r.get("parent");s;)i.push(s),s=this.getCell(s).get("parent");return i},this);e=e.sort(function(r,i){return r.length-i.length});var t=Zt(e.shift()).find(function(r){return e.every(function(i){return i.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){var r=[];return this.search(e,function(i){i!==e&&r.push(i)},gt({},t=t||{},{outbound:!0})),r},cloneCells:ka,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],i={},s=[],l=[];return Zt(e).forEach(function(f){i[f.id]||(r.push(f),i[f.id]=f,f.isLink()?l.push(f):s.push(f)),t.deep&&f.getEmbeddedCells({deep:!0}).forEach(function(n){i[n.id]||(r.push(n),i[n.id]=n,n.isLink()?l.push(n):s.push(n))})}),l.forEach(function(f){var p=f.attributes,n=p.source,a=p.target;if(n.id&&!i[n.id]){var o=this.getCell(n.id);r.push(o),i[o.id]=o,s.push(o)}if(a.id&&!i[a.id]){var c=this.getCell(a.id);r.push(this.getCell(a.id)),i[c.id]=c,s.push(c)}},this),s.forEach(function(f){this.getConnectedLinks(f,t).forEach(function(n){var a=n.attributes,o=a.source,c=a.target;!i[n.id]&&o.id&&i[o.id]&&c.id&&i[c.id]&&(r.push(n),i[n.id]=n)})},this),r},getPredecessors:function(e,t){var r=[];return this.search(e,function(i){i!==e&&r.push(i)},gt({},t=t||{},{inbound:!0})),r},search:function(e,t,r){(r=r||{}).breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r){void 0===r&&(r={});var i={},s={},l=[];for(l.push(e),s[e.id]=0;l.length>0;){var f=l.shift();if(!i[f.id]&&(i[f.id]=!0,!1!==t.call(this,f,s[f.id])))for(var p=this.getNeighbors(f,r),n=0,a=p.length;n<a;n++){var o=p[n];s[o.id]=s[f.id]+1,l.push(o)}}},dfs:function(e,t,r){void 0===r&&(r={});var i={},s={},l=[];for(l.push(e),s[e.id]=0;l.length>0;){var f=l.pop();if(!i[f.id]&&(i[f.id]=!0,!1!==t.call(this,f,s[f.id])))for(var p=this.getNeighbors(f,r),n=l.length,a=0,o=p.length;a<o;a++){var c=p[a];s[c.id]=s[f.id]+1,l.splice(n,0,c)}}},getSources:function(){var e=[];return va(this._nodes,function(t,r){(!this._in[r]||As(this._in[r]))&&e.push(this.getCell(r))}.bind(this)),e},getSinks:function(){var e=[];return va(this._nodes,function(t,r){(!this._out[r]||As(this._out[r]))&&e.push(this.getCell(r))}.bind(this)),e},isSource:function(e){return!this._in[e.id]||As(this._in[e.id])},isSink:function(e){return!this._out[e.id]||As(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(i){if(i===t&&i!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(i){if(i===t&&i!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){var i=(r=r||{}).inbound,s=r.outbound;void 0===i&&void 0===s&&(i=s=!0);var l=!1;return this.getConnectedLinks(e,r).forEach(function(f){var p=f.attributes,n=p.source,a=p.target;if(i&&$a(n,"id")&&n.id===t.id||s&&$a(a,"id")&&a.id===t.id)return l=!0,!1}),l},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){ga(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(function(t){return t.getBBox({rotate:!0}).containsPoint(e)})},findModelsInArea:function(e,t){void 0===t&&(t={});var r=new $e(e),i=t.strict;void 0===i&&(i=!1);var s=i?"containsRect":"intersect";return this.getElements().filter(function(l){return r[s](l.getBBox({rotate:!0}))})},findModelsUnderElement:function(e,t){void 0===t&&(t={});var r=t.searchBy;void 0===r&&(r="bbox");var i=e.getBBox().rotateAroundCenter(e.angle());return("bbox"===r?this.findModelsInArea(i):this.findModelsFromPoint(i[r]())).filter(function(l){return e.id!==l.id&&!l.isEmbeddedIn(e)})},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t){void 0===t&&(t={});var r=t.rotate;return void 0===r&&(r=!0),Zt(e).reduce(function(i,s){var l=s.getBBox({rotate:r});return l?i?i.union(l):l:i},null)},translate:function(e,t,r){var i=this.getCells().filter(function(s){return!s.isEmbedded()});return ga(i,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,i){var s=this.getCellsBBox(r);if(s){var l=Math.max(e/s.width,0),f=Math.max(t/s.height,0);ga(r,"scale",l,f,s.origin(),i)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",gt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",gt({},t,{batchName:e}))},hasActiveBatch:function(e){var t=this._batches;return(0===arguments.length?Object.keys(t):Array.isArray(e)?e:[e]).some(function(i){return t[i]>0})}},{validations:{multiLinks:function(e,t){var r=t.attributes,i=r.source,s=r.target;if(i.id&&s.id){var l=t.getSourceCell();if(l&&e.getConnectedLinks(l,{outbound:!0}).filter(function(n){var a=n.attributes,o=a.source,c=a.target;return o&&o.id===i.id&&(!o.port||o.port===i.port)&&c&&c.id===s.id&&(!c.port||c.port===s.port)}).length>1)return!1}return!0},linkPinning:function(e,t){var r=t.attributes;return r.source.id&&r.target.id}}});hu(Qs.prototype,["resetCells","addCells","removeCells"],Dl.cells);var ws={},pa=Je.View.extend({options:{},theme:null,themeClassNamePrefix:Kn("theme-"),requireSetThemeOverride:!1,defaultTheme:Vr.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=gt({},this.options,e),Je.View.call(this,e)},initialize:function(){ws[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},renderChildren:function(e){if(e||(e=Hr(this,"children")),e){var t=this.svgElement,i=Ja(e,be.namespace[t?"svg":"xhtml"]);(t?this.vel:this.$el).empty().append(i.fragment),this.childNodes=i.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&1===r.nodeType;){var i=r.getAttribute(e);if(i)return i;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Hr(this,"el"));else{var e=Hr(this,"tagName"),t=gt({},Hr(this,"attributes")),r=gt({},Hr(this,"style"));this.id&&(t.id=Hr(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(be.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Je.$?e:Je.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=be(this.el))},_ensureElClassName:function(){var e=Hr(this,"className");if(e){var t=Kn(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override||(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e),this},addThemeClassName:function(e){if(!(e=e||this.theme))return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),ws[this.cid]=null,Je.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var i=this.getEventNamespace();for(var s in t){var l=t[s];"function"!=typeof l&&(l=this[l]),l&&Se(e).on(s+i,r,l.bind(this))}return this},undelegateElementEvents:function(e){return Se(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Hr(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,i="__"+this.cid+"__";return void 0===t?r&&r[i]||{}:(r||(r=e.data={}),r[i]||(r[i]={}),gt(r[i],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&gt({},e[0])||{},r=e[1]&&gt({},e[1])||{},i=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return"function"==typeof i&&i.apply(this,arguments),this.render.__render__===i&&this.onRender(),this},t.render.__render__=i,Je.View.extend.call(this,t,r)}});if(Se.event&&!("dbltap"in Se.event.special)){var Iu=Vr.doubleTapInterval;Se.event.special.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(e){for(var t,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];var s=e.handleObj,l=e.target,f=Se.data(l),p=(new Date).getTime(),n="lastTouch"in f?p-f.lastTouch:0;n<Iu&&n>30?(f.lastTouch=null,e.type=s.origType,(t=s.handler).call.apply(t,[this,e].concat(r))):f.lastTouch=p}}}var al={views:ws,View:pa},Zi={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},bu=pa.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Kn(this.options.name+"-layer")},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){var r=this.el;e.parentNode!==r&&r.appendChild(e)},insertPivot:function(e){var r=this.el,i=this.pivotNodes;(e=+e)||(e=0);var s=i[e];if(s)return s;s=i[e]=document.createComment("z-index:"+(e+1));var l=-1/0;for(var f in i)(f=+f)<e&&f>l&&(l=f);return r.insertBefore(s,l!==-1/0?i[l].nextSibling:r.firstChild),s},removePivots:function(){var t=this.el,r=this.pivotNodes;for(var i in r)t.removeChild(r[i]);this.pivotNodes={}}});function El(e){return e?Array.isArray(e)?e:[e]:[]}var za=pa.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,transformGroup:null,requestUpdate:function(t,r){var i=t.paper;this.cellView=t,this.nodeSelector=r,i&&(this.updateRequested=!0,i.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate:function(){return this.updateRequested=!1,this.update(this.cellView,this.nodeSelector),this.mount(),this.transform(),0},findNode:function(t,r){var l;if(void 0===r&&(r=null),"string"==typeof r)l=t.findBySelector(r)[0];else if(en(r)){var f=t.model.isLink(),p=r.label;void 0===p&&(p=null);var n=r.port,a=r.selector;l=f&&null!==p?t.findLabelNode(p,a):!f&&n?t.findPortNode(n,a):t.findBySelector(a)[0]}else r&&((l=be.toNode(r))instanceof SVGElement||(l=null));return l||null},mount:function(){var t=this,i=t.cellView,s=t.el,l=t.options;if(t.MOUNTABLE&&!t.transformGroup){var p=i.vel,n=i.paper,a=l.layer;if(a){var o=this.transformGroup=be("g").addClass("highlight-transform").append(s);n.getLayerView(a).insertSortedNode(o.node,l.z)}else(!s.parentNode||s.nextSibling)&&p.append(s)}},unmount:function(){var t=this,i=t.transformGroup,s=t.vel;!t.MOUNTABLE||(i?(this.transformGroup=null,i.remove()):s.remove())},transform:function(){var t=this,r=t.transformGroup,i=t.cellView,s=t.updateRequested;if(r&&!i.model.isLink()&&!s){var l=i.getRootTranslateMatrix(),f=i.getRootRotateMatrix(),p=l.multiply(f);r.attr("transform",be.matrixToTransformString(p))}},update:function(){var t=this,r=t.node,i=t.cellView,f=t.id;if(!t.updateRequested){var p=this.node=this.findNode(i,t.nodeSelector);r&&this.unhighlight(i,r),p?(this.highlight(i,p),this.mount()):(this.unmount(),i.notify("cell:highlight:invalid",f,this))}},onRemove:function(){var t=this,r=t.node,i=t.cellView,s=t.id,l=t.constructor;r&&this.unhighlight(i,r),this.unmount(),l._removeRef(i,s)},highlight:function(t,r){},unhighlight:function(t,r){}},{_views:{},highlight:function(e,t,r){var i=this.uniqueId(t,r);this.add(e,t,i,r)},unhighlight:function(e,t,r){var i=this.uniqueId(t,r);this.remove(e,i)},get:function(t,r){void 0===r&&(r=null);var f=this._views[t.cid];if(null===r){var p=[];if(!f)return p;for(var n in f){var a=f[n];a instanceof this&&p.push(a)}return p}if(!f)return null;if(r in f){var o=f[r];if(o instanceof this)return o}return null},add:function(t,r,i,s){if(void 0===s&&(s={}),!i)throw new Error("dia.HighlighterView: An ID required.");var l=za.get(t,i);l&&l.remove();var f=new this(s);return f.id=i,this._addRef(t,i,f),f.requestUpdate(t,r),f},_addRef:function(t,r,i){var s=t.cid,f=this._views,p=f[s];p||(p=f[s]={}),p[r]=i},_removeRef:function(t,r){var i=t.cid,l=this._views,f=l[i];if(f){for(var p in r&&delete f[r],f)return;delete l[i]}},remove:function(t,r){void 0===r&&(r=null),El(this.get(t,r)).forEach(function(i){i.remove()})},update:function(t,r,i){void 0===r&&(r=null),void 0===i&&(i=!1),El(this.get(t,r)).forEach(function(s){(i||s.UPDATABLE)&&s.update()})},transform:function(t,r){void 0===r&&(r=null),El(this.get(t,r)).forEach(function(i){i.UPDATABLE&&i.transform()})},uniqueId:function(t,r){return void 0===r&&(r=""),be.ensureId(t)+JSON.stringify(r)}}),Qo={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Lt=pa.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,i,s){e.push("type-"+s.slice(0,i+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var i,s,l,e={},t={},r=0,f=Hr(this,"presentationAttributes");for(var p in f)if(f.hasOwnProperty(p)){var n=f[p];for(Array.isArray(n)||(n=[n]),i=0,s=n.length;i<s;i++){var a=e[l=n[i]];a||(a=e[l]=1<<r++),t[p]|=a}}var o=Hr(this,"initFlag");for(Array.isArray(o)||(o=[o]),i=0,s=o.length;i<s;i++)e[l=o[i]]||(e[l]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var i=0,s=e.length;i<s;i++)r|=t[e[i]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||_s(this),pa.call(this,e)},initialize:function(){this.setFlags(),pa.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},onMount:function(){},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){var i=this.paper;i&&e>0&&i.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=Ja(e),i=r.selectors,s=r.groupSelectors;for(var l in s){if(i[l])throw new Error("dia.CellView: ambiguous group selector");i[l]=s[l]}if(t){var f=this.selector;if(i[f])throw new Error("dia.CellView: ambiguous root selector.");i[f]=t}return{fragment:r.fragment,selectors:i}},can:function(e){var t=Bt(this.options.interactive)?this.options.interactive(this):this.options.interactive;return an(t)&&!1!==t[e]||su(t)&&!1!==t},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||"."===e)return[t];if(r){var i=r[e];if(i)return Array.isArray(i)?i:[i]}return Vr.useCSSSelectors?Se(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),i=this.getRootTranslateMatrix(),s=this.getRootRotateMatrix();return be.transformRect(t,i.multiply(s).multiply(r))},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),i=this.getRootTranslateMatrix();return be.transformRect(t,i.multiply(r))},getRootTranslateMatrix:function(){var t=this.model.position();return be.createSVGMatrix().translate(t.x,t.y)},getRootRotateMatrix:function(){var e=be.createSVGMatrix(),t=this.model,r=t.angle();if(r){var i=t.getBBox(),s=i.width/2,l=i.height/2;e=e.translate(s,l).rotate(r).translate(-s,-l)}return e},_notifyHighlight:function(e,t,r){void 0===r&&(r={});var p,f=this.el;if(p="string"==typeof t?void 0===(p=this.findBySelector(t)[0])?f:p:void 0===(p=this.$(t)[0])?f:p,r.partial=p!==f,void 0===r.type){var n;switch(!0){case r.embedding:n=Qo.EMBEDDING;break;case r.connecting:n=Qo.CONNECTING;break;case r.magnetAvailability:n=Qo.MAGNET_AVAILABILITY;break;case r.elementAvailability:n=Qo.ELEMENT_AVAILABILITY;break;default:n=Qo.DEFAULT}r.type=n}return this.notify(e,p,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t){return void 0===t&&(t={}),this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){var t=this.el,r=this.$(e)[0];r||(r=t);do{var i=r.getAttribute("magnet"),s=r===t;if((i||s)&&"false"!==i)return r;if(s)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);var r=e.getAttribute(t+"-selector");if(r){var s=this.findBySelector(r)[0];if(s)return s}return e},getSelector:function(e,t){var r;if(e===this.el)return"string"==typeof t&&(r="> "+t),r;if(e){var i=be(e).index()+1;r=e.tagName+":nth-child("+i+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var i=this.paper,s=i.model,l=i.getDefaultLink(this,e);return l.set({source:this.getLinkEnd(e,t,r,l,"source"),target:{x:t,y:r}}).addTo(s,{async:!1,ui:!0}),l.findView(i)},getLinkEnd:function(e){for(var t,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];var s=this.model,l=s.id,f=this.findAttribute("port",e),p=e.getAttribute("joint-selector"),n={id:l};return null!=p&&(n.magnet=p),null!=f?(n.port=f,!s.hasPort(f)&&!p&&(n.selector=this.getSelector(e))):null==p&&this.el!==e&&(n.selector=this.getSelector(e)),(t=this).customizeLinkEnd.apply(t,[n,e].concat(r))},customizeLinkEnd:function(e,t,r,i,s,l){var p=this.paper,a=p.options.connectionStrategy;if("function"==typeof a){var o=a.call(p,e,this,t,new oe(r,i),s,l,p);if(o)return o}return e},getMagnetFromLinkEnd:function(e){var l,t=this.el,r=e.port,i=e.magnet,s=this.model;return null!=r&&s.isElement()&&s.hasPort(r)?l=this.findPortNode(r,i)||t:(i||(i=e.selector),!i&&null!=r&&(i='[port="'+r+'"]'),l=this.findBySelector(i,t,this.selectors)[0]),this.findProxyNode(l,"magnet")},dragLinkStart:function(e,t,r,i){this.model.startBatch("add-link");var s=this.addLinkFromMagnet(t,r,i);s.notifyPointerdown(e,r,i),s.eventData(e,s.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:s})},dragLink:function(e,t,r){var i=this.eventData(e),s=i.linkView;if(s)s.pointermove(e,t,r);else{var l=this.paper,f=l.options.magnetThreshold,p=this.getEventTarget(e),n=i.targetMagnet;if("onleave"===f){if(n===p||be(n).contains(p))return}else if(l.eventData(e).mousemoved<=f)return;this.dragLinkStart(e,n,t,r)}},dragLinkEnd:function(e,t,r){var s=this.eventData(e).linkView;!s||(s.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){As(t)||(e instanceof SVGElement?be(e).attr(t):Se(e).attr(t))},processNodeAttributes:function(e,t){var r,i,s,l,f,p,n,a,o,c=[];for(r in t)!t.hasOwnProperty(r)||(i=t[r],!(s=this.getAttributeDefinition(r))||Bt(s.qualify)&&!s.qualify.call(this,i,e,t)?(p||(p={}),p[Ka(r)]=i):($n(s.set)&&(p||(p={}),p[s.set]=i),null!==i&&c.push(r,s)));for(l=0,f=c.length;l<f;l+=2)i=t[r=c[l]],Bt((s=c[l+1]).set)&&(n||(n={}),n[r]=i),Bt(s.position)&&(a||(a={}),a[r]=i),Bt(s.offset)&&(o||(o={}),o[r]=i);return{raw:t,normal:p,set:n,position:a,offset:o}},updateRelativeAttributes:function(e,t,r,i){i||(i={});var s,l,p=t.raw||{},n=t.normal||{},a=t.set,o=t.position,c=t.offset;for(s in a){l=a[s];var y=this.getAttributeDefinition(s).set.call(this,l,r.clone(),e,p);an(y)?gt(n,y):void 0!==y&&(n[s]=y)}if(e instanceof HTMLElement)this.setNodeAttributes(e,n);else{var j,J,K,w=n.transform,T=be.transformStringToMatrix(w),E=oe(T.e,T.f);if(w&&(n=Is(n,"transform"),T.e=T.f=0),o||c){var x=this.getNodeScale(e,i.scalableNode);j=x.sx,J=x.sy}var z=!1;for(s in o)l=o[s],(K=this.getAttributeDefinition(s).position.call(this,l,r.clone(),e,p))&&(E.offset(oe(K).scale(j,J)),z||(z=!0));this.setNodeAttributes(e,n);var O=!1;if(c){var U=this.getNodeBoundingRect(e);if(U.width>0&&U.height>0){var Q=be.transformRect(U,T).scale(1/j,1/J);for(s in c)l=c[s],(K=this.getAttributeDefinition(s).offset.call(this,l,Q,e,p))&&(E.offset(oe(K).scale(j,J)),O||(O=!0))}}(void 0!==w||z||O)&&(E.round(1),T.e=E.x,T.f=E.y,e.setAttribute("transform",be.matrixToTransformString(T)))}},getNodeScale:function(e,t){var r,i;if(t&&t.contains(e)){var s=t.scale();r=1/s.sx,i=1/s.sy}else r=1,i=1;return{sx:r,sy:i}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=be.ensureId(e),i=t[r];return i||(i=t[r]={}),i},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return void 0===t.boundingRect&&(t.boundingRect=be(e).getBBox()),new $e(t.boundingRect)},getNodeMatrix:function(e){var t=this.nodeCache(e);if(void 0===t.magnetMatrix){var r=this.rotatableNode||this.el;t.magnetMatrix=be(e).getTransformToElement(r)}return be.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return void 0===t.geometryShape&&(t.geometryShape=be(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,i){var s,l,f,p,n={},a=[];for(var o in e)if(e.hasOwnProperty(o)&&en(f=e[o])){var c=r[o]=this.findBySelector(o,t,i);for(s=0,l=c.length;s<l;s++){var y=c[s];p=be.ensureId(y);var w=i&&i[o]===y,T=n[p];if(T){T.array||(a.push(p),T.array=!0,T.attributes=[T.attributes],T.selectedLength=[T.selectedLength]);var E=T.attributes,j=T.selectedLength;if(w)E.unshift(f),j.unshift(-1);else{var J=ea(j,l);E.splice(J,0,f),j.splice(J,0,l)}}else n[p]={attributes:f,selectedLength:w?-1:l,node:y,array:!1}}}for(s=0,l=a.length;s<l;s++)(f=n[p=a[s]]).attributes=Yn.apply(void 0,[{}].concat(f.attributes.reverse()));return n},getEventTarget:function(e,t){void 0===t&&(t={});var r=e.target,i=e.type,s=e.clientX;void 0===s&&(s=0);var l=e.clientY;return void 0===l&&(l=0),t.fromPoint||"touchmove"===i||"touchend"===i?document.elementFromPoint(s,l):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=$e()),r.selectors||(r.selectors=this.selectors);var p,n,a,o,c,i={},s={},l=[],f=[],y=r.roAttributes,w=this.findNodesAttributes(y||t,e,i,r.selectors),T=y?this.findNodesAttributes(t,e,i,r.selectors):w;for(var E in w)if((c=this.processNodeAttributes(n=(o=w[E]).node,a=o.attributes)).set||c.position||c.offset){var K,j=T[E]&&T[E].attributes,J=j&&void 0===a.ref?j.ref:a.ref;if(J){if(!(K=(i[J]||this.findBySelector(J,e,r.selectors))[0]))throw new Error('dia.CellView: "'+J+'" reference does not exist.')}else K=null;if(p={node:n,refNode:K,processedAttributes:c,allAttributes:j},K){var x=f.findIndex(function(je){return je.refNode===n});x>-1?f.splice(x,0,p):f.push(p)}else l.push(p)}else this.setNodeAttributes(n,c.normal);l.push.apply(l,f);for(var z,O=0,U=l.length;O<U;O++){n=(p=l[O]).node,K=p.refNode;var Q=be(r.rotatableNode),ie=K?be.ensureId(K):"",ne=!!Q&&!!K&&Q.contains(K),ge=s[ie];if(!ge){var ke=ne?Q:e;ge=s[ie]=K?be(K).getBBox({target:ke}):r.rootBBox}y?(c=this.processNodeAttributes(n,p.allAttributes),this.mergeProcessedAttributes(c,p.processedAttributes)):c=p.processedAttributes;var Ne=ge;ne&&!Q.contains(n)&&(z||(z=be.transformStringToMatrix(Q.attr("transform"))),Ne=be.transformRect(ge,z)),this.updateRelativeAttributes(n,c,Ne,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),gt(e.set,t.set),gt(e.position,t.position),gt(e.offset,t.offset);var r=e.normal&&e.normal.transform;void 0!==r&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return!(!t||e&&t.getName()!==e)},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){za.remove(this)},updateHighlighters:function(e){void 0===e&&(e=!1),za.update(this,null,e)},transformHighlighters:function(){za.transform(this)},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){var s=this.model,l=s.graph;l&&(s.startBatch("pointer"),this.eventData(e,{graph:l})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){var s=this.eventData(e).graph;this.notify("cell:pointerup",e,t,r),s&&s.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,i){this.notify("cell:mousewheel",e,t,r,i)},onevent:function(e,t,r,i){this.notify(t,e,r,i)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave:function(t){var i=this.paper;i.isAsync()&&i.dumpView(this);var s=this.getEventTarget(t,{fromPoint:!0}),l=i.findView(s);l!==this&&(this.mouseleave(t),l&&l.mouseenter(t))},setInteractivity:function(e){this.options.interactive=e}},{Highlighting:Qo,addPresentationAttributes:function(e){return Yn({},Hr(this.prototype,"presentationAttributes"),e,function(t,r){if(t&&r&&("string"==typeof t&&(t=[t]),"string"==typeof r&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return Xo(t.concat(r))})}}),Ft={UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",TOOLS:"TOOLS",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Bn=Lt.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Lt.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Lt.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Ft.UPDATE],position:[Ft.TRANSLATE,Ft.TOOLS],size:[Ft.RESIZE,Ft.PORTS,Ft.TOOLS],angle:[Ft.ROTATE,Ft.TOOLS],markup:[Ft.RENDER],ports:[Ft.PORTS]},initFlag:[Ft.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){var r=Vr.useCSSSelectors;this.hasFlag(e,Ft.PORTS)&&(this._removePorts(),this._cleanPortsCache());var i=!1;if(this.hasFlag(e,Ft.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),i=!0,e=this.removeFlag(e,[Ft.RENDER,Ft.UPDATE,Ft.RESIZE,Ft.TRANSLATE,Ft.ROTATE,Ft.PORTS,Ft.TOOLS]);else{var s=!1;this.hasFlag(e,Ft.RESIZE)&&(this.resize(t),s=!0,e=this.removeFlag(e,[Ft.RESIZE,Ft.UPDATE])),this.hasFlag(e,Ft.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,Ft.UPDATE),s=!0,r&&(e=this.removeFlag(e,Ft.PORTS))),this.hasFlag(e,Ft.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,Ft.TRANSLATE),i=!0),this.hasFlag(e,Ft.ROTATE)&&(this.rotate(),e=this.removeFlag(e,Ft.ROTATE),i=!0),this.hasFlag(e,Ft.PORTS)&&(this._renderPorts(),s=!0,e=this.removeFlag(e,Ft.PORTS)),s&&this.updateHighlighters(!1)}return i&&this.transformHighlighters(),this.hasFlag(e,Ft.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Ft.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();var r=Vr.useCSSSelectors;r&&this._removePorts();var i=this.model,s=i.attr();this.updateDOMSubtreeAttributes(this.el,s,{rootBBox:new $e(i.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===s?null:t}),r&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=be(r[this.rotatableSelector])||null,this.scalableNode=be(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(be(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),Vr.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),i=t.size(),s=this.scalableNode,l=!1;s.node.getElementsByTagName("path").length>0&&(l=!0);var f=s.getBBox({recursive:l});s.attr("transform","scale("+i.width/(f.width||1)+","+i.height/(f.height||1)+")");var a=this.rotatableNode,o=a&&a.attr("transform");if(o){a.attr("transform",o+" rotate("+-r+","+i.width/2+","+i.height/2+")");var c=s.getBBox({target:this.paper.cells});t.set("position",{x:c.x,y:c.y},gt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e){void 0===e&&(e={});var t=e.model||this.model,i=(e.paper||this.paper).model,s=e.initialZIndices={},l=t.getEmbeddedCells({deep:!0}),f=i.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t].concat(l,f).forEach(function(o){return s[o.id]=o.attributes.z}),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});var p=i.getElements().reduce(function(o,c){return Math.max(o,c.attributes.z||0)},0);f.forEach(function(o){o.attributes.z<=p&&o.set("z",p+1,{ui:!0})}),t.stopBatch("to-front");var n=t.parent();n?(i.getCell(n).unembed(t,{ui:!0}),e.initialParentId=n):e.initialParentId=null},processEmbedding:function(e,t,r,i){void 0===e&&(e={});var c,s=e.model||this.model,l=e.paper||this.paper,f=l.model,p=l.options,n=p.findParentBy,a=p.frontParentOnly,o=p.validateEmbedding;c=(c=Bt(n)?Zt(n.call(f,this,t,r,i)):"pointer"===n?Zt(f.findModelsFromPoint({x:r,y:i})):f.findModelsUnderElement(s,{searchBy:n})).filter(function(J){return J instanceof Da&&s.id!==J.id&&!J.isEmbeddedIn(s)}),a&&(c=c.slice(-1));for(var y=null,w=e.candidateEmbedView,T=c.length-1;T>=0;T--){var E=c[T];if(w&&w.model.id==E.id){y=w;break}var j=E.findView(l);if(!Bt(o)||o.call(l,this,j)){y=j;break}}y&&y!=w&&(this.clearEmbedding(e),e.candidateEmbedView=y.highlight(y.findProxyNode(null,"container"),{embedding:!0})),!y&&w&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e){void 0===e&&(e={});var t=e.candidateEmbedView,r=e.model||this.model,i=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{var l=i.options.validateUnembedding;if(e.initialParentId&&"function"==typeof l&&!l.call(i,this))return void this._disallowUnembed(e)}i.model.getConnectedLinks(r,{deep:!0}).forEach(function(p){p.reparent({ui:!0})})},_disallowUnembed:function(e){var r=e.whenNotAllowed;void 0===r&&(r="revert");var i=e.model||this.model,l=(e.paper||this.paper).model;switch(r){case"remove":i.remove({ui:!0});break;case"revert":var f=e.initialParentId,p=e.initialPosition,n=e.initialZIndices;p&&i.position(p.x,p.y,{deep:!0,ui:!0}),n&&Object.keys(n).forEach(function(y){var w=l.getCell(y);w&&w.set("z",n[y],{ui:!0})});var c=l.getCell(f);c&&c.embed(i,{ui:!0})}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);var r=e.getAttribute(t+"-selector");if(r){var i=this.findAttribute("port",e);if(i){var s=this.findPortNode(i,r);if(s)return s}else{var f=this.findBySelector(r)[0];if(f)return f}}return e},notifyPointerdown:function(t,r,i){Lt.prototype.pointerdown.call(this,t,r,i),this.notify("element:pointerdown",t,r,i)},notifyPointermove:function(t,r,i){Lt.prototype.pointermove.call(this,t,r,i),this.notify("element:pointermove",t,r,i)},notifyPointerup:function(t,r,i){this.notify("element:pointerup",t,r,i),Lt.prototype.pointerup.call(this,t,r,i)},pointerdblclick:function(e,t,r){Lt.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){Lt.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){Lt.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.isPropagationStopped(e)||(this.notifyPointerdown(e,t,r),this.dragStart(e,t,r))},pointermove:function(e,t,r){var i=this.eventData(e);switch(i.action){case"magnet":this.dragMagnet(e,t,r);break;case"move":(i.delegatedView||this).drag(e,t,r);default:this.notifyPointermove(e,t,r)}this.eventData(e,i)},pointerup:function(e,t,r){var i=this.eventData(e);switch(i.action){case"magnet":this.dragMagnetEnd(e,t,r);break;case"move":(i.delegatedView||this).dragEnd(e,t,r);default:this.notifyPointerup(e,t,r)}var s=i.targetMagnet;s&&this.magnetpointerclick(e,s,t,r),this.checkMouseleave(e)},mouseover:function(e){Lt.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Lt.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Lt.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Lt.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,i){Lt.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,i)},onmagnet:function(e,t,r){this.dragMagnetStart(e,t,r)},magnetpointerdblclick:function(e,t,r,i){this.notify("element:magnet:pointerdblclick",e,t,r,i)},magnetcontextmenu:function(e,t,r,i){this.notify("element:magnet:contextmenu",e,t,r,i)},dragStart:function(e,t,r){var i=this.getDelegatedView();if(i&&i.can("elementMove")){this.eventData(e,{action:"move",delegatedView:i});var s=i.model.position();i.eventData(e,{initialPosition:s,pointerOffset:s.difference(t,r),restrictedArea:this.paper.getRestrictedArea(i,t,r)})}},dragMagnetStart:function(e,t,r){if(this.can("addLinkFromMagnet")){var i=e.currentTarget,s=this.paper;this.eventData(e,{targetMagnet:i}),e.stopPropagation(),s.options.validateMagnet(this,i,e)?(s.options.magnetThreshold<=0&&this.dragLinkStart(e,i,t,r),this.eventData(e,{action:"magnet"}),this.stopPropagation(e)):this.pointerdown(e,t,r),s.delegateDragEvents(this,e.data)}},drag:function(e,t,r){var i=this.paper,s=i.options.gridSize,l=this.model,f=this.eventData(e),p=f.pointerOffset,n=f.restrictedArea,a=f.embedding,o=ds(t+p.x,s),c=ds(r+p.y,s);l.position(o,c,{restrictedArea:n,deep:!0,ui:!0}),i.options.embeddingMode&&(a||(this.prepareEmbedding(f),a=!0),this.processEmbedding(f,e,t,r)),this.eventData(e,{embedding:a})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var i=this.eventData(e);i.embedding&&this.finalizeEmbedding(i)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,i){var s=this.paper;s.eventData(e).mousemoved>s.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,i)}},{Flags:Ft});gt(Bn.prototype,Zh);var _h={N:"S",S:"N",E:"W",W:"E"},Yh={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Pl(e,t,r){var i=new oe(e.x,t.y);return r.containsPoint(i)&&(i=new oe(t.x,e.y)),i}function wu(e,t){return e["W"===t||"E"===t?"width":"height"]}function Fi(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function Bl(e){return new $e(e.x,e.y,0,0)}function Ol(e){var t=So(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function Ac(e,t){return e.sourceBBox.clone().moveAndExpand(Ol(t))}function Ic(e,t){return e.targetBBox.clone().moveAndExpand(Ol(t))}function Cu(e,t,r){var i=new oe(e.x,t.y),s=new oe(t.x,e.y),l=Fi(e,i),f=Fi(e,s),p=_h[r],n=l===r||l!==p&&(f===p||f!==r)?i:s;return{points:[n],direction:Fi(n,t)}}function sl(e,t,r){var i=Pl(e,t,r);return{points:[i],direction:Fi(i,t)}}function Vh(e,t,r,i){var n,s={},l=[new oe(e.x,t.y),new oe(t.x,e.y)],f=l.filter(function(c){return!r.containsPoint(c)}),p=f.filter(function(c){return Fi(c,e)!==i});if(p.length>0)n=p.filter(function(c){return Fi(e,c)===i}).pop(),s.points=[n=n||p[0]],s.direction=Fi(n,t);else{n=K0(l,f)[0];var a=new oe(t).move(n,-wu(r,i)/2),o=Pl(a,e,r);s.points=[o,a],s.direction=Fi(a,t)}return s}function Hh(e,t,r,i){var s=sl(t,e,i),l=s.points[0];if(r.containsPoint(l)){var f=(s=sl(e,t,r)).points[0];if(i.containsPoint(f)){var p=new oe(e).move(f,-wu(r,Fi(e,f))/2),n=new oe(t).move(l,-wu(i,Fi(t,l))/2),a=new et(p,n).midpoint(),o=sl(e,a,r),c=Cu(a,t,o.direction);s.points=[o.points[0],c.points[0]],s.direction=c.direction}}return s}function xu(e,t,r,i,s){var o,c,y,l={},f=r.union(i).inflate(1),p=f.center().distance(t)>f.center().distance(e),n=p?t:e,a=p?e:t;return s?(o=oe.fromPolar(f.width+f.height,Yh[s],n),o=f.pointNearestToPoint(o).move(o,-1)):o=f.pointNearestToPoint(n).move(n,1),c=Pl(o,a,f),o.round().equals(c.round())?(c=oe.fromPolar(f.width+f.height,mi(o.theta(n))+Math.PI/2,a),y=Pl(o,c=f.pointNearestToPoint(c).move(a,1).round(),f),l.points=p?[c,y,o]:[o,y,c]):l.points=p?[c,o]:[o,c],l.direction=Fi(p?o:c,t),l}function Rl(e,t,r){var i=Ac(r,t),s=Ic(r,t),l=function Uh(e,t){return e.sourceAnchor?e.sourceAnchor:Ac(e,t).center()}(r,t),f=function bc(e,t){return e.targetAnchor?e.targetAnchor:Ic(e,t).center()}(r,t);i=i.union(Bl(l)),s=s.union(Bl(f)),(e=Zt(e).map(oe)).unshift(l),e.push(f);for(var p,n=[],a=0,o=e.length-1;a<o;a++){var c=null,y=e[a],w=e[a+1],T=!!Fi(y,w);if(0===a)a+1===o?i.intersect(s.clone().inflate(1))?c=xu(y,w,i,s):T||(c=Hh(y,w,i,s)):i.containsPoint(w)?c=xu(y,w,i,Bl(w).moveAndExpand(Ol(t))):T||(c=sl(y,w,i));else if(a+1===o){var E=T&&Fi(w,y)===p;s.containsPoint(y)||E?c=xu(y,w,Bl(y).moveAndExpand(Ol(t)),s,p):T||(c=Vh(y,w,s,p))}else T||(c=Cu(y,w,p));c?(Array.prototype.push.apply(n,c.points),p=c.direction):p=Fi(y,w),a+1<o&&n.push(w)}return n}var wc={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!Bt(Rl))throw new Error("Manhattan requires the orthogonal router as default fallback.");return Rl(e,gt({},wc,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function Su(e){this.map={},this.options=e,this.mapGridSize=100}function $o(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function Cc(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function xc(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function Sc(e,t){return e.sourceAnchor?e.sourceAnchor:Cc(e,t).center()}function Mu(e,t,r,i,s){var l=360/r,f=e.theta(function Xh(e,t,r,i){var s=i.step;return new oe(e.x+(t.x-e.x)/r.x*s,e.y+(t.y-e.y)/r.y*s)}(e,t,i,s)),p=Ti(f+l/2);return l*Math.floor(p/l)}function Mc(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function Tc(e,t){if(!e)return t;var r=Math.abs(e),i=Math.round(r/t);return i?t+(r-i*t)/i:r}function ol(e,t){return e.round(t)}function z0(e,t,r){return ol(function Jh(e,t){var r=t.source,i=ds(e.x-r.x,t.x)+r.x,s=ds(e.y-r.y,t.y)+r.y;return new oe(i,s)}(e.clone(),t),r)}function ll(e){return e.clone().toString()}function Nu(e){return new oe(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function Kh(e,t,r,i,s,l,f){for(var c,p=[],n=Nu(s.difference(r)),a=ll(r),o=e[a];o;){var y=Nu((c=t[a]).difference(o));y.equals(n)||(p.unshift(c),n=y),o=e[a=ll(o)]}var w=t[a];return Nu(w.difference(i)).equals(n)||p.unshift(w),p}function kc(e,t){for(var r=1/0,i=0,s=t.length;i<s;i++){var l=e.manhattanDistance(t[i]);l<r&&(r=l)}return r}function Dc(e,t,r,i,s){var l=s.precision,f=s.directionMap,p=e.difference(t.center()),n=an(f)?Object.keys(f):[],a=Zt(r),o=n.reduce(function(c,y){if(a.includes(y)){for(var K,w=f[y],T=new oe(e.x+w.x*(Math.abs(p.x)+t.width),e.y+w.y*(Math.abs(p.y)+t.height)),j=new et(e,T).intersect(t)||[],J=j.length,x=null,z=0;z<J;z++){var O=j[z],U=e.squaredDistance(O);(void 0===K||U>K)&&(K=U,x=O)}if(x){var Q=z0(x,i,l);t.containsPoint(Q)&&(Q=z0(Q.offset(w.x*i.x,w.y*i.y),i,l)),c.push(Q)}}return c},[]);return t.containsPoint(e)||o.push(z0(e,i,l)),o}function Qh(e,t,r,i){var l,f,s=i.precision;l=ol(e instanceof $e?Sc(this,i).clone():e.clone(),s),f=ol(t instanceof $e?function La(e,t){return e.targetAnchor?e.targetAnchor:xc(e,t).center()}(this,i).clone():t.clone(),s);var n,a,o,c,p=function qh(e,t,r){return{source:t.clone(),x:Tc(r.x-t.x,e),y:Tc(r.y-t.y,e)}}(i.step,l,f);if(o=e instanceof $e?Dc(n=l,e,i.startDirections,p,i):[n=l],t instanceof $e?(a=f,c=Dc(f,t,i.endDirections,p,i)):c=[a=f],o=o.filter(function(nr){return!r(nr)}),c=c.filter(function(nr){return!r(nr)}),o.length>0&&c.length>0){for(var y=new $o,w={},T={},E={},j=0,J=o.length;j<J;j++){var K=o[j],x=ll(K);y.add(x,kc(K,c)),w[x]=K,E[x]=0}var U,Q,z=i.previousDirectionAngle,O=void 0===z,ie=i.directions;!function Nc(e,t,r){var i=r.step;Zt(r.directions).forEach(function(s){s.gridOffsetX=s.offsetX/i*t.x,s.gridOffsetY=s.offsetY/i*t.y})}(0,p,i);for(var ne=ie.length,ge=Zt(c).reduce(function(nr,Mt){var nt=ll(Mt);return nr.push(nt),nr},[]),ke=i.maximumLoops;!y.isEmpty()&&ke>0;){var yr,Ne=y.pop(),je=w[Ne],Fe=T[Ne],Ve=E[Ne],st=void 0===Fe,br=je.equals(n);yr=st?O?br?null:Mu(n,je,ne,p,i):z:Mu(Fe,je,ne,p,i);var Xr=o.length===c.length;if(Xr)for(var Ct=0;Ct<o.length;Ct++)if(!o[Ct].equals(c[Ct])){Xr=!1;break}if((!st||!Xr)&&ge.indexOf(Ne)>=0)return i.previousDirectionAngle=yr,Kh(T,w,je,n,a);for(j=0;j<ne;j++){var Nt=(U=ie[j]).angle;if(Q=Mc(yr,Nt),O&&br||!(Q>i.maxAllowedDirectionChange)){var St=z0(je.clone().offset(U.gridOffsetX,U.gridOffsetY),p,s),tr=ll(St);if(!y.isClose(tr)&&!r(St)){if(ge.indexOf(tr)>=0&&!St.equals(a)&&Mc(Nt,Mu(St,a,ne,p,i))>i.maxAllowedDirectionChange)continue;var Rt=Ve+U.cost+(br?0:i.penalties[Q]);(!y.isOpen(tr)||Rt<E[tr])&&(w[tr]=St,T[tr]=je,E[tr]=Rt,y.add(tr,Rt+kc(St,c)))}}}ke--}}return i.fallbackRoute.call(this,n,a,i)}Su.prototype.build=function(e,t){var r=this.options,i=Zt(r.excludeEnds).reduce(function(n,a){var o=t.get(a);if(o){var c=e.getCell(o.id);c&&n.push(c)}return n},[]),s=[],l=e.getCell(t.get("source").id);l&&(s=Qa(s,l.getAncestors().map(function(n){return n.id})));var f=e.getCell(t.get("target").id);f&&(s=Qa(s,f.getAncestors().map(function(n){return n.id})));var p=this.mapGridSize;return e.getElements().reduce(function(n,a){var o=Zt(r.excludeTypes).includes(a.get("type")),c=i.find(function(z){return z.id===a.id}),y=s.includes(a.id);if(!(o||c||y))for(var T=a.getBBox().moveAndExpand(r.paddingBox),E=T.origin().snapToGrid(p),j=T.corner().snapToGrid(p),J=E.x;J<=j.x;J+=p)for(var K=E.y;K<=j.y;K+=p){var x=J+"@"+K;n[x]=n[x]||[],n[x].push(T)}return n},this.map),this},Su.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Zt(this.map[t]).every(function(r){return!r.containsPoint(e)})},$o.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=ea(this.items,e,function(i){return this.values[i]}.bind(this));this.items.splice(r,0,e)},$o.prototype.remove=function(e){this.hash[e]=this.CLOSE},$o.prototype.isOpen=function(e){return this.hash[e]===this.OPEN},$o.prototype.isClose=function(e){return this.hash[e]===this.CLOSE},$o.prototype.isEmpty=function(){return 0===this.items.length},$o.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};var Tu=function(e,t,r){return function ef(e,t,r){(function $h(e){if(e.directions=Hr(e,"directions"),e.penalties=Hr(e,"penalties"),e.paddingBox=Hr(e,"paddingBox"),e.padding=Hr(e,"padding"),e.padding){var t=So(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Zt(e.directions).forEach(function(r){var i=new oe(0,0),s=new oe(r.offsetX,r.offsetY);r.angle=Ti(i.theta(s))})})(t),r.options.perpendicular=!!t.perpendicular;var f,i=Cc(r,t),s=xc(r,t),l=Sc(r,t);if("function"==typeof t.isPointObstacle)f=t.isPointObstacle;else{var p=new Su(t);p.build(r.paper.model,r.model),f=function(z){return!p.isPointAccessible(z)}}for(var c,y,n=Zt(e).map(oe),a=[],o=l,w=0,T=n.length;w<=T;w++){var E=null;if(y=c||i,!(c=n[w])&&(c=s,(!r.model.get("source").id||!r.model.get("target").id)&&Bt(t.draggingRoute))){var J=y===i?l:y,K=c.origin();E=t.draggingRoute.call(r,J,K,t)}if(null===(E=E||Qh.call(r,y,c,f,t)))return t.fallbackRouter(e,t,r);var x=E[0];x&&x.equals(o)&&E.shift(),o=E[E.length-1]||o,Array.prototype.push.apply(a,E)}return a}(e,gt({},wc,t),r)},tf={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var i=e.theta(t),s=[],l={x:t.x,y:e.y},f={x:e.x,y:t.y};if(i%180>90){var p=l;l=f,f=p}var n=i%90<45?l:f,a=new et(e,n),o=90*Math.ceil(i/90),c=oe.fromPolar(a.squaredLength(),mi(o+135),n),y=new et(t,c),w=a.intersection(y),T=w||t,j=360/r.directions.length,J=(w?T:e).theta(t),K=Ti(J+j/2),x=j*Math.floor(K/j);return r.previousDirectionAngle=x,T&&s.push(T.round()),s.push(t),s}},zc={normal:function(e,t,r){return e},oneSide:function(e,t,r){var a,o,c,i=t.side||"bottom",s=So(t.padding||40),l=r.sourceBBox,f=r.targetBBox,p=l.center(),n=f.center();switch(i){case"bottom":c=1,a="y",o="height";break;case"top":c=-1,a="y",o="height";break;case"left":c=-1,a="x",o="width";break;case"right":c=1,a="x",o="width";break;default:throw new Error("Router: invalid side")}return p[a]+=c*(l[o]/2+s[i]),n[a]+=c*(f[o]/2+s[i]),c*(p[a]-n[a])>0?n[a]=p[a]:p[a]=n[a],[p].concat(e,n)},orthogonal:Rl,manhattan:Tu,metro:function(e,t,r){if(!Bt(Tu))throw new Error("Metro requires the manhattan router.");return Tu(e,gt({},tf,t),r)}},Lc=["arc","gap","cubic"],sf=["smooth"],Gl=1/3,jl=2/3;function ku(e,t,r){var i=[].concat(e,r,t);return i.reduce(function(s,l,f){var p=i[f+1];return null!=p&&(s[f]=js(l,p)),s},[])}function Bc(e,t){return js(e,t).squaredLength()}function Oc(e,t,r,i){var l,s=new it;return l=it.createSegment("M",e[0].start),s.appendSegment(l),Zt(e).forEach(function(f,p){if(f.isJump){var n,a,o,c;if("arc"===r){n=-90,a=f.start.difference(f.end);var y=Number(a.x<0||0===a.x&&a.y<0);y&&(n+=180);var E,w=f.midpoint(),T=new et(w,f.end).rotate(w,n);o=(E=new et(f.start,w)).pointAt(2/3).rotate(f.start,n),c=T.pointAt(1/3).rotate(T.end,-n),l=it.createSegment("C",o,c,T.end),s.appendSegment(l),E=new et(w,f.end),o=T.pointAt(1/3).rotate(T.end,n),c=E.pointAt(1/3).rotate(f.end,-n),l=it.createSegment("C",o,c,f.end),s.appendSegment(l)}else if("gap"===r)l=it.createSegment("M",f.end),s.appendSegment(l);else if("cubic"===r){n=f.start.theta(f.end);var j=.6*t,J=1.35*t;a=f.start.difference(f.end),(y=Number(a.x<0||0===a.x&&a.y<0))&&(J*=-1),o=oe(f.start.x+j,f.start.y+J).rotate(f.start,n),c=oe(f.end.x-j,f.end.y+J).rotate(f.end,n),l=it.createSegment("C",o,c,f.end),s.appendSegment(l)}}else{var K=e[p+1];0==i||!K||K.isJump?(l=it.createSegment("L",f.end),s.appendSegment(l)):function uf(e,t,r,i,s){var w,l=r.distance(i)/2,f=r.distance(s)/2,p=-Math.min(e,l),n=-Math.min(e,f),a=r.clone().move(i,p).round(),o=r.clone().move(s,n).round(),c=new oe(Gl*a.x+jl*r.x,jl*r.y+Gl*a.y),y=new oe(Gl*o.x+jl*r.x,jl*r.y+Gl*o.y);w=it.createSegment("L",a),t.appendSegment(w),w=it.createSegment("C",c,y,o),t.appendSegment(w)}(i,s,f.end,f.start,K.end)}}),s}var Ea={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},ui={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},zu=function(e,t,r,i,s){void 0===r&&(r=[]),void 0===i&&(i={});var l=Boolean(i.raw),f=i.direction;void 0===f&&(f=Ea.AUTO);var p=i.precision;void 0===p&&(p=3);var n={coeff:i.distanceCoefficient||.6,angleTangentCoefficient:i.angleTangentCoefficient||80,tau:i.tension||.5,sourceTangent:i.sourceTangent?new oe(i.sourceTangent):null,targetTangent:i.targetTangent?new oe(i.targetTangent):null};n.sourceDirection="string"==typeof i.sourceDirection?i.sourceDirection:"number"==typeof i.sourceDirection?new oe(1,0).rotate(null,i.sourceDirection):i.sourceDirection?new oe(i.sourceDirection).normalize():null,n.targetDirection="string"==typeof i.targetDirection?i.targetDirection:"number"==typeof i.targetDirection?new oe(1,0).rotate(null,i.targetDirection):i.targetDirection?new oe(i.targetDirection).normalize():null;var o,j,a=[e].concat(r.map(function(ge){return new oe(ge)}),[t]);if(n.sourceTangent)o=n.sourceTangent;else{var c=function mf(e,t,r,i){if(i.sourceDirection)switch(i.sourceDirection){case ui.UP:return new oe(0,-1);case ui.DOWN:return new oe(0,1);case ui.LEFT:return new oe(-1,0);case ui.RIGHT:return new oe(1,0);case ui.AUTO:return Gc(e,t);case ui.CLOSEST_POINT:return Zc(0,t);case ui.OUTWARDS:return Wc(e,t);default:return i.sourceDirection}switch(r){case Ea.HORIZONTAL:return function df(e,t,r){var i=e.sourceBBox;return"left"===(i.width&&i.height?i.sideNearestToPoint(t[0]):i.x>t[1].x?"right":"left")?new oe(-1,0):new oe(1,0)}(e,t);case Ea.VERTICAL:return function vf(e,t,r){var i=e.sourceBBox;return"top"===(i.width&&i.height?i.sideNearestToPoint(t[0]):i.y>t[1].y?"bottom":"top")?new oe(0,-1):new oe(0,1)}(e,t);case Ea.CLOSEST_POINT:return Zc(0,t);case Ea.OUTWARDS:return Wc(e,t);default:return Gc(e,t)}}(s,a,f,n),y=a[0].distance(a[1])*n.coeff,T=Lu(c,a[1].difference(a[0]).normalize());if(T>Math.PI/4){var E=y+(T-Math.PI/4)*n.angleTangentCoefficient;o=c.clone().scale(E,E)}else o=c.clone().scale(y,y)}if(n.targetTangent)j=n.targetTangent;else{var J=function yf(e,t,r,i){if(i.targetDirection)switch(i.targetDirection){case ui.UP:return new oe(0,-1);case ui.DOWN:return new oe(0,1);case ui.LEFT:return new oe(-1,0);case ui.RIGHT:return new oe(0,1);case ui.AUTO:return jc(e,t);case ui.CLOSEST_POINT:return Fc(0,t);case ui.OUTWARDS:return _c(e,t);default:return i.targetDirection}switch(r){case Ea.HORIZONTAL:return function gf(e,t,r){var i=e.targetBBox;return"left"===(i.width&&i.height?i.sideNearestToPoint(t[t.length-1]):i.x>t[t.length-2].x?"left":"right")?new oe(-1,0):new oe(1,0)}(e,t);case Ea.VERTICAL:return function pf(e,t,r){var i=e.targetBBox;return"top"===(i.width&&i.height?i.sideNearestToPoint(t[t.length-1]):i.y>t[t.length-2].y?"top":"bottom")?new oe(0,-1):new oe(0,1)}(e,t);case Ea.CLOSEST_POINT:return Fc(0,t);case Ea.OUTWARDS:return _c(e,t);default:return jc(e,t)}}(s,a,f,n),K=a.length-1,x=a[K-1].distance(a[K])*n.coeff,O=Lu(J,a[K-1].difference(a[K]).normalize());if(O>Math.PI/4){var U=x+(O-Math.PI/4)*n.angleTangentCoefficient;j=J.clone().scale(U,U)}else j=J.clone().scale(x,x)}var Q=function Uc(e,t,r,i){for(var s=i.tau,l=i.coeff,f=[],p=[],n=[],a=e.length-1,o=0;o<a;o++)f[o]=e[o].distance(e[o+1]);p[0]=t,p[a]=r;for(var c=1;c<a;c++){var y=void 0,w=void 0;y=1===c?e[c-1].clone().offset(p[c-1].x,p[c-1].y):e[c-1].clone(),w=c===a-1?e[c+1].clone().offset(p[c+1].x,p[c+1].y):e[c+1].clone();var z,T=y.difference(e[c]).normalize(),E=w.difference(e[c]).normalize(),j=Lu(T,E),J=(Math.PI-j)/2,K=void 0,x=Yc(T,E);z=Yc(e[c].difference(e[c+1]),e[c].difference(e[c-1])),x<0&&(J=-J),j<Math.PI/2&&(J<0&&z<0||J>0&&z>0)&&(J-=Math.PI),Af(K=E.clone(),J);var O=K.clone(),U=K.clone(),Q=f[c-1]*l,ie=f[c]*l;O.scale(Q,Q),U.scale(ie,ie),p[c]=[O,U]}for(var ne=0;ne<a;ne++){var ge,ke;ge=0===ne?e[ne+1].difference(p[ne].x/s,p[ne].y/s):e[ne+1].difference(p[ne][1].x/s,p[ne][1].y/s),ke=ne===a-1?e[ne].clone().offset(p[ne+1].x/s,p[ne+1].y/s):e[ne].difference(p[ne+1][0].x/s,p[ne+1][0].y/s),n[ne]=[ge,e[ne],e[ne+1],ke]}return n}(a,o,j,n),ie=Q.map(function(ge){return function Vc(e,t){var r=t.tau,i=new oe;i.x=e[1].x+(e[2].x-e[0].x)/(6*r),i.y=e[1].y+(e[2].y-e[0].y)/(6*r);var s=new oe;return s.x=e[2].x+(e[3].x-e[1].x)/(6*r),s.y=e[2].y+(e[3].y-e[1].y)/(6*r),new or(e[1],i,s,e[2])}(ge,n)}),ne=new it(ie).round(p);return l?ne:ne.serialize()};function Gc(e,t,r){var i=e.sourceBBox;switch(i.sideNearestToPoint(i.width&&i.height?t[0]:t[1])){case"top":return new oe(0,-1);case"bottom":return new oe(0,1);case"right":return new oe(1,0);case"left":return new oe(-1,0)}}function jc(e,t,r){var i=e.targetBBox;switch(i.sideNearestToPoint(i.width&&i.height?t[t.length-1]:t[t.length-2])){case"top":return new oe(0,-1);case"bottom":return new oe(0,1);case"right":return new oe(1,0);case"left":return new oe(-1,0)}}function Zc(e,t,r){return t[1].difference(t[0]).normalize()}function Fc(e,t,r){var i=t.length-1;return t[i-1].difference(t[i]).normalize()}function Wc(e,t,r){var s=e.sourceBBox.center();return t[0].difference(s).normalize()}function _c(e,t,r){var s=e.targetBBox.center();return t[t.length-1].difference(s).normalize()}function Af(e,t){var r=Math.cos(t),i=Math.sin(t),l=i*e.x+r*e.y;e.x=r*e.x-i*e.y,e.y=l}function Lu(e,t){var r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function Yc(e,t){return e.x*t.y-e.y*t.x}zu.Directions=Ea,zu.TangentDirections=ui;var Hc={jumpover:function(e,t,r,i){!function Du(e){var t=e.paper,r=t._jumpOverUpdateList;if(null==r){r=t._jumpOverUpdateList=[];var i=t.model;i.on("batch:stop",function(){this.hasActiveBatch()||function Pc(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){var i=t[r],s=i.getFlag(i.constructor.Flags.CONNECTOR);i.requestUpdate(s)}}(t)}),i.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}(this);var s=i.raw,l=i.size||5,f=i.jump&&(""+i.jump).toLowerCase(),p=i.radius||0,n=i.ignoreConnectors||sf;-1===Lc.indexOf(f)&&(f=Lc[0]);var a=this.paper,c=a.model.getLinks();if(1===c.length)return Oc(ku(e,t,r),l,f,p);var y=this.model,w=c.indexOf(y),T=a.options.defaultConnector||{},E=c.filter(function(O,U){var Q=O.get("connector")||T;return!(Zt(n).includes(Q.name)||U>w&&"jumpover"===Q.name)}),j=E.map(function(O){return a.findViewByModel(O)}),J=ku(e,t,r),K=j.map(function(O){return null==O?[]:O===this?J:ku(O.sourcePoint,O.targetPoint,O.route)},this),x=J.reduce(function(O,U){var Q=E.reduce(function(ie,ne,ge){if(ne!==y){var ke=function of(e,t){return Zt(t).reduce(function(r,i){var s=e.intersection(i);return s&&r.push(s),r},[])}(U,K[ge]);ie.push.apply(ie,ke)}return ie},[]).sort(function(ie,ne){return Bc(U.start,ie)-Bc(U.start,ne)});return Q.length>0?O.push.apply(O,function lf(e,t,r){return t.reduce(function(i,s,l){if(!0===s.skip)return i;var f=i.pop()||e,p=Ha(s).move(f.start,-r),n=Ha(s).move(f.start,+r),a=t[l+1];if(null!=a){var o=n.distance(a);o<=r&&(n=a.move(f.start,o),a.skip=!0)}else if(p.distance(f.end)<2*r+1)return i.push(f),i;if(n.distance(f.start)<2*r+1)return i.push(f),i;var w=js(p,n);return w.isJump=!0,i.push(js(f.start,p),w,js(n,f.end)),i},[])}(U,Q,l)):O.push(U),O},[]),z=Oc(x,l,f,p);return s?z:z.serialize()},normal:function(e,t,r,i){var s=i&&i.raw,l=[e].concat(r).concat([t]),f=new Pr(l),p=new it(f);return s?p:p.serialize()},rounded:function(e,t,r,i){i||(i={});var p,s=i.radius||10,l=i.raw,f=new it;p=it.createSegment("M",e),f.appendSegment(p);for(var o,c,y,w,T,E,j,J,K,x,z,n=1/3,a=2/3,O=0,U=r.length;O<U;O++)o=new oe(r[O]),c=r[O-1]||e,y=r[O+1]||t,w=T||o.distance(c)/2,T=o.distance(y)/2,E=-Math.min(s,w),j=-Math.min(s,T),J=o.clone().move(c,E).round(),K=o.clone().move(y,j).round(),x=new oe(n*J.x+a*o.x,a*o.y+n*J.y),z=new oe(n*K.x+a*o.x,a*o.y+n*K.y),p=it.createSegment("L",J),f.appendSegment(p),p=it.createSegment("C",x,z,K),f.appendSegment(p);return p=it.createSegment("L",t),f.appendSegment(p),l?f:f.serialize()},smooth:function(e,t,r,i){var l,s=i&&i.raw;if(r&&0!==r.length){var f=[e].concat(r).concat([t]),p=or.throughPoints(f);l=new it(p)}else{var n;if(l=new it,n=it.createSegment("M",e),l.appendSegment(n),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var a=(e.x+t.x)/2;n=it.createSegment("C",a,e.y,a,t.y,t.x,t.y),l.appendSegment(n)}else{var o=(e.y+t.y)/2;n=it.createSegment("C",e.x,o,t.x,o,t.x,t.y),l.appendSegment(n)}}return s?l:l.serialize()},curve:zu},zt={RENDER:"RENDER",UPDATE:"UPDATE",TOOLS:"TOOLS",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},L0=Lt.extend({className:function(){var e=Lt.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Lt.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[zt.RENDER],attrs:[zt.UPDATE],router:[zt.UPDATE],connector:[zt.CONNECTOR],smooth:[zt.UPDATE],manhattan:[zt.UPDATE],toolMarkup:[zt.LEGACY_TOOLS],labels:[zt.LABELS],labelMarkup:[zt.LABELS],vertices:[zt.VERTICES,zt.UPDATE],vertexMarkup:[zt.VERTICES],source:[zt.SOURCE,zt.UPDATE],target:[zt.TARGET,zt.UPDATE]},initFlag:[zt.RENDER,zt.SOURCE,zt.TARGET,zt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,zt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,zt.SOURCE)}if(this.hasFlag(e,zt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,zt.TARGET)}var r=this,i=r.paper,s=r.sourceView,l=r.targetView;if(i&&(s&&!i.isViewMounted(s)||l&&!i.isViewMounted(l)))return e;if(this.hasFlag(e,zt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),this.removeFlag(e,[zt.RENDER,zt.UPDATE,zt.VERTICES,zt.LABELS,zt.TOOLS,zt.LEGACY_TOOLS,zt.CONNECTOR]);var f=!1;this.hasFlag(e,zt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,zt.VERTICES));var n=this.model,a=n.attributes,o=this.hasFlag(e,zt.LABELS),c=this.hasFlag(e,zt.LEGACY_TOOLS);o&&(this.onLabelsChange(n,a.labels,t),e=this.removeFlag(e,zt.LABELS),f=!0),c&&(this.renderTools(),e=this.removeFlag(e,zt.LEGACY_TOOLS));var y=this.hasFlag(e,zt.UPDATE),w=this.hasFlag(e,zt.CONNECTOR);return(y||w)&&(y?t.translateBy&&n.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[zt.UPDATE,zt.TOOLS,zt.CONNECTOR]),o=!1,c=!1,f=!0),o&&this.updateLabelPositions(),c&&this.updateToolsPosition(),f&&this.updateHighlighters(),this.hasFlag(e,zt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,zt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(zt.UPDATE),e)},isLabelsRenderRequired:function(e){void 0===e&&(e={});var t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],i=r.length;if(i>1&&t[r[1]]){if(2===i)return"markup"in Object(e.propertyValue);if("markup"!==r[2])return!1}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=be(e);Array.isArray(t)||(t=[t]);for(var r=this._V,i=0,s=t.length;i<s;i++){var l=t[i],f=l.attr("class");f&&(f=w0(f),r[Se.camelCase(f)]=l)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if("string"==typeof e)return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=be(e),r=document.createDocumentFragment();if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)r.appendChild(t[i].node);else r.appendChild(t.node);return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment&&e.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var r,i=t.childNodes;return(r=i.length>1||"G"!==i[0].nodeName.toUpperCase()?be("g").append(t):be(i[0])).addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},i=this._labelSelectors={},s=this.model,l=s.attributes.labels||[],f=l.length;if(0===f)return t&&t.remove(),this;t?t.empty():(t=e.labels=be("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(Kn(Hr(this,"className"))),t.attr("model-id",s.id)));for(var p=0;p<f;p++){var o,c,a=this._normalizeLabelMarkup(this._getLabelMarkup(l[p].markup));if(a)o=a.node,c=a.selectors;else{var w=this._normalizeLabelMarkup(this._getLabelMarkup(s._builtins.defaultLabel.markup)),T=s._getDefaultLabel(),j=this._normalizeLabelMarkup(this._getLabelMarkup(T.markup))||w;o=j.node,c=j.selectors}o.setAttribute("label-idx",p),t.append(o),r[p]=o;var J=this.selector;if(c[J])throw new Error("dia.LinkView: ambiguous label root selector.");c[J]=o,i[p]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){var e=this,t=e.el,r=e.paper,i=e.model,l=e.options,f=e._V.labels;if(f&&i.hasLabels()){var p=f.node;l.labelsLayer?r.getLayerView(l.labelsLayer).insertSortedNode(p,i.get("z")):p.parentNode!==t&&t.appendChild(p)}},unmountLabels:function(){var r=this._V;if(r){var i=r.labels;i&&this.options.labelsLayer&&i.remove()}},onMount:function(){this.mountLabels()},unmount:function(){Lt.prototype.unmount.apply(this,arguments),this.unmountLabels()},findLabelNode:function(e,t){var r=this._labelCache[e];if(!r)return null;var l=this.findBySelector(t,r,this._labelSelectors[e])[0];return void 0===l&&(l=null),l},_mergeLabelAttrs:function(e,t,r,i){return null===t?null:void 0===t?null===r?null:void 0===r?e?void 0:i:e?r:Yn({},i,r):e?Yn({},r,t):Yn({},i,r,t)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),s=e._builtins.defaultLabel.attrs,l=e._getDefaultLabel(),f=l.markup,p=l.attrs,n=0,a=t.length;n<a;n++){var o=this._labelCache[n];o.setAttribute("cursor",r?"move":"default");var c=this._labelSelectors[n],y=t[n],E=this._mergeLabelAttrs(y.markup||f,y.attrs,p,s);this.updateDOMSubtreeAttributes(o,E,{rootBBox:new $e(y.size),selectors:c})}return this},renderTools:function(){if(!this._V.linkTools)return this;var i,e=Se(this._V.linkTools.node).empty(),t=li(this.model.get("toolMarkup")||this.model.toolMarkup),r=be(t());return e.append(r.node),this._toolCache=r,this.options.doubleLinkTools&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=li(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),i=be(t())):i=r.clone(),e.append(i.node),this._tool2Cache=i),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Se(this._V.markerVertices.node).empty(),t=li(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,i){e.append(be(t(gt({idx:i},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Se(this._V.markerArrowheads.node);e.empty();var t=li(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=be(t({end:"source"})),this._V.targetArrowhead=be(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){var r=this.model,i=r.vertices(),s=[this.sourceAnchor].concat(i,[this.targetAnchor]),l=s.length,f=new Pr(s);f.simplify({threshold:.001});var p=f.points.map(function(a){return a.toJSON()}),n=p.length;return l===n?0:(r.vertices(p.slice(1,n-1),e),l-n)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new oe(this.sourceAnchor);case"target":return new oe(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new oe(this.sourcePoint);case"target":return new oe(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var i=this.route,s=this.path;if(i&&s){var l=new Pr(i);l.translate(e,t),this.route=l.points,this._translateConnectionPoints(e,t),s.translate(e,t),this.updateDOM()}},updateDOM:function(){var t=this,r=t.el,i=t.model,s=t.selectors;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(r,i.attr(),{selectors:s}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){var r=this.model.vertices(),i=this.findAnchors(r),s=this.sourceAnchor=i.source,l=this.targetAnchor=i.target,f=this.findRoute(r);this.route=f;var p=this.findConnectionPoints(f,s,l);this.sourcePoint=p.source,this.targetPoint=p.target},updatePath:function(){var e=this,t=e.route,r=e.sourcePoint,i=e.targetPoint,s=this.findMarkerPoints(t,r,i),l=this.findPath(t,s.source||r,s.target||i);this.path=l},findMarkerPoints:function(e,t,r){var f,p,i=e[0],s=e[e.length-1],l=this._markerCache;return this._V.markerSource&&(l.sourceBBox=l.sourceBBox||this._V.markerSource.getBBox(),f=oe(t).move(i||r,l.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(l.targetBBox=l.targetBBox||this._V.markerTarget.getBBox(),p=oe(r).move(s||t,l.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),l.sourcePoint=f||t.clone(),l.targetPoint=p||r.clone(),{source:f,target:p}},findAnchorsOrdered:function(e,t,r,i){var s,l,f,p,n=this.model,a=n.get(e),o=n.get(r),c=this.getEndView(e),y=this.getEndView(r),w=this.getEndMagnet(e),T=this.getEndMagnet(r);c?(f=t?new oe(t):y?T:new oe(o),s=this.getAnchor(a.anchor,c,w,f,e)):s=new oe(a),y?(p=new oe(i||s),l=this.getAnchor(o.anchor,y,T,p,r)):l=new oe(o);var E={};return E[e]=s,E[r]=l,E},findAnchors:function(e){var t=this.model,r=e[0],i=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",i,"source",r):this.findAnchorsOrdered("source",r,"target",i)},findConnectionPoints:function(e,t,r){var c,y,w,J,i=e[0],s=e[e.length-1],l=this.model,f=l.get("source"),p=l.get("target"),n=this.sourceView,a=this.targetView,o=this.paper.options;if(n&&!n.isNodeConnection(this.sourceMagnet)){c=this.sourceMagnet||n.el;var T=f.connectionPoint||o.defaultConnectionPoint,j=new et(i||r,t);w=this.getConnectionPoint(T,n,c,j,"source")}else w=t;if(a&&!a.isNodeConnection(this.targetMagnet)){y=this.targetMagnet||a.el;var K=p.connectionPoint||o.defaultConnectionPoint,z=new et(s||t,r);J=this.getConnectionPoint(K,a,y,z,"target")}else J=r;return{source:w,target:J}},getAnchor:function(e,t,r,i,s){var p,l=t.isNodeConnection(r),f=this.paper.options;if(e||(e=l?f.defaultLinkAnchor:f.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:f.defaultAnchor),!e)throw new Error("Anchor required.");if("function"==typeof e)p=e;else{var n=e.name;if("function"!=typeof(p=f[l?"linkAnchorNamespace":"anchorNamespace"][n]))throw new Error("Unknown anchor: "+n)}var o=p.call(this,t,r,i,e.args||{},s,this);return o?o.round(this.decimalsRounding):new oe},getConnectionPoint:function(e,t,r,i,s){var l,a,f=i.end,p=this.paper.options;if("function"==typeof p.linkConnectionPoint&&(l=p.linkConnectionPoint(this,t,r===t.el?void 0:r,i.start,s)))return l;if(!e)return f;if("function"==typeof e)a=e;else{var o=e.name;if("function"!=typeof(a=p.connectionPointNamespace[o]))throw new Error("Unknown connection point: "+o)}return(l=a.call(this,i,t,r,e.args||{},s,this))?l.round(this.decimalsRounding):f},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_normalizeLabelPosition:function(e){return"number"==typeof e?{distance:e,offset:null,angle:0,args:null}:e},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var s=t._builtins.defaultLabel.position,l=t._getDefaultLabel(),f=this._normalizeLabelPosition(l.position),p=Yn({},s,f),n=0,a=r.length;n<a;n++){var o=this._labelCache[n];if(o){var y=this._normalizeLabelPosition(r[n].position),w=Yn({},p,y),T=this._getLabelTransformationMatrix(w);o.setAttribute("transform",be.matrixToTransformString(T)),this._cleanLabelMatrices(n)}}return this},_cleanLabelMatrices:function(e){var r=this.metrics,s=this._labelSelectors[e];if(s)for(var l in s){var p=s[l].id;p&&p in r&&delete r[p].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var i=this.getPointAtLength(t);this._toolCache.attr("transform","translate("+i.x+", "+i.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength?(i=this.getPointAtLength(r-(this.options.doubleLinkToolsOffset||t)),this._tool2Cache.attr("transform","translate("+i.x+", "+i.y+") "+e),this._tool2Cache.attr("visibility","visible")):this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===Se.css(this._V.markerArrowheads.node,"display"))return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){var i=this.paper,s=e+"View",l=this.model.get(e),f=l&&l.id;if(!f)return this[s]=null,this.updateEndMagnet(e),!0;var p=i.getModelById(f);if(!p)throw new Error("LinkView: invalid "+e+" cell.");var n=p.findView(i);return!!n&&(this[s]=n,this.updateEndMagnet(e),!0)},updateEndMagnet:function(e){var t=e+"Magnet",r=this.getEndView(e);if(r){var i=r.getMagnetFromLinkEnd(this.model.get(e));i===r.el&&(i=null),this[t]=i}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=Zt(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionAngle:function(e){return(this.model.label(e).position||{}).angle||0},_getLabelPositionArgs:function(e){return(this.model.label(e).position||{}).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(e,t){return null===e?null:void 0===e?null===t?null:t:Yn({},t,e)},addLabel:function(e,t,r,i){var s,l,p,f=0;"number"!=typeof e?(s=e.x,l=e.y,"number"==typeof t?(f=t,p=r):p=t):(s=e,l=t,"number"==typeof r?(f=r,p=i):p=r);var n=this._getDefaultLabelPositionArgs(),o=this._mergeLabelPositionArgs(p,n),c={position:this.getLabelPosition(s,l,f,o)};return this.model.insertLabel(-1,c,p),-1},addVertex:function(e,t,r){var i="number"!=typeof e,s=i?e.x:e,l=i?e.y:t,f=i?t:r,p={x:s,y:l},n=this.getVertexIndex(s,l);return this.model.insertVertex(n,p,f),n},sendToken:function(e,t,r){var s,l,f;an(t)?(s=t.duration,l="reverse"===t.direction,f=t.connection):(s=t,l=!1,f=null);var p={dur:(s=s||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};l&&(p.keyPoints="1;0",p.keyTimes="0;1");var a,n=be(e);if("string"==typeof f)a=this.findBySelector(f,this.el,this.selectors)[0];else{var o=this._V;a=o.connection?o.connection.node:this.el.querySelector("path")}if(!(a instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");n.appendTo(this.paper.cells).animateAlongPath(p,a),setTimeout(function i(c,y){return function(){c.remove(),"function"==typeof y&&y()}}(n,r),s)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||zc,r=this.model.router(),i=this.paper.options.defaultRouter;if(!r){if(!i)return e.map(oe);r=i}var s=Bt(r)?r:t[r.name];if(!Bt(s))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');return s.call(this,e,r.args||{},this)||e.map(oe)},findPath:function(e,t,r){var i=this.paper.options.connectorNamespace||Hc,s=this.model.connector();s||(s=this.paper.options.defaultConnector||{});var f=Bt(s)?s:i[s.name];if(!Bt(f))throw new Error('dia.LinkView: unknown connector: "'+s.name+'".');var p=Di(s.args||{});p.raw=!0;var n=f.call(this,t,r,e,p,this);return"string"==typeof n&&(n=new it(be.normalizePathData(n))),n},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Qn(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,i){var f,s={},l=0;"number"==typeof r?(l=r,f=i):f=r,f&&(s.args=f);var E,j,p=!(f&&f.absoluteDistance),n=f&&f.absoluteDistance&&f.reverseDistance,a=f&&f.absoluteOffset,o=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},y=new oe(e,t),w=o.closestPointT(y,c),T=o.lengthAtT(w,c);if(p&&(T=T/this.getConnectionLength()||0),n&&(T=-1*(this.getConnectionLength()-T)||1),s.distance=T,a||(E=o.tangentAtT(w)),E)j=E.pointOffset(y);else{var J=o.pointAtT(w),K=y.difference(J);j={x:K.x,y:K.y}}return s.offset=j,s.angle=l,s},_getLabelTransformationMatrix:function(e){var t,r=0,i={};if("number"==typeof e)t=e;else{if("number"!=typeof e.distance)throw new Error("dia.LinkView: invalid label position distance.");i=e.args||{},t=e.distance,r=e.angle||0}var s=t>0&&t<=1,l=0,f={x:0,y:0};if(e.offset){var p=e.offset;"number"==typeof p&&(l=p),p.x&&(f.x=p.x),p.y&&(f.y=p.y)}var E,n=0!==f.x||0!==f.y||0===l,a=i.keepGradient,o=i.ensureLegibility,c=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},w=s?t*this.getConnectionLength():t,T=c.tangentAtLength(w,y),j=r;if(T){if(n)(E=T.start).offset(f);else{var J=T.clone();J.rotate(T.start,-90),J.setLength(l),E=J.end}a&&(j=T.angle()+r,o&&(j=Ti((j+90)%180-90)))}else E=c.start,n&&E.offset(f);return be.createSVGMatrix().translate(E.x,E.y).rotate(j)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new oe(t.e,t.f)},getVertexIndex:function(e,t){for(var i=this.model.vertices(),s=this.getClosestPointLength(new oe(e,t)),l=0,f=i.length;l<f&&!(s<this.getClosestPointLength(i[l]));l++);return l},notifyPointerdown:function(t,r,i){Lt.prototype.pointerdown.call(this,t,r,i),this.notify("link:pointerdown",t,r,i)},notifyPointermove:function(t,r,i){Lt.prototype.pointermove.call(this,t,r,i),this.notify("link:pointermove",t,r,i)},notifyPointerup:function(t,r,i){this.notify("link:pointerup",t,r,i),Lt.prototype.pointerup.call(this,t,r,i)},pointerdblclick:function(e,t,r){Lt.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){Lt.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){Lt.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){switch(this.notifyPointerdown(e,t,r),e.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(e,t,r);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(e,t,r);case"marker-arrowhead":return void this.dragArrowheadStart(e,t,r);case"connection":case"connection-wrap":return void this.dragConnectionStart(e,t,r);case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var i=this._dragData;switch(i&&this.eventData(e,i),this.eventData(e).action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r)}i&&gt(i,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var i=this._dragData;switch(i&&(this.eventData(e,i),this._dragData=null),this.eventData(e).action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){Lt.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Lt.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Lt.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Lt.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,i){Lt.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,i)},onevent:function(e,t,r,i){var s=be(e.target).findParentByClass("link-tool",this.el);if(s){if(e.stopPropagation(),this.can("useLinkTools")){if("remove"===t)return void this.model.remove({ui:!0});this.notify(t,e,r,i)}this.notifyPointerdown(e,r,i),this.paper.delegateDragEvents(this,e.data)}else Lt.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r),this.eventData(e).stopPropagation&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var i=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){var s=parseInt(e.currentTarget.getAttribute("label-idx"),10),l=this._getLabelPositionAngle(s),f=this._getLabelPositionArgs(s),p=this._getDefaultLabelPositionArgs(),n=this._mergeLabelPositionArgs(f,p);this.eventData(e,{action:"label-move",labelIdx:s,positionAngle:l,positionArgs:n,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var s=parseInt(e.target.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:s})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var s=parseInt(e.target.getAttribute("idx"),10);this.model.removeVertex(s)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var s=e.target.getAttribute("end"),l=this.startArrowheadMove(s,{ignoreBackwardsCompatibility:!0});this.eventData(e,l)}},dragStart:function(e,t,r){!this.can("linkMove")||this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var i=this.eventData(e),s={position:this.getLabelPosition(t,r,i.positionAngle,i.positionArgs)};this.paper.options.snapLabels&&delete s.position.offset,this.model.label(i.labelIdx,s)},dragVertex:function(e,t,r){var i=this.eventData(e);this.model.vertex(i.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?this._snapArrowhead(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var i=this.eventData(e);this.model.translate(t-i.dx,r-i.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var i=this.eventData(e),s=this.paper;s.options.snapLinks?this._snapArrowheadEnd(i):this._connectArrowheadEnd(i,t,r),s.linkAllowed(this)?(this._finishEmbedding(i),this._notifyConnectEvent(i,e)):this._disallow(i),this._afterArrowheadMove(i)},dragEnd:function(){},_disallow:function(e){"remove"===e.whenNotAllowed?this.model.remove({ui:!0}):this.model.set(e.arrowhead,e.initialEnd,{ui:!0})},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,i=e.initialEnd,s=this.model.prop(r);if(s&&!vn.endsEqual(i,s)){var f=this.paper;i.id&&this.notify("link:disconnect",t,f.findViewByModel(i.id),e.initialMagnet,r),s.id&&this.notify("link:connect",t,f.findViewByModel(s.id),e.magnetUnderPointer,r)}},_snapArrowhead:function(e,t,r){var s=this.paper,l=s.options,f=l.snapLinks,p=l.connectionStrategy,n=this.eventData(e),a=f.radius||50,o=s.findViewsInArea({x:t-a,y:r-a,width:2*a,height:2*a}),c=n.closestView||null,y=n.closestMagnet||null,w=n.magnetProxy||null;n.closestView=n.closestMagnet=n.magnetProxy=null;var T=Number.MAX_VALUE,E=new oe(t,r);o.forEach(function(ne){var ge=[];"false"!==ne.el.getAttribute("magnet")&&ge.push({bbox:ne.model.getBBox(),magnet:ne.el}),ne.$("[magnet]").toArray().forEach(function(ke){ge.push({bbox:ne.getNodeBBox(ke),magnet:ke})}),ge.forEach(function(ke){var Ne=ke.magnet,Fe=ke.bbox.center().squaredDistance(E);Fe<T&&(y===Ne||s.options.validateConnection.apply(s,n.validateConnectionArgs(ne,ne.el===Ne?null:Ne)))&&(T=Fe,n.closestView=ne,n.closestMagnet=Ne)})},this);var j,J=null,K=n.closestView,x=n.closestMagnet;x&&(J=n.magnetProxy=K.findProxyNode(x,"highlighter"));var z=n.arrowhead,O=y!==x;if(c&&O&&c.unhighlight(w,{connecting:!0,snapping:!0}),K){var U=n.prevEnd,Q=n.prevX,ie=n.prevY;if(n.prevX=t,n.prevY=r,!O&&("function"!=typeof p||Q===t&&ie===r)||(j=K.getLinkEnd(x,t,r,this.model,z),!O&&qo(U,j)))return;n.prevEnd=j,O&&K.highlight(J,{connecting:!0,snapping:!0})}else j={x:t,y:r};this.model.set(z,j||{x:t,y:r},{ui:!0}),c&&this.notify("link:snap:disconnect",e,c,y,z),K&&this.notify("link:snap:connect",e,K,x,z)},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,i){var l=this.paper,f=this.model;if(i.eventTarget!==e){i.magnetProxy&&i.viewUnderPointer.unhighlight(i.magnetProxy,{connecting:!0});var p=i.viewUnderPointer=l.findView(e);if(p){var n=i.magnetUnderPointer=p.findMagnet(e),a=i.magnetProxy=p.findProxyNode(n,"highlighter");n&&this.paper.options.validateConnection.apply(l,i.validateConnectionArgs(p,n))?a&&p.highlight(a,{connecting:!0}):(i.magnetUnderPointer=null,i.magnetProxy=null)}else i.magnetUnderPointer=null,i.magnetProxy=null}i.eventTarget=e,f.set(i.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e,t,r){void 0===e&&(e={});var s=this.model,l=e.viewUnderPointer,f=e.magnetUnderPointer,p=e.magnetProxy,n=e.arrowhead;if(f&&p&&l){l.unhighlight(p,{connecting:!0});var a=l.getLinkEnd(f,t,r,s,n);s.set(n,a,{ui:!0})}},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){null!==e.z&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,i=0,s=0;"source"===e?(i=2,r="target"):(s=2,r="source");var l=this.model.get(r);if(l.id){var f=t[i]=this.paper.findViewByModel(l.id),p=f.getMagnetFromLinkEnd(l);p===f.el&&(p=void 0),t[i+1]=p}return function n(a,o){return t[s]=a,t[s+1]=a.el===o?void 0:o,t}},_markAvailableMagnets:function(e){function t(c,y){var w=c.paper;return w.options.validateConnection.apply(w,this.validateConnectionArgs(c,y))}var r=this.paper,i=r.model.getCells();e.marked={};for(var s=0,l=i.length;s<l;s++){var f=i[s].findView(r);if(f){var p=Array.prototype.slice.call(f.el.querySelectorAll("[magnet]"));"false"!==f.el.getAttribute("magnet")&&p.push(f.el);var n=p.filter(t.bind(e,f));if(n.length>0){for(var a=0,o=n.length;a<o;a++)f.highlight(n[a],{magnetAvailability:!0});f.highlight(null,{elementAvailability:!0}),e.marked[f.model.id]=n}}}},_unmarkAvailableMagnets:function(e){for(var r,i,t=Object.keys(e.marked),s=0,l=t.length;s<l;s++){i=e.marked[r=t[s]];var f=this.paper.findViewByModel(r);if(f){for(var p=0,n=i.length;p<n;p++)f.unhighlight(i[p],{magnetAvailability:!0});f.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Di(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),!0!==t.ignoreBackwardsCompatibility&&(this._dragData=r),r},onRemove:function(){Lt.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:zt});Object.defineProperty(L0.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new $e(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new $e(this.sourceAnchor):e.getNodeBBox(r||e.el)}}),Object.defineProperty(L0.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new $e(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new $e(this.targetAnchor):e.getNodeBBox(r||e.el)}});var If=za.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData:function(t,r){var f,s=this.options,l=s.useFirstSubpath;try{var p=be(r);if(f=p.convertToPathData().trim(),"PATH"===p.tagName()&&l){var n=f.search(/.M/i)+1;n>0&&(f=f.substr(0,n))}}catch(o){var a=t.getNodeBoundingRect(r);f=be.rectToPath(gt({},s,a.toJSON()))}return f},highlightConnection:function(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode:function(t,r){var s=this.vel,l=this.options,f=l.padding,p=l.layer,n=t.getNodeMatrix(r);if(f){!p&&r===t.el&&s.remove();var a=t.getNodeBoundingRect(r),o=a.x+a.width/2,c=a.y+a.height/2;a=be.transformRect(a,n);var y=Math.max(a.width,1),w=Math.max(a.height,1),T=(y+f)/y,E=(w+f)/w,j=be.createSVGMatrix({a:T,b:0,c:0,d:E,e:o-T*o,f:c-E*c});n=n.multiply(j)}s.attr({d:this.getPathData(t,r),transform:be.matrixToTransformString(n)})},highlight:function(t,r){this.vel.attr(this.options.attrs),t.isNodeConnection(r)?this.highlightConnection(t):this.highlightNode(t,r)}}),wf=za.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:20,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild:function(t,r){var i=this,s=i.MASK_CHILD_ATTRIBUTE_BLACKLIST,l=i.MASK_REPLACE_TAGS,f=i.MASK_REMOVE_TAGS,p=r.tagName();if(!be.isSVGGraphicsElement(r)||f.includes(p))return r.remove(),!1;if(l.includes(p)){var n=t.vel.findOne("#"+r.id);if(n){var a=n.node,o=t.getNodeBoundingRect(a);t.model.isElement()&&(o=be.transformRect(o,t.getNodeMatrix(a)));var c=be("rect",o.toJSON()),y=o.center(),w=y.x,T=y.y,E=n.rotate(),j=E.angle,J=E.cx;void 0===J&&(J=w);var K=E.cy;void 0===K&&(K=T),j&&c.rotate(j,J,K),r.parent().append(c)}return r.remove(),!1}return s.forEach(function(x){"fill"===x&&"none"===r.attr("fill")||r.removeAttr(x)}),!0},transformMaskRoot:function(t,r){this.MASK_ROOT_ATTRIBUTE_BLACKLIST.forEach(function(l){r.removeAttr(l)})},getMaskShape:function(t,r){var a,i=this,f=this.MASK_REPLACE_TAGS,p=this.options.deep,n=r.tagName();if("G"===n){if(!p)return null;!function bf(e,t){for(var r=e.children();r.length>0;){var i=r.shift();t(i)&&r.push.apply(r,i.children())}}(a=r.clone(),function(o){return i.transformMaskChild(t,o)})}else{if(f.includes(n))return null;a=r.clone()}return this.transformMaskRoot(t,a),a},getMaskId:function(){return"highlight-mask-"+this.cid},getMask:function(t,r){var i=this,s=i.VISIBLE,l=i.INVISIBLE,f=i.options,p=f.padding,n=f.attrs,a="stroke-width"in n?n["stroke-width"]:1,o="none"!==r.attr("fill"),c=parseFloat(r.attr("stroke-width"));isNaN(c)&&(c=1);var y=c+2*p,w=y+2*a,T=this.getMaskShape(t,r);if(!T){var E=t.getNodeBoundingRect(r.node);E.inflate(E.width?0:.5,E.height?0:.5),T=be("rect",E.toJSON())}return T.attr(n),be("mask",{id:this.getMaskId()}).append([T.clone().attr({fill:o?s:"none",stroke:s,"stroke-width":w}),T.clone().attr({fill:o?l:"none",stroke:l,"stroke-width":y})])},removeMask:function(t){var r=t.svg.getElementById(this.getMaskId());r&&t.defs.removeChild(r)},addMask:function(t,r){t.defs.appendChild(r.node)},highlight:function(t,r){var s=this.options,l=this.vel,f=s.padding,p=s.attrs,n=s.maskClip;void 0===n&&(n=20);var o="stroke"in p?p.stroke:"#000000";!s.layer&&r===t.el&&l.remove();var c=t.getNodeBoundingRect(r).inflate(f+n),y=this.getMask(t,be(r));this.addMask(t.paper,y),l.attr(c.toJSON()),l.attr({transform:be.matrixToTransformString(t.getNodeMatrix(r)),mask:"url(#"+y.id+")",fill:o})},unhighlight:function(t){this.removeMask(t.paper)}}),Cf=za.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Kn("highlight-opacity"),highlight:function(e,t){be(t).addClass(this.opacityClassName)},unhighlight:function(e,t){be(t).removeClass(this.opacityClassName)}}),Xc=Kn("highlighted"),xf=za.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:Xc},highlight:function(e,t){be(t).addClass(this.options.className)},unhighlight:function(e,t){be(t).removeClass(this.options.className)}},{className:Xc}),qc={stroke:If,mask:wf,opacity:Cf,addClass:xf};function cl(e){return function(t,r,i,s){if(i instanceof Element){var f,l=this.paper.findView(i);if(l)if(l.isNodeConnection(i)){var p="fixedAt"in s?s.fixedAt:"50%";f=hl(l,p)}else f=l.getNodeBBox(i).center();else f=new oe;return e.call(this,t,r,f,s)}return e.apply(this,arguments)}}function hl(e,t){var r=parseFloat(t);return Qn(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}var kf=cl(function Nf(e,t,r,i){var s=1e6,l=e.getConnection(),f=e.getConnectionSubdivisions(),p=new et(r.clone().offset(0,s),r.clone().offset(0,-s)),n=new et(r.clone().offset(s,0),r.clone().offset(-s,0)),a=p.intersect(l,{segmentSubdivisions:f}),o=n.intersect(l,{segmentSubdivisions:f}),c=[];return a&&Array.prototype.push.apply(c,a),o&&Array.prototype.push.apply(c,o),c.length>0?r.chooseClosest(c):"fallbackAt"in i?hl(e,i.fallbackAt):Eu(e,t,r,i)}),Eu=cl(function Tf(e,t,r,i){return e.getClosestPoint(r)||new oe}),Pu={resolveRef:cl,connectionRatio:function Sf(e,t,r,i){return e.getPointAtRatio("ratio"in i?i.ratio:.5)},connectionLength:function Mf(e,t,r,i){return e.getPointAtLength("length"in i?i.length:20)},connectionPerpendicular:kf,connectionClosest:Eu};function E0(e,t,r){if(en(r)){var i=r.x,s=r.y;if(isFinite(s)){var f=new et(t,e).parallel(s);t=f.start,e=f.end}r=i}if(!isFinite(r))return e;var a=e.distance(t);return 0===r&&a>0?e:e.move(t,-Math.min(r,a-1))}function Zl(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}function Bu(e,t,r,i){var s=t.getNodeBBox(r);i.stroke&&s.inflate(Zl(r)/2);var l=e.intersect(s);return E0(l?e.start.chooseClosest(l):e.end,e.start,i.offset)}var Ou="segmentSubdivisons",P0="shapeBBox",$c={anchor:function Kc(e,t,r,i){var s=i.offset,f=i.align;return f&&function Jc(e,t,r){void 0===r&&(r=0);var i,s,l,f,p=e.start,n=e.end;switch(t){case"left":i="x",s=n,l=p,f=-1;break;case"right":i="x",s=p,l=n,f=1;break;case"top":i="y",s=n,l=p,f=-1;break;case"bottom":i="y",s=p,l=n,f=1;break;default:return}p[i]<n[i]?s[i]=l[i]:l[i]=s[i],isFinite(r)&&(s[i]+=f*r,l[i]+=f*r)}(e,f,i.alignOffset),E0(e.end,e.start,s)},bbox:Bu,rectangle:function Df(e,t,r,i){var s=t.model.angle();if(0===s)return Bu(e,t,r,i);var l=t.getNodeUnrotatedBBox(r);i.stroke&&l.inflate(Zl(r)/2);var f=l.center(),p=e.clone().rotate(f,s),n=p.setLength(1e6).intersect(l);return E0(n?p.start.chooseClosest(n).rotate(f,-s):e.end,e.start,i.offset)},boundary:function Fl(e,t,r,i){var s,l,f=i.selector,p=e.end;if(s="string"==typeof f?t.findBySelector(f)[0]:Array.isArray(f)?Ki(r,f):function zf(e){if(!e)return null;var t=e;do{var r=t.tagName;if("string"!=typeof r)return null;if("G"===(r=r.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==r)break;t=t.nextElementSibling}}while(t);return t}(r),!be.isSVGGraphicsElement(s)){if(s===r||!be.isSVGGraphicsElement(r))return p;s=r}var K,n=t.getNodeShape(s),a=t.getNodeMatrix(s),o=t.getRootTranslateMatrix(),c=t.getRootRotateMatrix(),y=o.multiply(c).multiply(a),w=y.inverse(),T=be.transformLine(e,w),E=T.start.clone(),j=t.getNodeData(s);if(!1===i.insideout&&(j[P0]||(j[P0]=n.bbox()),j[P0].containsPoint(E)))return p;if(n instanceof it){var x=i.precision||2;j[Ou]||(j[Ou]=n.getSegmentSubdivisions({precision:x})),K={precision:x,segmentSubdivisions:j[Ou]}}!0===i.extrapolate&&T.setLength(1e6),(l=T.intersect(n,K))?be.isArray(l)&&(l=E.chooseClosest(l)):!0===i.sticky&&(l=n instanceof $e?n.pointNearestToPoint(E):n instanceof Cn?n.intersectionWithLineFromCenterToPoint(E):n.closestPoint(E,K));var z=l?be.transformPoint(l,y):p,O=i.offset||0;return i.stroke&&(O+=Zl(s)/2),E0(z,e.start,O)}};function $s(e){return function(t,r,i,s){var l=!!s.rotate,f=l?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),p=f[e](),n=s.dx;if(n){var a=Qn(n);n=parseFloat(n),isFinite(n)&&(a&&(n/=100,n*=f.width),p.x+=n)}var o=s.dy;if(o){var c=Qn(o);o=parseFloat(o),isFinite(o)&&(c&&(o/=100,o*=f.height),p.y+=o)}return l?p.rotate(t.model.getBBox().center(),-t.model.angle()):p}}var Rf=$s("center"),Gf=$s("topMiddle"),jf=$s("bottomMiddle"),Zf=$s("leftMiddle"),Ff=$s("rightMiddle"),Wf=$s("origin"),_f=$s("topRight"),ts=$s("bottomLeft"),Yf=$s("corner"),Uf=cl(function Pf(e,t,r,i){var s=e.model.angle(),l=e.getNodeBBox(t),f=l.center(),p=l.origin(),n=l.corner(),a=i.padding;if(isFinite(a)||(a=0),p.y+a<=r.y&&r.y<=n.y-a){var o=r.y-f.y;f.x+=0===s||180===s?0:1*o/Math.tan(mi(s)),f.y+=o}else if(p.x+a<=r.x&&r.x<=n.x-a){var c=r.x-f.x;f.y+=90===s||270===s?0:c*Math.tan(mi(s)),f.x+=c}return f}),e0=cl(function Bf(e,t,r,i){var l,f,p,s=!!i.rotate;s?(l=e.getNodeUnrotatedBBox(t),p=e.model.getBBox().center(),f=e.model.angle()):l=e.getNodeBBox(t);var o,n=i.padding;switch(isFinite(n)&&l.inflate(n),s&&r.rotate(p,f),l.sideNearestToPoint(r)){case"left":o=l.leftMiddle();break;case"right":o=l.rightMiddle();break;case"top":o=l.topMiddle();break;case"bottom":o=l.bottomMiddle()}return s?o.rotate(p,-f):o}),eh={center:Rf,top:Gf,bottom:jf,left:Zf,right:Ff,topLeft:Wf,topRight:_f,bottomLeft:ts,bottomRight:Yf,perpendicular:Uf,midSide:e0,modelCenter:function Of(e,t,r,i,s){return e.model.getPointFromConnectedLink(this.model,s).offset(i.dx,i.dy)}},ei={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},rs=9007199254740991,Gu=Lt.Highlighting,fl={};fl[Gu.DEFAULT]={name:"stroke",options:{padding:3}},fl[Gu.MAGNET_AVAILABILITY]={name:"addClass",options:{className:"available-magnet"}},fl[Gu.ELEMENT_AVAILABILITY]={name:"addClass",options:{className:"available-cell"}};var Hf=[{name:Zi.BACK},{name:Zi.CELLS},{name:Zi.LABELS},{name:Zi.FRONT},{name:Zi.TOOLS}],Xf=pa.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:Bn,linkView:L0,snapLabels:!1,snapLinks:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:fl,preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new vn,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return"passive"!==t.getAttribute("magnet")},validateConnection:function(e,t,r,i,s,l){return("target"===s?r:e)instanceof Bn},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:ei.EXACT,frozen:!1,onViewUpdate:function(e,t,r,i,s){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||i.mounting||i.isolate||s.requestConnectedLinksUpdate(e,r,i)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:qc,anchorNamespace:eh,linkAnchorNamespace:Pu,connectionPointNamespace:$c},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],MIN_SCALE:1e-6,init:function(){var t=this.options,r=this.el;t.cellViewNamespace||(t.cellViewNamespace="undefined"!=typeof joint&&$a(joint,"shapes")?joint.shapes:null);var i=this.model=t.model||new Qs;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this.$document=Se(r.ownerDocument),this.resetViews(i.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var i=r.position;this.isAsync()||!zi(i)?this.renderView(e,r):(r.maxPosition===i&&this.freeze({key:"addCells"}),this.renderView(e,r),0===i&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){var i=this.findViewByModel(e);i&&this.requestViewUpdate(i,i.FLAG_REMOVE,i.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===ei.APPROX){var r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var i=this.UPDATE_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.updateViews(e)}var s=this.SORT_DELAYING_BATCHES;s.includes(t)&&!r.hasActiveBatch(s)&&this.sortViews()}},cloneOptions:function(){var t=this.options,r=t.defaultConnector,i=t.defaultRouter,s=t.defaultConnectionPoint,l=t.defaultAnchor,f=t.defaultLinkAnchor,p=t.origin,n=t.highlighting,o=t.interactive;!t.cellViewNamespace&&"undefined"!=typeof joint&&$a(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),Bt(r)||(t.defaultConnector=Ii(r)),Bt(i)||(t.defaultRouter=Ii(i)),Bt(s)||(t.defaultConnectionPoint=Ii(s)),Bt(l)||(t.defaultAnchor=Ii(l)),Bt(f)||(t.defaultLinkAnchor=Ii(f)),en(o)&&(t.interactive=gt({},o)),en(n)&&(t.highlighting=xl({},n,fl)),t.origin=gt({},p)},children:function(){var e=be.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:Kn("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:Kn("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Kn("layers"),selector:"layers"}]}]},hasLayerView:function(t){return t in this._layers},getLayerView:function(t){var i=this._layers;if(t in i)return i[t];throw new Error('dia.Paper: Unknown layer "'+t+'"')},getLayerNode:function(t){return this.getLayerView(t).el},render:function(){this.renderChildren();var t=this.childNodes,r=this.options,i=t.svg,s=t.defs,l=t.layers,f=t.background,p=t.grid;return this.svg=i,this.defs=s,this.layers=l,this.$background=Se(f),this.$grid=Se(p),this.renderLayers(),be.ensureId(i),r.background&&this.drawBackground(r.background),r.drawGrid&&this.drawGrid(),this},renderLayers:function(e){var t=this;void 0===e&&(e=Hf),this.removeLayers(),e.forEach(function(l){var f=l.name,n=new bu({name:f});t.layers.appendChild(n.el),t._layers[f]=n});var r=this.getLayerView(Zi.CELLS),i=this.getLayerView(Zi.TOOLS),s=this.getLayerView(Zi.LABELS);this.tools=i.el,this.cells=this.viewport=r.el,r.vel.addClass(Kn("viewport")),s.vel.addClass(Kn("viewport"))},removeLayers:function(){var t=this._layers;Object.keys(t,function(r){t[r].remove(),delete t[r]})},resetLayers:function(){var t=this._layers;Object.keys(t,function(r){t[r].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(void 0===e){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),be.createSVGMatrix(e)}e=be.createSVGMatrix(e);var i=be.matrixToTransformString(e);return t.setAttribute("transform",i),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return be.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof Lt)for(var i=e.model,s=this.model.getConnectedLinks(i),l=0,f=s.length;l<f;l++){var p=s[l],n=this.findViewByModel(p);if(n){var a=["UPDATE"];p.getTargetCell()===i&&a.push("TARGET"),p.getSourceCell()===i&&a.push("SOURCE");var o=Math.max(t+1,n.UPDATE_PRIORITY);this.scheduleViewUpdate(n,n.getFlag(a),o,r)}}},forcePostponedViewUpdate:function(e,t){if(!(e&&e instanceof Lt))return!1;var r=e.model;if(r.isElement())return!1;if(0==(t&e.getFlag(["SOURCE","TARGET"]))){var i=0,s=this.findViewByModel(r.getSourceCell());s&&!this.isViewMounted(s)&&(i=this.dumpView(s),e.updateEndMagnet("source"));var l=0,f=this.findViewByModel(r.getTargetCell());if(f&&!this.isViewMounted(f)&&(l=this.dumpView(f),e.updateEndMagnet("target")),0===i&&0===l)return!this.dumpView(e)}return!1},requestViewUpdate:function(e,t,r,i){i||(i={}),this.scheduleViewUpdate(e,t,r,i);var s=this.isAsync();if(!(this.isFrozen()||s&&!1!==i.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var l=this.updateViews(i);s&&this.notifyAfterRender(l,i)}},scheduleViewUpdate:function(e,t,r,i){var l=this._updates,f=this.options,p=e.FLAG_REMOVE,n=e.FLAG_INSERT,a=e.UPDATE_PRIORITY,o=e.cid,c=l.priorities[r];if(c||(c=l.priorities[r]={}),r>a)for(var y=r-1;y>=a;y--){var w=l.priorities[y];!w||!(o in w)||(c[o]|=w[o],delete w[o])}var T=c[o]||0;if((T&t)!==t){T||l.count++,t&p&&T&n?c[o]^=n:t&n&&T&p&&(c[o]^=p),c[o]|=t;var E=f.onViewUpdate;"function"==typeof E&&E.call(this,e,t,r,i||{},this)}},dumpViewUpdate:function(e){if(!e)return 0;var r=e.cid,i=this._updates.priorities[e.UPDATE_PRIORITY],s=this.registerMountedView(e)|i[r];return delete i[r],s},dumpView:function(e,t){var r=this.dumpViewUpdate(e);return r?this.updateView(e,r,t):0},updateView:function(e,t,r){if(!e)return 0;var s=e.FLAG_INSERT;if(e instanceof Lt){if(t&e.FLAG_REMOVE)return this.removeView(e.model),0;t&s&&(this.insertView(e),t^=s)}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var i=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],i},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var i=r.unmounted[t]||0;return delete r.unmounted[t],i},isViewMounted:function(e){return!!e&&e.cid in this._updates.mounted},dumpViews:function(e){var t=$i({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);var t,r=0,i=0,s=rs;do{i++,r+=(t=this.updateViewsBatch(e)).updated,s=Math.min(t.priority,s)}while(!t.empty);var l={updated:r,batches:i,priority:s};return this.notifyAfterRender(l,e),l},hasScheduledUpdates:function(){for(var e=this._updates.priorities,t=Object.keys(e),r=t.length;r>0&&r--;)for(var i in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:rs});var r=this._updates,i=r.id;if(i){Us(i),0===t.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);var s=this.updateViewsBatch(e),l=$i({},e,{mountBatchSize:1e3-s.mounted,unmountBatchSize:1e3-s.unmounted}),f=this.checkViewport(l),p=f.unmounted,n=f.mounted,a=t.processed,o=r.count;s.updated>0&&(s.processed=a+=s.updated+s.unmounted,t.priority=Math.min(s.priority,t.priority),s.empty&&0===n?(s.unmounted+=p,s.mounted+=n,s.priority=t.priority,this.notifyAfterRender(s,e),t.processed=0,t.priority=rs,r.count=0):t.processed=a);var c=e.progress;if(o&&"function"==typeof c&&c.call(this,s.empty,a,o,s,this),r.id!==i)return}r.id=Ys(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e){void 0===e&&(e={});var t=e.beforeRender;"function"!=typeof t&&"function"!=typeof(t=this.options.beforeRender)||t.call(this,e,this)},notifyAfterRender:function(e,t){void 0===t&&(t={});var r=t.afterRender;"function"!=typeof r&&(r=this.options.afterRender),"function"==typeof r&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||1/0,r=this._updates,i=0,s=0,l=0,f=0,p=rs,n=!0,a=this.options,o=r.priorities,c="viewport"in e?e.viewport:a.viewport;"function"!=typeof c&&(c=null);var y=a.onViewPostponed;"function"!=typeof y&&(y=null);var w=Object.keys(o);e:for(var T=0,E=w.length;T<E;T++){var j=+w[T],J=o[j];for(var K in J){if(i>=t){n=!1;break e}var x=ws[K];if(x){var z=J[K];if(0==(z&x.FLAG_REMOVE)){var O=K in r.unmounted;if(x.DETACHABLE&&c&&!c.call(this,x,!O,this)){O||(this.registerUnmountedView(x),x.unmount()),r.unmounted[K]|=z,delete J[K],l++;continue}O&&(z|=x.FLAG_INSERT,f++),z|=this.registerMountedView(x)}var U=this.updateView(x,z,e);U>0&&(J[K]=U,!y||!y.call(this,x,U,this)||J[K])?(s++,n=!1):(p>j&&(p=j),i++,delete J[K])}else delete J[K]}}return{priority:p,updated:i,postponed:s,unmounted:l,mounted:f,empty:n}},getUnmountedViews:function(){for(var t=Object.keys(this._updates.unmounted),r=t.length,i=new Array(r),s=0;s<r;s++)i[s]=ws[t[s]];return i},getMountedViews:function(){for(var t=Object.keys(this._updates.mounted),r=t.length,i=new Array(r),s=0;s<r;s++)i[s]=ws[t[s]];return i},checkUnmountedViews:function(e,t){t||(t={});var r=0;"function"!=typeof e&&(e=null);for(var s=this._updates,l=s.unmountedCids,f=s.unmounted,p=0,n=(Math.min(l.length,"mountBatchSize"in t?t.mountBatchSize:1/0));p<n;p++){var a=l[p];if(a in f){var o=ws[a];if(o){if(o.DETACHABLE&&e&&!e.call(this,o,!1,this)){l.push(a);continue}r++;var c=this.registerMountedView(o);c&&this.scheduleViewUpdate(o,c,o.UPDATE_PRIORITY,{mounting:!0})}}}return l.splice(0,p),r},checkMountedViews:function(e,t){t||(t={});var r=0;if("function"!=typeof e)return r;for(var s=this._updates,l=s.mountedCids,f=s.mounted,p=0,n=(Math.min(l.length,"unmountBatchSize"in t?t.unmountBatchSize:1/0));p<n;p++){var a=l[p];if(a in f){var o=ws[a];if(o){if(!o.DETACHABLE||e.call(this,o,!0,this)){l.push(a);continue}r++,this.registerUnmountedView(o)&&o.unmount()}}}return l.splice(0,p),r},checkViewport:function(e){var t=$i({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,i=this.checkMountedViews(r,t);return i>0&&(t.mountBatchSize=Math.min(this._updates.unmountedCids.length-i,t.mountBatchSize)),{mounted:this.checkUnmountedViews(r,t),unmounted:i}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,i=this.options.frozen,s=t.freezeKey;if(r&&r!==s){if(i&&s)return;t.freezeKey=r,t.keyFrozen=i}this.options.frozen=!0;var l=t.id;t.id=null,this.isAsync()&&l&&Us(l)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,i=t.freezeKey;r&&i&&r!==i||(t.freezeKey=null,(!r||r!==i||!t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===ei.EXACT},onRemove:function(){this.freeze(),this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return zi(t)||(t=this.el.clientWidth),zi(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){var i=this.options,s=i.width,l=i.height,f=void 0===e?s:e,p=void 0===t?l:t;if(s!==f||l!==p){i.width=f,i.height=p,this._setDimensions();var n=this.getComputedSize();this.trigger("resize",n.width,n.height)}},_setDimensions:function(){var t=this.options,r=t.width,i=t.height;zi(r)&&(r=Math.round(r)),zi(i)&&(i=Math.round(i)),this.$el.css({width:null===r?"":r,height:null===i?"":i})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,i){i=an(e)?e:gt({gridWidth:e,gridHeight:t,padding:r},i);var s=this.getFitToContentArea(i),l=s.x,f=s.y,p=s.width,n=s.height,a=this.scale(),o=a.sx,c=a.sy;return this.setOrigin(-l*o,-f*c),this.setDimensions(p*o,n*c),new $e(l,f,p,n)},getFitToContentArea:function(e){void 0===e&&(e={});var t=e.gridWidth||1,r=e.gridHeight||1,i=So(e.padding||0),s=Math.max(e.minWidth||0,t),l=Math.max(e.minHeight||0,r),f=e.maxWidth||Number.MAX_VALUE,p=e.maxHeight||Number.MAX_VALUE,n=e.allowNewOrigin,a="contentArea"in e?new $e(e.contentArea):this.getContentArea(e),o=this.scale(),c=o.sx,y=o.sy;a.x*=c,a.y*=y,a.width*=c,a.height*=y;var w=Math.ceil((a.width+a.x)/t),T=Math.ceil((a.height+a.y)/r);e.allowNegativeBottomRight||(w=Math.max(w,1),T=Math.max(T,1)),w*=t,T*=r;var E=0;("negative"===n&&a.x<0||"positive"===n&&a.x>=0||"any"===n)&&(E=Math.ceil(-a.x/t)*t,w+=E+=i.left);var j=0;return("negative"===n&&a.y<0||"positive"===n&&a.y>=0||"any"===n)&&(j=Math.ceil(-a.y/r)*r,T+=j+=i.top),w+=i.right,T+=i.bottom,w=Math.max(w,s),T=Math.max(T,l),w=Math.min(w,f),T=Math.min(T,p),new $e(-E/c,-j/y,w/c,T/y)},scaleContentToFit:function(e){var t,r;if(e||(e={}),"contentArea"in e){var i=e.contentArea;t=this.localToPaperRect(i),r=new oe(i)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(t.width&&t.height){$i(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var a,s=So(e.padding),l=e.minScaleX||e.minScale,f=e.maxScaleX||e.maxScale,p=e.minScaleY||e.minScale,n=e.maxScaleY||e.maxScale;if(e.fittingBBox)a=e.fittingBBox;else{var o=this.translate(),c=this.getComputedSize();a={x:o.tx,y:o.ty,width:c.width,height:c.height}}a=new $e(a).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});var y=this.scale(),w=a.width/t.width*y.sx,T=a.height/t.height*y.sy;if(e.preserveAspectRatio&&(w=T=Math.min(w,T)),e.scaleGrid){var E=e.scaleGrid;w=E*Math.floor(w/E),T=E*Math.floor(T/E)}w=Math.min(f,Math.max(l,w)),T=Math.min(n,Math.max(p,T));var j=this.options.origin,J=a.x-r.x*w-j.x,K=a.y-r.y*T-j.y;this.scale(w,T),this.translate(J,K)}},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new $e:be(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=this.options,i=r.restrictTranslate;return Bt(i)?i.apply(this,e):!0===i?this.getArea():i?new $e(i):null},createViewForModel:function(e){var i,s,r=this.options,l=r.cellViewNamespace,f=e.get("type")+"View",p=Ki(l,f,".");return e.isLink()?(i=r.linkView,s=L0):(i=r.elementView,s=Bn),new(i.prototype instanceof Je.View?p||i:i.call(this,e)||p||s)({model:e,interactive:r.interactive,labelsLayer:!0===r.labelsLayer?Zi.LABELS:r.labelsLayer})},removeView:function(e){var t=e.id,i=this._views,s=this._updates,l=i[t];if(l){var f=l.cid,p=s.mounted,n=s.unmounted;l.remove(),delete i[t],delete p[f],delete n[f]}return l},renderView:function(e,t){var s,l,r=e.id,i=this._views,f=!0;return r in i&&((s=i[r]).model===e?(l=s.FLAG_INSERT,f=!1):this.removeView(e)),f&&((s=i[r]=this.createViewForModel(e)).paper=this,l=this.registerUnmountedView(s)|s.getFlag(Hr(s,"initFlag"))),this.requestViewUpdate(s,l,s.UPDATE_PRIORITY,t),s},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var r=0,i=e.length;r<i;r++)this.renderView(e[r],t);this.unfreeze({key:"reset"}),this.sortViews()},removeViews:function(){ga(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen())return void(this._updates.sort=!0);this.sortViewsExact()}},sortViewsExact:function(){var e=Se(this.cells).children("[model-id]"),t=this.model.get("cells");tu(e,function(r,i){var s=t.get(r.getAttribute("model-id")),l=t.get(i.getAttribute("model-id")),f=s.attributes.z||0,p=l.attributes.z||0;return f===p?0:f<p?-1:1})},insertView:function(e){var t=this.getLayerView(Zi.CELLS),r=e.el;this.options.sorting===ei.APPROX?t.insertSortedNode(r,e.model.get("z")):t.insertNode(r),e.onMount()},scale:function(e,t,r,i){if(void 0===e)return be.matrixToScale(this.matrix());void 0===t&&(t=e),void 0===r&&(r=0,i=0);var s=this.translate();(r||i||s.tx||s.ty)&&this.translate(s.tx-r*(e-1),s.ty-i*(t-1)),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var p=this.matrix();return p.a=e,p.d=t,this.matrix(p),this.trigger("scale",e,t,r,i),this},rotate:function(e,t,r){if(void 0===e)return be.matrixToRotate(this.matrix());if(void 0===t){var i=this.cells.getBBox();t=i.width/2,r=i.height/2}var s=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(s),this},translate:function(e,t){if(void 0===e)return be.matrixToTranslate(this.matrix());var i=this.options,s=i.origin,l=i.drawGrid;e||(e=0),t||(t=0);var f=this.matrix();if(f.e===e&&f.f===t)return this;f.e=e,f.f=t,this.matrix(f);var p=this.translate(),n=p.tx,a=p.ty;return s.x=n,s.y=a,this.trigger("translate",n,a),l&&this.drawGrid(),this},findView:function(e){var t=$n(e)?this.cells.querySelector(e):e instanceof Se?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=$n(e)||zi(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){return e=new oe(e),this.model.getElements().map(this.findViewByModel,this).filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=$i(t||{},{strict:!1}),e=new $e(e);var r=this.model.getElements().map(this.findViewByModel,this),i=t.strict?"containsRect":"intersect";return r.filter(function(s){return s&&e[i](s.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e){for(var t,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];"string"==typeof e&&(t=this).trigger.apply(t,["tools:event",e].concat(r))},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new oe(e,t);return be.transformPoint(r,this.matrix())},localToPaperRect:function(e,t,r,i){var s=new $e(e,t,r,i);return be.transformRect(s,this.matrix())},paperToLocalPoint:function(e,t){var r=new oe(e,t);return be.transformPoint(r,this.matrix().inverse())},paperToLocalRect:function(e,t,r,i){var s=new $e(e,t,r,i);return be.transformRect(s,this.matrix().inverse())},localToClientPoint:function(e,t){var r=new oe(e,t);return be.transformPoint(r,this.clientMatrix())},localToClientRect:function(e,t,r,i){var s=new $e(e,t,r,i);return be.transformRect(s,this.clientMatrix())},clientToLocalPoint:function(e,t){var r=new oe(e,t);return be.transformPoint(r,this.clientMatrix().inverse())},clientToLocalRect:function(e,t,r,i){var s=new $e(e,t,r,i);return be.transformRect(s,this.clientMatrix().inverse())},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,i){return this.localToPaperRect(e,t,r,i).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var i=new oe(e,t).difference(this.pageOffset());return this.paperToLocalPoint(i)},pageToLocalRect:function(e,t,r,i){var s=this.pageOffset(),l=new $e(e,t,r,i);return l.x-=s.x,l.y-=s.y,this.paperToLocalRect(l)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new oe(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof L0))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,i=this.model,s=i.constructor.validations;return!(!r.multiLinks&&!s.multiLinks.call(this,i,t)||!r.linkPinning&&!s.linkPinning.call(this,i,t)||"function"==typeof r.allowLink&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return Bt(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e){void 0===e&&(e={});var t=e.highlighter,r=e.type,i=this.options,s=i.highlighting,l=i.highlighterNamespace;if(void 0===t){if(!s||r&&!1===(t=s[r]))return!1;t||(t=s.default)}if(!t)return!1;$n(t)&&(t={name:t});var f=t.name,p=l[f];if(!p)throw new Error('Unknown highlighter ("'+f+'")');if("function"!=typeof p.highlight)throw new Error('Highlighter ("'+f+'") is missing required highlight() method');if("function"!=typeof p.unhighlight)throw new Error('Highlighter ("'+f+'") is missing required unhighlight() method');return{highlighter:p,options:t.options||{},name:f}},onCellHighlight:function(e,t,r){var i=this.resolveHighlighter(r);i&&i.highlighter.highlight(e,t,i.options)},onCellUnhighlight:function(e,t,r){var i=this.resolveHighlighter(r);i&&i.highlighter.unhighlight(e,t,i.options)},pointerdblclick:function(e){e.preventDefault(),e=cr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){if(this.eventData(e).mousemoved<=this.options.clickThreshold){e=cr(e);var r=this.findView(e.target);if(this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,i.x,i.y):this.trigger("blank:pointerclick",e,i.x,i.y)}},contextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),e=cr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=cr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?(e.preventDefault(),t.pointerdown(e,r.x,r.y)):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,r.x,r.y)),this.delegateDragEvents(t,e.data)}},pointermove:function(e){var t=this.eventData(e);if(t.mousemoved||(t.mousemoved=0),!(++t.mousemoved<=this.options.moveThreshold)){e=cr(e);var i=this.snapToGrid(e.clientX,e.clientY),s=t.sourceView;s?s.pointermove(e,i.x,i.y):this.trigger("blank:pointermove",e,i.x,i.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=cr(e),r=this.snapToGrid(t.clientX,t.clientY),i=this.eventData(e).sourceView;i?i.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(Se.Event(e,{type:"click",data:e.data})),e.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(e){e=cr(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=cr(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){var r=(e=cr(e)).relatedTarget,i=e.currentTarget,s=this.findView(e.target);if(!this.guard(e,s)){var l=this.findView(r);s&&(l===s||(s.mouseenter(e),this.el.contains(r)))||l||i===this.el&&this.trigger("paper:mouseenter",e)}},mouseleave:function(e){var r=(e=cr(e)).relatedTarget,i=e.currentTarget,s=this.findView(e.target);if(!this.guard(e,s)){var l=this.findView(r);s&&(l===s||(s.mouseleave(e),this.el.contains(r)))||l||i===this.el&&this.trigger("paper:mouseleave",e)}},mousewheel:function(e){e=cr(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=e.originalEvent,i=this.snapToGrid(r.clientX,r.clientY),s=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,i.x,i.y,s):this.trigger("blank:mousewheel",e,i.x,i.y,s)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var i=this.findView(t);if(i){if(e=cr(e),this.guard(e,i))return;var s=this.snapToGrid(e.clientX,e.clientY);i.onevent(e,r,s.x,s.y)}}},magnetEvent:function(e,t){var r=e.currentTarget;if(r.getAttribute("magnet")){var s=this.findView(r);if(s){if(e=cr(e),this.guard(e,s))return;var l=this.snapToGrid(e.clientX,e.clientY);t.call(this,s,e,r,l.x,l.y)}}},onmagnet:function(e){this.magnetEvent(e,function(t,r,i,s,l){t.onmagnet(r,s,l)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,i,s,l){t.magnetpointerdblclick(r,i,s,l)})},magnetcontextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.magnetEvent(e,function(t,r,i,s,l){t.magnetcontextmenu(r,i,s,l)})},onlabel:function(e){var r=this.findView(e.currentTarget);if(r){if(e=cr(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)}},getPointerArgs:function(t){var r=cr(t),i=this.snapToGrid(r.clientX,r.clientY);return[r,i.x,i.y]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t),this.undelegateEvents()},guard:function(e,t){return!!("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,t))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(t&&t.model&&t.model instanceof Da||this.svg===e.target||this.el===e.target||Se.contains(this.svg,e.target)))},setGridSize:function(e){return this.options.gridSize=e,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:be("svg",{width:"100%",height:"100%"},be("defs")),patterns:{},add:function(e,t){be(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(be("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return void 0!==this.patterns[e]}}),this._gridCache},setGrid:function(e){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(e)?e:[e||{}]).forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if($n(e)&&Array.isArray(t[e]))return t[e].map(function(n){return gt({},n)});var r=e||{args:[{}]},i=Array.isArray(r),s=r.name;if(!i&&!s&&!r.markup&&(s="dot"),s&&Array.isArray(t[s])){var l=t[s].map(function(n){return gt({},n)}),f=Array.isArray(r.args)?r.args:[r.args||{}];$i(f[0],Is(e,"args"));for(var p=0;p<f.length;p++)l[p]&&gt(l[p],f[p]);return l}return i?r:[r]},drawGrid:function(e){var t=this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],i=this.matrix(),s=this._getGridRefs();this._gridSettings.forEach(function(f,p){var n="pattern_"+p,a=Yn(f,r[p],{sx:i.a||1,sy:i.d||1,ox:i.e||0,oy:i.f||0});a.width=t*(i.a||1)*(a.scaleFactor||1),a.height=t*(i.d||1)*(a.scaleFactor||1),s.exist(n)||s.add(n,be("pattern",{id:n,patternUnits:"userSpaceOnUse"},be(a.markup)));var o=s.get(n);Bt(a.update)&&a.update(o.node.childNodes[0],a);var c=a.ox%a.width;c<0&&(c+=a.width);var y=a.oy%a.height;y<0&&(y+=a.height),o.attr({x:c,y,width:a.width,height:a.height})});var l=(new XMLSerializer).serializeToString(s.root.node);return l="url(data:image/svg+xml;base64,"+btoa(l)+")",this.$grid.css("backgroundImage",l),this},updateBackgroundImage:function(e){var t=(e=e||{}).position||"center",r=e.size||"auto auto",i=this.scale(),s=this.translate();an(t)&&(t=s.tx+i.sx*(t.x||0)+"px "+(s.ty+i.sy*(t.y||0))+"px"),an(r)&&(r=(r=new $e(r).scale(i.sx,i.sy)).width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(e instanceof HTMLImageElement){if(this._background&&this._background.id===t.id){var r,i=(t=t||{}).size,s=t.repeat||"no-repeat",l=t.opacity||1,f=Math.abs(t.quality)||1,p=this.constructor.backgroundPatterns[ac(s)];if(Bt(p)){e.width*=f,e.height*=f;var n=p(e,t);if(!(n instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=n.toDataURL("image/png"),s="repeat",an(i)?(i.width*=n.width/e.width,i.height*=n.height/e.height):void 0===i&&(t.size={width:n.width/f,height:n.height/f})}else r=e.src,void 0===i&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:l,backgroundRepeat:s,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(this.updateBackgroundColor((e=e||{}).color),e.image){e=this._background=Ii(e),_s(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,ga(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!an(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+Uo(JSON.stringify(e))),!this.isDefined(t)){var s=wl[r]&&wl[r](e.args||{});if(!s)throw new Error("Non-existing filter "+r);var l=gt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});be(s,l).appendTo(this.defs)}return t},defineGradient:function(e){if(!an(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");var i=this.defs,s=e.type,l=e.id;void 0===l&&(l=s+this.svg.id+Uo(JSON.stringify(e)));var f=e.stops,p=e.attrs;if(void 0===p&&(p={}),this.isDefined(l))return l;var n=Zt(f).map(function(o){var c=o.offset,y=o.color,w=o.opacity;return be("stop").attr({offset:c,"stop-color":y,"stop-opacity":Number.isFinite(w)?w:1})}),a=be(s,p,n);return a.id=l,a.appendTo(i),l},definePattern:function(e){if(!an(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");var i=this.defs,s=e.id;void 0===s&&(s=this.svg.id+Uo(JSON.stringify(e)));var l=e.markup,f=e.attrs;if(void 0===f&&(f={}),!l)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(s))return s;var p=be("pattern",{patternUnits:"userSpaceOnUse"});if(p.id=s,p.attr(f),"string"==typeof l)p.append(be(l));else{var n=Ja(l);p.append(n.fragment)}return p.appendTo(i),s},defineMarker:function(e){if(!an(e))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");var i=this.defs,s=e.id;void 0===s&&(s=this.svg.id+Uo(JSON.stringify(e)));var l=e.markup,f=e.attrs;void 0===f&&(f={});var p=e.markerUnits;if(void 0===p&&(p="userSpaceOnUse"),this.isDefined(s))return s;var n=be("marker",{orient:"auto",overflow:"visible",markerUnits:p});if(n.id=s,n.attr(f),l)if("string"==typeof l)n.append(be(l));else{var a=Ja(l);n.append(a.fragment)}else{var c=e.type;void 0===c&&(c="path");var y=be(c,Is(e,"type","id","markup","attrs","markerUnits"));n.append(y)}return n.appendTo(i),s}},{sorting:ei,Layers:Zi,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,i=e.height;t.width=2*r,t.height=2*i;var s=t.getContext("2d");return s.drawImage(e,0,0,r,i),s.setTransform(-1,0,0,-1,t.width,t.height),s.drawImage(e,0,0,r,i),s.setTransform(-1,0,0,1,t.width,0),s.drawImage(e,0,0,r,i),s.setTransform(1,0,0,-1,0,t.height),s.drawImage(e,0,0,r,i),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,i=e.height;t.width=2*r,t.height=i;var s=t.getContext("2d");return s.drawImage(e,0,0,r,i),s.translate(2*r,0),s.scale(-1,1),s.drawImage(e,0,0,r,i),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,i=e.height;t.width=r,t.height=2*i;var s=t.getContext("2d");return s.drawImage(e,0,0,r,i),s.translate(0,2*i),s.scale(1,-1),s.drawImage(e,0,0,r,i),t},watermark:function(e,t){t=t||{};var r=e.width,i=e.height,s=document.createElement("canvas");s.width=3*r,s.height=3*i;for(var l=s.getContext("2d"),f=zi(t.watermarkAngle)?-t.watermarkAngle:-20,p=mi(f),n=s.width/4,a=s.height/4,o=0;o<4;o++)for(var c=0;c<4;c++)(o+c)%2>0&&(l.setTransform(1,0,0,1,(2*o-1)*n,(2*c-1)*a),l.rotate(p),l.drawImage(e,-r/2,-i/2,r,i));return s}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){be(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;be(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,i=t.width,s=t.height,l=t.thickness;r=i-l>=0&&s-l>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",be(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,i=t.width,s=t.height,l=t.thickness;r=i-l>=0&&s-l>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",be(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,i=t.width,s=t.height,l=t.thickness;r=i-l>=0&&s-l>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",be(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),eo=pa.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){var r=this.paper,i=this.relatedView;return!r||!i||r.guard(e,i)}}),ju=pa.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){var t=(e=gt(this.options,e)).tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof Lt))return this;for(var i=this.tools=[],s=0,l=t.length;s<l;s++){var f=t[s];f instanceof eo&&(f.configure(r,this),this.vel.append(f.el),i.push(f))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,i=0,s=t.length;i<s;i++){var l=t[i];r?e.tool!==l.cid&&l.isVisible()&&l.update():l.render()}return r||(this.mount(),this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,i=t.length;r<i;r++){var s=t[r];e===s?s.show():s.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,i=t.length;r<i;r++){var s=t[r];s!==e&&!s.isVisible()&&(s.show(),s.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){var t=this.options,r=this.el,i=t.relatedView,s=t.layer;void 0===s&&(s=Zi.TOOLS);var l=t.z;return i&&(s?i.paper.getLayerView(s).insertSortedNode(r,l):i.el.appendChild(r)),this}}),qf={Graph:Qs,attributes:es,LayersNames:Zi,PaperLayer:bu,Cell:Da,CellView:Lt,Element:hn,ElementView:Bn,Link:vn,LinkView:L0,Paper:Xf,ToolView:eo,ToolsView:ju,HighlighterView:za},ma={exportElement:function(e){return e.size()},exportLink:function(e){var t=e.get("labelSize")||{};return{minLen:e.get("minLen")||1,weight:e.get("weight")||1,labelpos:e.get("labelPosition")||"c",labeloffset:e.get("labelOffset")||0,width:t.width||0,height:t.height||0}},importElement:function(e,t,r){var i=this.getCell(t),s=r.node(t);e.setPosition?e.setPosition(i,s):i.set("position",{x:s.x-s.width/2,y:s.y-s.height/2})},importLink:function(e,t,r){var s=this.getCell(t.name),l=r.edge(t),f=l.points||[],p=new Pr(f);if(e.setVertices||e.setLinkVertices)if(Bt(e.setVertices))e.setVertices(s,f);else{p.simplify({threshold:.001});var n=p.points.map(function(E){return E.toJSON()});s.set("vertices",n.slice(1,n.length-1))}if(e.setLabels&&"x"in l&&"y"in l){var o={x:l.x,y:l.y};if(Bt(e.setLabels))e.setLabels(s,o,f);else{var c=p.closestPointLength(o),y=p.pointAtLength(c),w=c/p.length(),T=new oe(o).difference(y).toJSON();s.label(0,{position:{distance:w,offset:T}})}}},layout:function(e,t){var r;r=e instanceof Qs?e:(new Qs).resetCells(e,{dry:!0,sort:!1}),e=null;var i=(t=$i(t||{},{resizeClusters:!0,clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink})).dagre||("undefined"!=typeof dagre?dagre:void 0);if(void 0===i)throw new Error('The the "dagre" utility is a mandatory dependency.');var s=ma.toGraphLib(r,{graphlib:t.graphlib,directed:!0,multigraph:!0,compound:!0,setNodeLabel:t.exportElement,setEdgeLabel:t.exportLink,setEdgeName:function(o){return o.id}}),l={},f=t.marginX||0,p=t.marginY||0;if(t.rankDir&&(l.rankdir=t.rankDir),t.align&&(l.align=t.align),t.nodeSep&&(l.nodesep=t.nodeSep),t.edgeSep&&(l.edgesep=t.edgeSep),t.rankSep&&(l.ranksep=t.rankSep),t.ranker&&(l.ranker=t.ranker),f&&(l.marginx=f),p&&(l.marginy=p),s.setGraph(l),i.layout(s,{debugTiming:!!t.debugTiming}),r.startBatch("layout"),ma.fromGraphLib(s,{importNode:this.importElement.bind(r,t),importEdge:this.importLink.bind(r,t)}),t.resizeClusters){var n=s.nodes().filter(function(o){return s.children(o).length>0}).map(r.getCell.bind(r)).sort(function(o,c){return c.getAncestors().length-o.getAncestors().length});ga(n,"fitEmbeds",{padding:t.clusterPadding})}r.stopBatch("layout");var a=s.graph();return new $e(f,p,Math.abs(a.width-2*f),Math.abs(a.height-2*p))},fromGraphLib:function(e,t){var r=(t=t||{}).importNode||Pn,i=t.importEdge||Pn,s=this instanceof Qs?this:new Qs;return e.nodes().forEach(function(l){r.call(s,l,e,s,t)}),e.edges().forEach(function(l){i.call(s,l,e,s,t)}),s},toGraphLib:function(e,t){var r=(t=t||{}).graphlib||("undefined"!=typeof graphlib?graphlib:void 0);if(void 0===r)throw new Error('The the "graphlib" utility is a mandatory dependency.');for(var i=Ml(t,"directed","compound","multigraph"),s=new r.Graph(i),l=t.setNodeLabel||Pn,f=t.setEdgeLabel||Pn,p=t.setEdgeName||Pn,n=e.get("cells"),a=0,o=n.length;a<o;a++){var c=n.at(a);if(c.isLink()){var y=c.get("source"),w=c.get("target");if(!y.id||!w.id)break;s.setEdge(y.id,w.id,f(c),p(c))}else if(s.setNode(c.id,l(c)),s.isCompound()&&c.has("parent")){var T=c.get("parent");n.has(T)&&s.setParent(c.id,T)}}return s}};Qs.prototype.toGraphLib=function(e){return ma.toGraphLib(this,e)},Qs.prototype.fromGraphLib=function(e,t){return ma.fromGraphLib.call(this,e,t)};var Wl={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(void 0!==r)return r;try{r=t()}catch(i){r=!1}return this._results[e]=r,r}},rr=hn.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),pn=rr.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),Sn=Bn.extend({presentationAttributes:Bn.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=Bn.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),th=rr.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),Zu=rr.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),Jf=rr.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),Kf=rr.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),Qf=rr.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),$f=rr.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),rh=rr.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),nh=rh.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),No=Wl.test("svgforeignobject"),Fu=rr.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',No?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),rr.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":gt({},t),div:{style:gt({},t)}})},updateContent:function(e,t){this.attr(No?{".content":{html:Ho(t)}}:{".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),ed=Bn.extend({presentationAttributes:No?Bn.prototype.presentationAttributes:Bn.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=Bn.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var r=this.model;if(No)Bn.prototype.update.call(this,r,t);else{var i=Is(t||r.get("attrs"),".content");Bn.prototype.update.call(this,r,i),(!t||$a(t,".content"))&&this.updateContent(r,t)}},updateContent:function(e,t){var r=Yn({},(t||e.get("attrs"))[".content"]);r=Is(r,"text");var i=Vo(e.get("content"),e.get("size"),r,{svgDocument:this.paper.svg}),s=Qi({},".content",r,"/");s[".content"].text=i,Bn.prototype.update.call(this,e,s)}}),ih={Generic:rr,Rect:pn,TextView:Sn,Text:th,Circle:Zu,Ellipse:Jf,Polygon:Kf,Polyline:Qf,Image:$f,Path:rh,Rhombus:nh,TextBlock:Fu,TextBlockView:ed},_l=hn.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),ya=hn.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),B0=hn.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),td=hn.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),rd=hn.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),nd=hn.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),id=hn.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),ad=hn.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),ah=hn.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),to=hn.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Wt=hn.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),Pa=hn.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(void 0===e)return this.attr("body/lateralArea");var r=Qn(e);return this.attr({body:{lateralArea:e},top:r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e}},t)}},{attributes:{lateralArea:{set:function(e,t){var r=Qn(e);r&&(e=parseFloat(e)/100);var i=t.x,s=t.y,l=t.width,f=t.height,n=r?f*e:e,a=be.KAPPA,o=a*(l/2),c=a*(r?f*e:e),w=i+l/2,T=i+l,E=s+n,j=E-n,J=s+f-n,K=s+f;return{d:["M",i,E,"L",i,J,"C",i,J+c,w-o,K,w,K,"C",w+o,K,T,J+c,T,J,"L",T,E,"C",T,E-c,w+o,j,w,j,"C",w-o,j,i,E-c,i,E,"Z"].join(" ")}}}}}),Mr=Wl.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},od=hn.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},Mr]},{attributes:{text:{set:function(e,t,r,i){if(!(r instanceof HTMLElement)){var s=i.style||{},l={text:e,width:-5,height:"100%"},f=gt({textVerticalAnchor:"middle"},s);return es.textWrap.set.call(this,l,t,r,f),{fill:s.color||null}}r.textContent=e},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}}),ud={Rectangle:_l,Circle:ya,Ellipse:B0,Path:td,Polygon:rd,Polyline:nd,Image:id,BorderedImage:ad,EmbeddedImage:ah,InscribedImage:to,HeaderedRectangle:Wt,Cylinder:Pa,TextBlock:od,Link:vn.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),DoubleLink:vn.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),ShadowLink:vn.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]})},Wu=rr.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){rr.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,r){var i=Xo(this.get("inPorts")),s=K0(Xo(this.get("outPorts")),i),l=this.createPortItems("in",i),f=this.createPortItems("out",s);this.prop("ports/items",l.concat(f),gt({rewrite:!0},r))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return Zt(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,r){var i=this.get(t);return this.set(t,Array.isArray(i)?i.concat(e):[e],r)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,r){return this.set(t,J0(this.get(t),e),r)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,r){return this.prop("ports/groups/"+e,an(t)?t:{},r)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),cd=Wu.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),hd=Wu.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),dd={Model:Wu,Atomic:cd,Coupled:hd,Link:vn.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}})},Vl=rr.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),_u=Vl.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),gd=_u.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),vd=_u.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),Yu=Vl.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),t0=Vl.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),Uu=Yu.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),pd=Yu.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),Vu=t0.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),md=t0.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),yd=t0.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),Ad=t0.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),ci=t0.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),ta=t0.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),bd={Gate:Vl,IO:_u,Input:gd,Output:vd,Gate11:Yu,Gate21:t0,Repeater:Uu,Not:pd,Or:Vu,And:md,Nor:yd,Nand:Ad,Xor:ci,Xnor:ta,Wire:vn.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")})},Dd={KingWhite:rr.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),KingBlack:rr.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),QueenWhite:rr.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),QueenBlack:rr.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),RookWhite:rr.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),RookBlack:rr.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),BishopWhite:rr.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),BishopBlack:rr.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),KnightWhite:rr.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),KnightBlack:rr.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),PawnWhite:rr.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),PawnBlack:rr.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'})},fh=hn.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),zd=fh.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),r0=hn.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),Ld=r0.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),dl=hn.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),Ed=dl.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),Pd=dl.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),Bd=dl.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),dh=dl.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),gh=hn.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),Od=vn.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}}),Rd={Entity:fh,WeakEntity:zd,Relationship:r0,IdentifyingRelationship:Ld,Attribute:dl,Multivalued:Ed,Derived:Pd,Key:Bd,Normal:dh,ISA:gh,Line:Od},Wd={State:Zu.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),StartState:hn.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),EndState:hn.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Arrow:vn.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0})},Ud={Member:hn.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),Arrow:vn.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1})},Vd=rr.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),Hd=Bn.extend({presentationAttributes:Bn.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Bn.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var i=(e=Bn.prototype.confirmUpdate).call.apply(e,[this].concat(t));return this.hasFlag(i,"TOKENS")&&(this.renderTokens(),this.update(),i=this.removeFlag(i,"TOKENS")),i},renderTokens:function(){var e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(r){e.removeClass(r)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(be("circle"));break;case 2:e.addClass("two"),e.append([be("circle"),be("circle")]);break;case 3:e.addClass("three"),e.append([be("circle"),be("circle"),be("circle")]);break;default:e.addClass("alot"),e.append(be("text").text(t+""))}}}),Jd={Place:Vd,PlaceView:Hd,Transition:rr.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),Link:vn.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}})},Hu=rr.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),rr.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],r=0;t.forEach(function(i){var s=Array.isArray(i.text)?i.text:[i.text],l=20*s.length+20;e[".uml-class-"+i.type+"-text"].text=s.join("\n"),e[".uml-class-"+i.type+"-rect"].height=l,e[".uml-class-"+i.type+"-rect"].transform="translate(0,"+r+")",r+=l})}}),Xu=Bn.extend({initialize:function(){Bn.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),Kd=Hu.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),Qd=Xu,$d=Hu.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),eg=Xu,tg=vn.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),rg=vn.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),ng=vn.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),ig=vn.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),qu=vn.define("uml.Association"),vh=rr.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),rr.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),Ju={basic:ih,standard:ud,devs:dd,logic:bd,chess:Dd,erd:Rd,fsa:Wd,org:Ud,pn:Jd,uml:{Class:Hu,ClassView:Xu,Abstract:Kd,AbstractView:Qd,Interface:$d,InterfaceView:eg,Generalization:tg,Implementation:rg,Aggregation:ng,Composition:ig,Association:qu,State:vh,StartState:Zu.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),EndState:rr.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Transition:vn.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}})}};function mh(e,t){return 0===t?"0%":Math.round(e/t*100*1e3)/1e3+"%"}function yh(e){return function(t,r,i,s){return(r.isNodeConnection(i)?ra:lg)(e,t,r,i,s)}}function lg(e,t,r,i,s){var l=r.model.angle(),f=r.getNodeUnrotatedBBox(i),p=r.model.getBBox().center();s.rotate(p,l);var n=s.x-f.x,a=s.y-f.y;return e&&(n=mh(n,f.width),a=mh(a,f.height)),t.anchor={name:"topLeft",args:{dx:n,dy:a,rotate:!0}},t}function ra(e,t,r,i,s){var l=r.getConnection();if(!l)return t;var f=l.closestPointLength(s);if(e){var p=l.length();t.anchor={name:"connectionRatio",args:{ratio:f/p}}}else t.anchor={name:"connectionLength",args:{length:f}};return t}var Ku=Pn,ug=yh(!1),Ah=yh(!0),cg={useDefaults:Ku,pinAbsolute:ug,pinRelative:Ah};function Ih(e,t,r){return Ah.call(this.paper,{},t,r,e,this.model).anchor}function bh(e,t){var r=e.model;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}var Hl=pa.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(e,t){this.vel.attr({cx:e,cy:t})},onPointerDown:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.trigger("will-change",this,e))},onPointerMove:function(e){this.trigger("changing",this,e)},onDoubleClick:function(e){this.trigger("remove",this,e)},onPointerUp:function(e){this.trigger("changed",this,e),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}}),hg=eo.extend({name:"vertices",options:{handleClass:Hl,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){return this.relatedView.model.vertices().length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(e))for(var t=0,r=e.length;t<r;t++)e[t].remove()},renderHandles:function(){for(var e=this,r=this.relatedView.model.vertices(),i=0,s=r.length;i<s;i++){var l=r[i],f=new this.options.handleClass({index:i,paper:this.paper,guard:function(p){return e.guard(p)}});f.render(),f.position(l.x,l.y),this.simulateRelatedView(f.el),f.vel.appendTo(this.el),this.handles.push(f),this.startHandleListening(f)}},updateHandles:function(){for(var t=this.relatedView.model.vertices(),r=0,i=t.length;r<i;r++){var s=t[r],l=this.handles[r];if(!l)return;l.position(s.x,s.y)}},updatePath:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(e){var t=this.relatedView;t.can("vertexMove")&&(this.listenTo(e,"will-change",this.onHandleWillChange),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"changed",this.onHandleChanged)),t.can("vertexRemove")&&this.listenTo(e,"remove",this.onHandleRemove)},getNeighborPoints:function(e){var t=this.relatedView,r=t.model.vertices(),s=e<r.length-1?r[e+1]:t.targetAnchor;return{prev:new oe(e>0?r[e-1]:t.sourceAnchor),next:new oe(s)}},onHandleWillChange:function(e,t){this.focus();var i=this.relatedView,s=this.options;i.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),s.stopPropagation||i.notifyPointerdown.apply(i,i.paper.getPointerArgs(t))},onHandleChanging:function(e,t){var i=this.options,s=this.relatedView,l=e.options.index,f=s.paper.getPointerArgs(t),p=f[0],n=f[1],a=f[2],o={x:n,y:a};this.snapVertex(o,l),s.model.vertex(l,o,{ui:!0,tool:this.cid}),e.position(o.x,o.y),i.stopPropagation||s.notifyPointermove(p,n,a)},onHandleChanged:function(e,t){var i=this.options,s=this.relatedView;if(i.vertexAdding&&this.updatePath(),i.redundancyRemoval){s.removeRedundantLinearVertices({ui:!0,tool:this.cid})&&this.render(),this.blur(),s.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(t).vertexAdded&&s.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var f=s.paper.getPointerArgs(t),p=f[0];i.stopPropagation||s.notifyPointerup(p,f[1],f[2]),s.checkMouseleave(p)}},snapVertex:function(e,t){var r=this.options.snapRadius;if(r>0){var i=this.getNeighborPoints(t),s=i.prev,l=i.next;Math.abs(e.x-s.x)<r?e.x=s.x:Math.abs(e.x-l.x)<r&&(e.x=l.x),Math.abs(e.y-s.y)<r?e.y=i.prev.y:Math.abs(e.y-l.y)<r&&(e.y=l.y)}},onHandleRemove:function(e,t){var i=this.relatedView;i.model.removeVertex(e.options.index,{ui:!0}),this.options.vertexAdding&&this.updatePath(),i.checkMouseleave(cr(t))},onPathPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=cr(e),r=this.paper.snapToGrid(t.clientX,t.clientY).toJSON(),i=this.relatedView;i.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var s=i.getVertexIndex(r.x,r.y);this.snapVertex(r,s),i.model.insertVertex(s,r,{ui:!0,tool:this.cid}),this.update();var l=this.handles[s];this.eventData(t,{vertexAdded:!0}),l.onPointerDown(t)}},onRemove:function(){this.resetHandles()}},{VertexHandle:Hl}),wh=pa.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(e,t,r,i){var s=be.createSVGMatrix().translate(e,t).rotate(r),l=this.childNodes.handle;l.setAttribute("transform",be.matrixToTransformString(s)),l.setAttribute("cursor",r%180==0?"row-resize":"col-resize");var f=i.getClosestPoint(new oe(e,t)),p=this.childNodes.line;p.setAttribute("x1",e),p.setAttribute("y1",t),p.setAttribute("x2",f.x),p.setAttribute("y2",f.y)},onPointerDown:function(e){this.options.guard(e)||(this.trigger("change:start",this,e),e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data))},onPointerMove:function(e){this.trigger("changing",this,e)},onPointerUp:function(e){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,e)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}}),fg=eo.extend({name:"segments",precision:.5,options:{handleClass:wh,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:Ih,snapRadius:10,snapHandle:!0,stopPropagation:!0},handles:null,onRender:function(){this.resetHandles();var e=this.relatedView,t=e.model.vertices();t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var r=0,i=t.length;r<i-1;r++){var f=this.renderHandle(t[r],t[r+1]);this.simulateRelatedView(f.el),this.handles.push(f),f.options.index=r}return this},renderHandle:function(e,t){var r=this,i=new this.options.handleClass({paper:this.paper,guard:function(s){return r.guard(s)}});return i.render(),this.updateHandle(i,e,t),i.vel.appendTo(this.el),this.startHandleListening(i),i},update:function(){return this.render(),this},startHandleListening:function(e){this.listenTo(e,"change:start",this.onHandleChangeStart),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(e))for(var t=0,r=e.length;t<r;t++)e[t].remove()},shiftHandleIndexes:function(e){for(var t=this.handles,r=0,i=t.length;r<i;r++)t[r].options.index+=e},resetAnchor:function(e,t){var r=this.relatedView.model;t?r.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):r.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(e,t,r){var i=e.options.index,f=this.relatedView.model.vertices(),p=e.options.axis,n=f[i-2]||r.sourceAnchor,a=f[i+1]||r.targetAnchor,o=this.options.snapRadius;return Math.abs(t[p]-n[p])<o?t[p]=n[p]:Math.abs(t[p]-a[p])<o&&(t[p]=a[p]),t},onHandleChanging:function(e,t){var i=this.options,s=this.eventData(t),l=this.relatedView,f=l.paper,p=e.options.index-1,n=cr(t),a=f.snapToGrid(n.clientX,n.clientY),o=this.snapHandle(e,a.clone(),s),c=e.options.axis,y=this.options.snapHandle?0:a[c]-o[c],w=l.model,T=Ii(w.vertices()),E=T[p],j=T[p+1],J=this.options.anchor;"function"!=typeof J&&(J=null);var K=l.sourceView,x=l.sourceBBox,z=!1,O=!1;if(E?0===p?x.containsPoint(E)?(T.shift(),this.shiftHandleIndexes(-1),z=!0):(E[c]=o[c],O=!0):E[c]=o[c]:((E=l.sourceAnchor.toJSON())[c]=o[c],x.containsPoint(E)?(E[c]=o[c],z=!0):(T.unshift(E),this.shiftHandleIndexes(1),O=!0)),J&&K){if(z){var U=s.sourceAnchor.clone();U[c]=o[c];var Q=J.call(l,U,K,l.sourceMagnet||K.el,"source",l);this.resetAnchor("source",Q)}O&&this.resetAnchor("source",s.sourceAnchorDef)}var ie=l.targetView,ne=l.targetBBox,ge=!1,ke=!1;if(j?p===T.length-2?ne.containsPoint(j)?(T.pop(),ge=!0):(j[c]=o[c],ke=!0):j[c]=o[c]:((j=l.targetAnchor.toJSON())[c]=o[c],ne.containsPoint(j)?ge=!0:(T.push(j),ke=!0)),J&&ie){if(ge){var Ne=s.targetAnchor.clone();Ne[c]=o[c];var je=J.call(l,Ne,ie,l.targetMagnet||ie.el,"target",l);this.resetAnchor("target",je)}ke&&this.resetAnchor("target",s.targetAnchorDef)}w.vertices(T,{ui:!0,tool:this.cid}),this.updateHandle(e,E,j,y),i.stopPropagation||l.notifyPointermove(n,a.x,a.y)},onHandleChangeStart:function(e,t){var r=this,i=r.options,s=r.handles,l=r.relatedView,f=l.model,p=l.paper,n=e.options.index;if(Array.isArray(s)){for(var a=0,o=s.length;a<o;a++)a!==n&&s[a].hide();this.focus(),this.eventData(t,{sourceAnchor:l.sourceAnchor.clone(),targetAnchor:l.targetAnchor.clone(),sourceAnchorDef:Di(f.prop(["source","anchor"])),targetAnchorDef:Di(f.prop(["target","anchor"]))}),f.startBatch("segment-move",{ui:!0,tool:this.cid}),i.stopPropagation||l.notifyPointerdown.apply(l,p.getPointerArgs(t))}},onHandleChangeEnd:function(e,t){var i=this.options,s=this.relatedView,l=s.paper,f=s.model;i.redundancyRemoval&&s.removeRedundantLinearVertices({ui:!0,tool:this.cid});var p=cr(t),n=l.snapToGrid(p.clientX,p.clientY);this.render(),this.blur(),f.stopBatch("segment-move",{ui:!0,tool:this.cid}),i.stopPropagation||s.notifyPointerup(p,n.x,n.y),s.checkMouseleave(p)},updateHandle:function(e,t,r,i){var s=Math.abs(t.x-r.x)<this.precision,l=Math.abs(t.y-r.y)<this.precision;if(s||l){var f=new et(t,r);if(f.length()<this.options.segmentLengthThreshold)e.hide();else{var n=f.midpoint(),a=s?"x":"y";n[a]+=i||0;var o=f.vector().vectorAngle(new oe(1,0));e.position(n.x,n.y,o,this.relatedView),e.show(),e.options.axis=a}}else e.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:wh}),Ch=eo.extend({tagName:"path",xAxisVector:new oe(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},onRender:function(){this.update()},update:function(){var i,s,e=this.ratio,t=this.relatedView,r=t.getTangentAtRatio(e);if(r?(i=r.start,s=r.vector().vectorAngle(this.xAxisVector)||0):(i=t.getPointAtRatio(e),s=0),!i)return this;var l=be.createSVGMatrix().translate(i.x,i.y).rotate(s);return this.vel.transform(l,{absolute:!0}),this},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.relatedView;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.can("arrowheadMove")&&(t.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),t.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(e){var t=cr(e),r=this.paper.snapToGrid(t.clientX,t.clientY);this.relatedView.pointermove(t,r.x,r.y)},onPointerUp:function(e){this.undelegateDocumentEvents();var t=this.relatedView,r=t.paper,i=cr(e),s=r.snapToGrid(i.clientX,i.clientY);t.pointerup(i,s.x,s.y),r.delegateEvents(),this.blur(),this.el.style.pointerEvents="",t.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),xh=Ch.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),dg=Ch.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),Xl=eo.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){var r=this.vel,i=this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix();r.transform(i,{absolute:!0})},getElementMatrix:function(){var r=this.relatedView,i=this.options,s=i.x;void 0===s&&(s=0);var l=i.y;void 0===l&&(l=0);var f=i.offset;void 0===f&&(f={});var n=i.rotate,a=bh(r,i.useModelGeometry),o=r.model.angle();n||(a=a.bbox(o));var c=f.x;void 0===c&&(c=0);var y=f.y;void 0===y&&(y=0),Qn(s)&&(s=parseFloat(s)/100*a.width),Qn(l)&&(l=parseFloat(l)/100*a.height);var w=be.createSVGMatrix().translate(a.x+a.width/2,a.y+a.height/2);return n&&(w=w.rotate(o)),w.translate(s+c-a.width/2,l+y-a.height/2)},getLinkMatrix:function(){var r=this.relatedView,i=this.options,s=i.offset;void 0===s&&(s=0);var l=i.distance;void 0===l&&(l=0);var p,n,a,f=i.rotate;(p=Qn(l)?r.getTangentAtRatio(parseFloat(l)/100):r.getTangentAtLength(l))?(n=p.start,a=p.vector().vectorAngle(new oe(1,0))||0):(n=r.getConnection().start,a=0);var o=be.createSVGMatrix().translate(n.x,n.y).rotate(a).translate(0,s);return f||(o=o.rotate(-a)),o},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;"function"==typeof t&&t.call(this.relatedView,e,this.relatedView,this)}}}),Sh=Xl.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}}),ql=Xl.extend({name:"connect",documentEvents:{mousemove:"drag",touchmove:"drag",mouseup:"dragend",touchend:"dragend",touchcancel:"dragend"},children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}],options:{distance:80,offset:0,magnet:function(e){return e.el},action:function(e,t,r){return r.dragstart(e)}},getMagnetNode:function(){var l,i=this.relatedView,s=this.options.magnet;switch(typeof s){case"function":l=s.call(this,i,this);break;case"string":l=i.findBySelector(s)[0];break;default:l=s}if(l||(l=i.el),l instanceof SVGElement)return l;throw new Error("Connect: magnet must be an SVGElement")},dragstart:function(e){var r=this.paper,i=this.relatedView,s=cr(e),l=r.clientToLocalPoint(s.clientX,s.clientY),f=l.x,p=l.y;i.dragLinkStart(s,this.getMagnetNode(),f,p),r.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.focus()},drag:function(e){var r=this.paper,i=this.relatedView,s=cr(e),l=r.snapToGrid(s.clientX,s.clientY);i.dragLink(s,l.x,l.y)},dragend:function(e){var r=this.paper,i=this.relatedView,s=cr(e),l=r.snapToGrid(s.clientX,s.clientY);i.dragLinkEnd(s,l.x,l.y),this.undelegateDocumentEvents(),r.delegateEvents(),this.blur(),i.checkMouseleave(s)}}),Jl=eo.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){var e=this,t=e.relatedView,r=e.options,i=e.vel,s=r.useModelGeometry,l=r.rotate,f=So(r.padding),p=bh(t,s).moveAndExpand({x:-f.left,y:-f.top,width:f.left+f.right,height:f.top+f.bottom}),n=t.model;if(n.isElement()){var a=n.angle();if(a)if(l){var o=n.getBBox().center();i.rotate(a,o.x,o.y,{absolute:!0})}else p=p.bbox(a)}return i.attr(p.toJSON()),this}}),Mh=eo.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:function Qu(e,t,r,i,s,l){var f=l.options.snapRadius,p="source"===i,a=this.model.vertex(p?0:-1)||this.getEndAnchor(p?"target":"source");return a&&(Math.abs(a.x-e.x)<f&&(e.x=a.x),Math.abs(a.y-e.y)<f&&(e.y=a.y)),e},anchor:Ih,resetAnchor:!0,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){return this.relatedView.getEndView(this.type)?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var e=this.childNodes;if(e){var t=e.anchor;if(t){var r=this.relatedView,i=this.type,s=r.getEndAnchor(i),l=this.options,f=r.model.prop([i,"anchor"]);t.setAttribute("transform","translate("+s.x+","+s.y+")");var p=f?l.customAnchorAttributes:l.defaultAnchorAttributes;for(var n in p)t.setAttribute(n,p[n])}}},updateArea:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var n,a,o,r=this.relatedView,i=this.type,s=r.getEndView(i),l=s.model,f=r.getEndMagnet(i),p=this.options.areaPadding;isFinite(p)||(p=0),s.isNodeConnection(f)?(a=0,o=(n=s.getBBox()).center()):(n=s.getNodeUnrotatedBBox(f),a=l.angle(),o=n.center(),a&&o.rotate(l.getBBox().center(),-a)),n.inflate(p),t.setAttribute("x",-n.width/2),t.setAttribute("y",-n.height/2),t.setAttribute("width",n.width),t.setAttribute("height",n.height),t.setAttribute("transform","translate("+o.x+","+o.y+") rotate("+a+")")}}},toggleArea:function(e){this.childNodes.area.style.display=e?"":"none"},onPointerDown:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(e){var t=this.type,r=this.relatedView.model;e?r.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):r.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(e){var t=this.relatedView,r=this.type,i=t.getEndView(r),s=i.model,l=t.getEndMagnet(r),f=cr(e),p=this.paper.clientToLocalPoint(f.clientX,f.clientY),n=this.options.snap;if("function"==typeof n&&(p=n.call(t,p,i,l,r,t,this),p=new oe(p)),this.options.restrictArea)if(i.isNodeConnection(l)){var a=i.getClosestPoint(p);a&&(p=a)}else{var o=i.getNodeUnrotatedBBox(l),c=s.angle(),y=s.getBBox().center(),w=p.clone().rotate(y,c);o.containsPoint(w)||(p=o.pointNearestToPoint(w).rotate(y,-c))}var T,E=this.options.anchor;"function"==typeof E&&(T=E.call(t,p,i,l,r,t)),this.resetAnchor(T),this.update()},onPointerUp:function(e){this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var t=this.relatedView;this.options.redundancyRemoval&&t.removeRedundantLinearVertices({ui:!0,tool:this.cid}),t.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){var e=this.options.resetAnchor;!1!==e&&(!0===e&&(e=null),this.resetAnchor(Ii(e)),this.update())}}),pg={Vertices:hg,Segments:fg,SourceArrowhead:dg,TargetArrowhead:xh,SourceAnchor:Mh.extend({name:"source-anchor",type:"source"}),TargetAnchor:Mh.extend({name:"target-anchor",type:"target"}),Button:Xl,Remove:Sh,Connect:ql,Boundary:Jl},mg=eo.extend({tagName:"g",children:[{tagName:"circle",selector:"handle",attributes:{cursor:"pointer","stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6}},{tagName:"rect",selector:"extras",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{handleAttributes:null,selector:"root",padding:6},getPosition:function(){},setPosition:function(){},resetPosition:function(){},onRender:function(){this.renderChildren(),this.toggleExtras(!1),this.update()},update:function(){var e=this.childNodes,t=e.handle,r=e.extras;if(!t)throw new Error("Control: markup selector `handle` is required");return this.updateHandle(t),r&&this.updateExtras(r),this},updateHandle:function(e){var r=this.relatedView,i=this.options,s=r.model,l=this.getPosition(r,this),f=s.getAbsolutePointFromRelative(l);e.setAttribute("transform","translate("+f.x+","+f.y+")");var p=i.handleAttributes;if(p)for(var n in p)e.setAttribute(n,p[n])},updateExtras:function(e){var r=this.relatedView,i=this.options,l=this.options.selector;if(l){var p=r.findBySelector(l)[0];if(!p)throw new Error("Control: invalid selector.");var n=i.padding;isFinite(n)||(n=0);var a=r.getNodeUnrotatedBBox(p),o=r.model,c=o.angle(),y=a.center();c&&y.rotate(o.getBBox().center(),-c),a.inflate(n),e.setAttribute("x",-a.width/2),e.setAttribute("y",-a.height/2),e.setAttribute("width",a.width),e.setAttribute("height",a.height),e.setAttribute("transform","translate("+y.x+","+y.y+") rotate("+c+")")}else this.toggleExtras(!1)},toggleExtras:function(e){var r=this.childNodes.extras;!r||(r.style.display=e?"":"none")},onPointerDown:function(e){var r=this.relatedView,i=this.paper;this.guard(e)||(e.stopPropagation(),e.preventDefault(),i.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleExtras(!0),r.model.startBatch("control-move",{ui:!0,tool:this.cid}))},onPointerMove:function(e){var r=this.relatedView,i=this.paper,s=r.model,l=cr(e),n=i.clientToLocalPoint(l.clientX,l.clientY),a=s.getRelativePointFromAbsolute(n);this.setPosition(r,a,this),this.update()},onPointerUp:function(e){var r=this.relatedView;this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleExtras(!1),r.model.stopBatch("control-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){this.resetPosition(this.relatedView,this),this.update()}}),yg={Button:Xl,Remove:Sh,Connect:ql,Boundary:Jl,Control:mg},Ig=be,wg={DirectedGraph:ma,PortLabel:yu,Port:il};X.V=be,X.Vectorizer=Ig,X.anchors=eh,X.config=Vr,X.connectionPoints=$c,X.connectionStrategies=cg,X.connectors=Hc,X.dia=qf,X.elementTools=yg,X.env=Wl,X.format={},X.g=nn,X.highlighters=qc,X.layout=wg,X.linkAnchors=Pu,X.linkTools=pg,X.mvc=al,X.routers=zc,X.setTheme=function(e,t){ga(ws,"setTheme",e,t=t||{}),pa.prototype.defaultTheme=e},X.shapes=Ju,X.ui={},X.util=cc,X.version="3.5.5",Object.defineProperty(X,"__esModule",{value:!0})}),"undefined"!=typeof joint)var g=joint.g,V=joint.V,Vectorizer=joint.V;!function(Je,Ae){"object"==typeof exports&&"object"==typeof module?module.exports=Ae():"function"==typeof define&&define.amd?define([],Ae):"object"==typeof exports?exports.katex=Ae():Je.katex=Ae()}("undefined"!=typeof self?self:this,function(){return function(){"use strict";var X={d:function(M,u){for(var h in u)X.o(u,h)&&!X.o(M,h)&&Object.defineProperty(M,h,{enumerable:!0,get:u[h]})},o:function(M,u){return Object.prototype.hasOwnProperty.call(M,u)}},Je={};X.d(Je,{default:function(){return bl}});var Ae=function M(u,h){this.position=void 0;var m,d="KaTeX parse error: "+u,I=h&&h.loc;if(I&&I.start<=I.end){var N=I.lexer.input,P=I.end;d+=(m=I.start)===N.length?" at end of input: ":" at position "+(m+1)+": ";var _=N.slice(m,P).replace(/[^]/g,"$&\u0332");d+=(m>15?"\u2026"+N.slice(m-15,m):N.slice(0,m))+_+(P+15<N.length?N.slice(P,P+15)+"\u2026":N.slice(P))}var me=new Error(d);return me.name="ParseError",me.__proto__=M.prototype,me.position=m,me};Ae.prototype.__proto__=Error.prototype;var Se=Ae,Tr=/([A-Z])/g,Un={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},sn=/[&><"']/g,Nn=function M(u){return"ordgroup"===u.type||"color"===u.type?1===u.body.length?M(u.body[0]):u:"font"===u.type?M(u.body):u},lt_contains=function(u,h){return-1!==u.indexOf(h)},lt_deflt=function(u,h){return void 0===u?h:u},lt_escape=function Fr(M){return String(M).replace(sn,function(u){return Un[u]})},lt_hyphenate=function(u){return u.replace(Tr,"-$1").toLowerCase()},lt_getBaseElem=Nn,lt_isCharacterBox=function(u){var h=Nn(u);return"mathord"===h.type||"textord"===h.type||"atom"===h.type},lt_protocolFromUrl=function(u){var h=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(u);return null!=h?h[1]:"_relative"},kt={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:function(u){return"#"+u}},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:function(u,h){return h.push(u),h}},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:function(u){return Math.max(0,u)},cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:function(u){return Math.max(0,u)},cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:function(u){return Math.max(0,u)},cli:"-e, --max-expand <n>",cliProcessor:function(u){return"Infinity"===u?1/0:parseInt(u)}},globalGroup:{type:"boolean",cli:!1}};function On(M){if(M.default)return M.default;var u=M.type,h=Array.isArray(u)?u[0]:u;if("string"!=typeof h)return h.enum[0];switch(h){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}var mn=function(){function M(h){for(var d in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,h=h||{},kt)if(kt.hasOwnProperty(d)){var m=kt[d];this[d]=void 0!==h[d]?m.processor?m.processor(h[d]):h[d]:On(m)}}var u=M.prototype;return u.reportNonstrict=function(d,m,I){var N=this.strict;if("function"==typeof N&&(N=N(d,m,I)),N&&"ignore"!==N){if(!0===N||"error"===N)throw new Se("LaTeX-incompatible input and strict mode is set to 'error': "+m+" ["+d+"]",I);"warn"===N?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+m+" ["+d+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+N+"': "+m+" ["+d+"]")}},u.useStrictBehavior=function(d,m,I){var N=this.strict;if("function"==typeof N)try{N=N(d,m,I)}catch(P){N="error"}return!(!N||"ignore"===N||!0!==N&&"error"!==N&&("warn"===N?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+m+" ["+d+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+N+"': "+m+" ["+d+"]"),1)))},u.isTrusted=function(d){d.url&&!d.protocol&&(d.protocol=lt_protocolFromUrl(d.url));var m="function"==typeof this.trust?this.trust(d):this.trust;return Boolean(m)},M}(),Or=function(){function M(h,d,m){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=h,this.size=d,this.cramped=m}var u=M.prototype;return u.sup=function(){return hr[Ba[this.id]]},u.sub=function(){return hr[ro[this.id]]},u.fracNum=function(){return hr[Ei[this.id]]},u.fracDen=function(){return hr[wi[this.id]]},u.cramp=function(){return hr[no[this.id]]},u.text=function(){return hr[Oa[this.id]]},u.isTight=function(){return this.size>=2},M}(),hr=[new Or(0,0,!1),new Or(1,0,!0),new Or(2,1,!1),new Or(3,1,!0),new Or(4,2,!1),new Or(5,2,!0),new Or(6,3,!1),new Or(7,3,!0)],Ba=[4,5,4,5,6,7,6,7],ro=[5,5,5,5,7,7,7,7],Ei=[2,3,4,5,6,7,6,7],wi=[3,3,5,5,7,7,7,7],no=[1,1,3,3,5,5,7,7],Oa=[0,1,2,3,2,3,2,3],Ke={DISPLAY:hr[0],TEXT:hr[2],SCRIPT:hr[4],SCRIPTSCRIPT:hr[6]},kn=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],Ia=[];function ni(M){for(var u=0;u<Ia.length;u+=2)if(M>=Ia[u]&&M<=Ia[u+1])return!0;return!1}kn.forEach(function(M){return M.blocks.forEach(function(u){return Ia.push.apply(Ia,u)})});var H={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},te=function(){function M(h){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=h,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var u=M.prototype;return u.hasClass=function(d){return lt_contains(this.classes,d)},u.toNode=function(){for(var d=document.createDocumentFragment(),m=0;m<this.children.length;m++)d.appendChild(this.children[m].toNode());return d},u.toMarkup=function(){for(var d="",m=0;m<this.children.length;m++)d+=this.children[m].toMarkup();return d},u.toText=function(){return this.children.map(function(I){return I.toText()}).join("")},M}(),pe={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},De={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Le={\u00c5:"A",\u00d0:"D",\u00de:"o",\u00e5:"a",\u00f0:"d",\u00fe:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041a:"K",\u041b:"N",\u041c:"M",\u041d:"H",\u041e:"O",\u041f:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042a:"B",\u042b:"X",\u042c:"B",\u042d:"3",\u042e:"X",\u042f:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043a:"n",\u043b:"n",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044a:"a",\u044b:"m",\u044c:"a",\u044d:"e",\u044e:"m",\u044f:"r"};function At(M,u,h){if(!pe[u])throw new Error("Font metrics not found for font: "+u+".");var d=M.charCodeAt(0),m=pe[u][d];if(!m&&M[0]in Le&&(d=Le[M[0]].charCodeAt(0),m=pe[u][d]),!m&&"text"===h&&ni(d)&&(m=pe[u][77]),m)return{depth:m[0],height:m[1],italic:m[2],skew:m[3],width:m[4]}}var $t={},kr=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ir=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],An=function(u,h){return h.size<2?u:kr[u-1][h.size-1]},Dn=function(){function M(h){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=h.style,this.color=h.color,this.size=h.size||M.BASESIZE,this.textSize=h.textSize||this.size,this.phantom=!!h.phantom,this.font=h.font||"",this.fontFamily=h.fontFamily||"",this.fontWeight=h.fontWeight||"",this.fontShape=h.fontShape||"",this.sizeMultiplier=ir[this.size-1],this.maxSize=h.maxSize,this.minRuleThickness=h.minRuleThickness,this._fontMetrics=void 0}var u=M.prototype;return u.extend=function(d){var m={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var I in d)d.hasOwnProperty(I)&&(m[I]=d[I]);return new M(m)},u.havingStyle=function(d){return this.style===d?this:this.extend({style:d,size:An(this.textSize,d)})},u.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},u.havingSize=function(d){return this.size===d&&this.textSize===d?this:this.extend({style:this.style.text(),size:d,textSize:d,sizeMultiplier:ir[d-1]})},u.havingBaseStyle=function(d){d=d||this.style.text();var m=An(M.BASESIZE,d);return this.size===m&&this.textSize===M.BASESIZE&&this.style===d?this:this.extend({style:d,size:m})},u.havingBaseSizing=function(){var d;switch(this.style.id){case 4:case 5:d=3;break;case 6:case 7:d=1;break;default:d=6}return this.extend({style:this.style.text(),size:d})},u.withColor=function(d){return this.extend({color:d})},u.withPhantom=function(){return this.extend({phantom:!0})},u.withFont=function(d){return this.extend({font:d})},u.withTextFontFamily=function(d){return this.extend({fontFamily:d,font:""})},u.withTextFontWeight=function(d){return this.extend({fontWeight:d,font:""})},u.withTextFontShape=function(d){return this.extend({fontShape:d,font:""})},u.sizingClasses=function(d){return d.size!==this.size?["sizing","reset-size"+d.size,"size"+this.size]:[]},u.baseSizingClasses=function(){return this.size!==M.BASESIZE?["sizing","reset-size"+this.size,"size"+M.BASESIZE]:[]},u.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function Rr(M){var u;if(!$t[u=M>=5?0:M>=3?1:2]){var h=$t[u]={cssEmPerMu:De.quad[u]/18};for(var d in De)De.hasOwnProperty(d)&&(h[d]=De[d][u])}return $t[u]}(this.size)),this._fontMetrics},u.getColor=function(){return this.phantom?"transparent":this.color},M}();Dn.BASESIZE=6;var Hn=Dn,ar={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},qr={ex:!0,em:!0,mu:!0},fn=function(u){return"string"!=typeof u&&(u=u.unit),u in ar||u in qr||"ex"===u},Jt=function(u,h){var d;if(u.unit in ar)d=ar[u.unit]/h.fontMetrics().ptPerEm/h.sizeMultiplier;else if("mu"===u.unit)d=h.fontMetrics().cssEmPerMu;else{var m;if(m=h.style.isTight()?h.havingStyle(h.style.text()):h,"ex"===u.unit)d=m.fontMetrics().xHeight;else{if("em"!==u.unit)throw new Se("Invalid unit: '"+u.unit+"'");d=m.fontMetrics().quad}m!==h&&(d*=m.sizeMultiplier/h.sizeMultiplier)}return Math.min(u.number*d,h.maxSize)},Ze=function(u){return+u.toFixed(4)+"em"},Jr=function(u){return u.filter(function(h){return h}).join(" ")},In=function(u,h,d){if(this.classes=u||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=d||{},h){h.style.isTight()&&this.classes.push("mtight");var m=h.getColor();m&&(this.style.color=m)}},Ga=function(u){var h=document.createElement(u);for(var d in h.className=Jr(this.classes),this.style)this.style.hasOwnProperty(d)&&(h.style[d]=this.style[d]);for(var m in this.attributes)this.attributes.hasOwnProperty(m)&&h.setAttribute(m,this.attributes[m]);for(var I=0;I<this.children.length;I++)h.appendChild(this.children[I].toNode());return h},R0=function(u){var h="<"+u;this.classes.length&&(h+=' class="'+lt_escape(Jr(this.classes))+'"');var d="";for(var m in this.style)this.style.hasOwnProperty(m)&&(d+=lt_hyphenate(m)+":"+this.style[m]+";");for(var I in d&&(h+=' style="'+lt_escape(d)+'"'),this.attributes)this.attributes.hasOwnProperty(I)&&(h+=" "+I+'="'+lt_escape(this.attributes[I])+'"');h+=">";for(var N=0;N<this.children.length;N++)h+=this.children[N].toMarkup();return h+"</"+u+">"},Cs=function(){function M(h,d,m,I){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,In.call(this,h,m,I),this.children=d||[]}var u=M.prototype;return u.setAttribute=function(d,m){this.attributes[d]=m},u.hasClass=function(d){return lt_contains(this.classes,d)},u.toNode=function(){return Ga.call(this,"span")},u.toMarkup=function(){return R0.call(this,"span")},M}(),xs=function(){function M(h,d,m,I){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,In.call(this,d,I),this.children=m||[],this.setAttribute("href",h)}var u=M.prototype;return u.setAttribute=function(d,m){this.attributes[d]=m},u.hasClass=function(d){return lt_contains(this.classes,d)},u.toNode=function(){return Ga.call(this,"a")},u.toMarkup=function(){return R0.call(this,"a")},M}(),Ci=function(){function M(h,d,m){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=d,this.src=h,this.classes=["mord"],this.style=m}var u=M.prototype;return u.hasClass=function(d){return lt_contains(this.classes,d)},u.toNode=function(){var d=document.createElement("img");for(var m in d.src=this.src,d.alt=this.alt,d.className="mord",this.style)this.style.hasOwnProperty(m)&&(d.style[m]=this.style[m]);return d},u.toMarkup=function(){var d="<img  src='"+this.src+" 'alt='"+this.alt+"' ",m="";for(var I in this.style)this.style.hasOwnProperty(I)&&(m+=lt_hyphenate(I)+":"+this.style[I]+";");return m&&(d+=' style="'+lt_escape(m)+'"'),d+"'/>"},M}(),wa={\u00ee:"\u0131\u0302",\u00ef:"\u0131\u0308",\u00ed:"\u0131\u0301",\u00ec:"\u0131\u0300"},hi=function(){function M(h,d,m,I,N,P,_,q){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=h,this.height=d||0,this.depth=m||0,this.italic=I||0,this.skew=N||0,this.width=P||0,this.classes=_||[],this.style=q||{},this.maxFontSize=0;var ae=function Aa(M){for(var u=0;u<kn.length;u++)for(var h=kn[u],d=0;d<h.blocks.length;d++){var m=h.blocks[d];if(M>=m[0]&&M<=m[1])return h.name}return null}(this.text.charCodeAt(0));ae&&this.classes.push(ae+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=wa[this.text])}var u=M.prototype;return u.hasClass=function(d){return lt_contains(this.classes,d)},u.toNode=function(){var d=document.createTextNode(this.text),m=null;for(var I in this.italic>0&&((m=document.createElement("span")).style.marginRight=Ze(this.italic)),this.classes.length>0&&((m=m||document.createElement("span")).className=Jr(this.classes)),this.style)this.style.hasOwnProperty(I)&&((m=m||document.createElement("span")).style[I]=this.style[I]);return m?(m.appendChild(d),m):d},u.toMarkup=function(){var d=!1,m="<span";this.classes.length&&(d=!0,m+=' class="',m+=lt_escape(Jr(this.classes)),m+='"');var I="";for(var N in this.italic>0&&(I+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(N)&&(I+=lt_hyphenate(N)+":"+this.style[N]+";");I&&(d=!0,m+=' style="'+lt_escape(I)+'"');var P=lt_escape(this.text);return d?(m+=">",m+=P,m+="</span>"):P},M}(),Ui=function(){function M(h,d){this.children=void 0,this.attributes=void 0,this.children=h||[],this.attributes=d||{}}var u=M.prototype;return u.toNode=function(){var m=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&m.setAttribute(I,this.attributes[I]);for(var N=0;N<this.children.length;N++)m.appendChild(this.children[N].toNode());return m},u.toMarkup=function(){var d='<svg xmlns="http://www.w3.org/2000/svg"';for(var m in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,m)&&(d+=" "+m+"='"+this.attributes[m]+"'");d+=">";for(var I=0;I<this.children.length;I++)d+=this.children[I].toMarkup();return d+"</svg>"},M}(),Vi=function(){function M(h,d){this.pathName=void 0,this.alternate=void 0,this.pathName=h,this.alternate=d}var u=M.prototype;return u.toNode=function(){var m=document.createElementNS("http://www.w3.org/2000/svg","path");return m.setAttribute("d",this.alternate?this.alternate:H[this.pathName]),m},u.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+H[this.pathName]+"'/>"},M}(),Ss=function(){function M(h){this.attributes=void 0,this.attributes=h||{}}var u=M.prototype;return u.toNode=function(){var m=document.createElementNS("http://www.w3.org/2000/svg","line");for(var I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&m.setAttribute(I,this.attributes[I]);return m},u.toMarkup=function(){var d="<line";for(var m in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,m)&&(d+=" "+m+"='"+this.attributes[m]+"'");return d+"/>"},M}();function To(M){if(M instanceof hi)return M;throw new Error("Expected symbolNode but got "+String(M)+".")}var i0={bin:1,close:1,inner:1,open:1,punct:1,rel:1},G0={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},as={math:{},text:{}},Dr=as;function b(M,u,h,d,m,I){as[M][m]={font:u,group:h,replace:d},I&&d&&(as[M][d]=as[M][m])}var D="math",Ge="text",R="main",ee="ams",Ar="accent-token",tt="bin",Gn="close",ss="inner",dt="mathord",tn="op-token",ii="open",Ms="punct",re="rel",Xn="spacing",he="textord";b(D,R,re,"\u2261","\\equiv",!0),b(D,R,re,"\u227a","\\prec",!0),b(D,R,re,"\u227b","\\succ",!0),b(D,R,re,"\u223c","\\sim",!0),b(D,R,re,"\u22a5","\\perp"),b(D,R,re,"\u2aaf","\\preceq",!0),b(D,R,re,"\u2ab0","\\succeq",!0),b(D,R,re,"\u2243","\\simeq",!0),b(D,R,re,"\u2223","\\mid",!0),b(D,R,re,"\u226a","\\ll",!0),b(D,R,re,"\u226b","\\gg",!0),b(D,R,re,"\u224d","\\asymp",!0),b(D,R,re,"\u2225","\\parallel"),b(D,R,re,"\u22c8","\\bowtie",!0),b(D,R,re,"\u2323","\\smile",!0),b(D,R,re,"\u2291","\\sqsubseteq",!0),b(D,R,re,"\u2292","\\sqsupseteq",!0),b(D,R,re,"\u2250","\\doteq",!0),b(D,R,re,"\u2322","\\frown",!0),b(D,R,re,"\u220b","\\ni",!0),b(D,R,re,"\u221d","\\propto",!0),b(D,R,re,"\u22a2","\\vdash",!0),b(D,R,re,"\u22a3","\\dashv",!0),b(D,R,re,"\u220b","\\owns"),b(D,R,Ms,".","\\ldotp"),b(D,R,Ms,"\u22c5","\\cdotp"),b(D,R,he,"#","\\#"),b(Ge,R,he,"#","\\#"),b(D,R,he,"&","\\&"),b(Ge,R,he,"&","\\&"),b(D,R,he,"\u2135","\\aleph",!0),b(D,R,he,"\u2200","\\forall",!0),b(D,R,he,"\u210f","\\hbar",!0),b(D,R,he,"\u2203","\\exists",!0),b(D,R,he,"\u2207","\\nabla",!0),b(D,R,he,"\u266d","\\flat",!0),b(D,R,he,"\u2113","\\ell",!0),b(D,R,he,"\u266e","\\natural",!0),b(D,R,he,"\u2663","\\clubsuit",!0),b(D,R,he,"\u2118","\\wp",!0),b(D,R,he,"\u266f","\\sharp",!0),b(D,R,he,"\u2662","\\diamondsuit",!0),b(D,R,he,"\u211c","\\Re",!0),b(D,R,he,"\u2661","\\heartsuit",!0),b(D,R,he,"\u2111","\\Im",!0),b(D,R,he,"\u2660","\\spadesuit",!0),b(D,R,he,"\xa7","\\S",!0),b(Ge,R,he,"\xa7","\\S"),b(D,R,he,"\xb6","\\P",!0),b(Ge,R,he,"\xb6","\\P"),b(D,R,he,"\u2020","\\dag"),b(Ge,R,he,"\u2020","\\dag"),b(Ge,R,he,"\u2020","\\textdagger"),b(D,R,he,"\u2021","\\ddag"),b(Ge,R,he,"\u2021","\\ddag"),b(Ge,R,he,"\u2021","\\textdaggerdbl"),b(D,R,Gn,"\u23b1","\\rmoustache",!0),b(D,R,ii,"\u23b0","\\lmoustache",!0),b(D,R,Gn,"\u27ef","\\rgroup",!0),b(D,R,ii,"\u27ee","\\lgroup",!0),b(D,R,tt,"\u2213","\\mp",!0),b(D,R,tt,"\u2296","\\ominus",!0),b(D,R,tt,"\u228e","\\uplus",!0),b(D,R,tt,"\u2293","\\sqcap",!0),b(D,R,tt,"\u2217","\\ast"),b(D,R,tt,"\u2294","\\sqcup",!0),b(D,R,tt,"\u25ef","\\bigcirc",!0),b(D,R,tt,"\u2219","\\bullet",!0),b(D,R,tt,"\u2021","\\ddagger"),b(D,R,tt,"\u2240","\\wr",!0),b(D,R,tt,"\u2a3f","\\amalg"),b(D,R,tt,"&","\\And"),b(D,R,re,"\u27f5","\\longleftarrow",!0),b(D,R,re,"\u21d0","\\Leftarrow",!0),b(D,R,re,"\u27f8","\\Longleftarrow",!0),b(D,R,re,"\u27f6","\\longrightarrow",!0),b(D,R,re,"\u21d2","\\Rightarrow",!0),b(D,R,re,"\u27f9","\\Longrightarrow",!0),b(D,R,re,"\u2194","\\leftrightarrow",!0),b(D,R,re,"\u27f7","\\longleftrightarrow",!0),b(D,R,re,"\u21d4","\\Leftrightarrow",!0),b(D,R,re,"\u27fa","\\Longleftrightarrow",!0),b(D,R,re,"\u21a6","\\mapsto",!0),b(D,R,re,"\u27fc","\\longmapsto",!0),b(D,R,re,"\u2197","\\nearrow",!0),b(D,R,re,"\u21a9","\\hookleftarrow",!0),b(D,R,re,"\u21aa","\\hookrightarrow",!0),b(D,R,re,"\u2198","\\searrow",!0),b(D,R,re,"\u21bc","\\leftharpoonup",!0),b(D,R,re,"\u21c0","\\rightharpoonup",!0),b(D,R,re,"\u2199","\\swarrow",!0),b(D,R,re,"\u21bd","\\leftharpoondown",!0),b(D,R,re,"\u21c1","\\rightharpoondown",!0),b(D,R,re,"\u2196","\\nwarrow",!0),b(D,R,re,"\u21cc","\\rightleftharpoons",!0),b(D,ee,re,"\u226e","\\nless",!0),b(D,ee,re,"\ue010","\\@nleqslant"),b(D,ee,re,"\ue011","\\@nleqq"),b(D,ee,re,"\u2a87","\\lneq",!0),b(D,ee,re,"\u2268","\\lneqq",!0),b(D,ee,re,"\ue00c","\\@lvertneqq"),b(D,ee,re,"\u22e6","\\lnsim",!0),b(D,ee,re,"\u2a89","\\lnapprox",!0),b(D,ee,re,"\u2280","\\nprec",!0),b(D,ee,re,"\u22e0","\\npreceq",!0),b(D,ee,re,"\u22e8","\\precnsim",!0),b(D,ee,re,"\u2ab9","\\precnapprox",!0),b(D,ee,re,"\u2241","\\nsim",!0),b(D,ee,re,"\ue006","\\@nshortmid"),b(D,ee,re,"\u2224","\\nmid",!0),b(D,ee,re,"\u22ac","\\nvdash",!0),b(D,ee,re,"\u22ad","\\nvDash",!0),b(D,ee,re,"\u22ea","\\ntriangleleft"),b(D,ee,re,"\u22ec","\\ntrianglelefteq",!0),b(D,ee,re,"\u228a","\\subsetneq",!0),b(D,ee,re,"\ue01a","\\@varsubsetneq"),b(D,ee,re,"\u2acb","\\subsetneqq",!0),b(D,ee,re,"\ue017","\\@varsubsetneqq"),b(D,ee,re,"\u226f","\\ngtr",!0),b(D,ee,re,"\ue00f","\\@ngeqslant"),b(D,ee,re,"\ue00e","\\@ngeqq"),b(D,ee,re,"\u2a88","\\gneq",!0),b(D,ee,re,"\u2269","\\gneqq",!0),b(D,ee,re,"\ue00d","\\@gvertneqq"),b(D,ee,re,"\u22e7","\\gnsim",!0),b(D,ee,re,"\u2a8a","\\gnapprox",!0),b(D,ee,re,"\u2281","\\nsucc",!0),b(D,ee,re,"\u22e1","\\nsucceq",!0),b(D,ee,re,"\u22e9","\\succnsim",!0),b(D,ee,re,"\u2aba","\\succnapprox",!0),b(D,ee,re,"\u2246","\\ncong",!0),b(D,ee,re,"\ue007","\\@nshortparallel"),b(D,ee,re,"\u2226","\\nparallel",!0),b(D,ee,re,"\u22af","\\nVDash",!0),b(D,ee,re,"\u22eb","\\ntriangleright"),b(D,ee,re,"\u22ed","\\ntrianglerighteq",!0),b(D,ee,re,"\ue018","\\@nsupseteqq"),b(D,ee,re,"\u228b","\\supsetneq",!0),b(D,ee,re,"\ue01b","\\@varsupsetneq"),b(D,ee,re,"\u2acc","\\supsetneqq",!0),b(D,ee,re,"\ue019","\\@varsupsetneqq"),b(D,ee,re,"\u22ae","\\nVdash",!0),b(D,ee,re,"\u2ab5","\\precneqq",!0),b(D,ee,re,"\u2ab6","\\succneqq",!0),b(D,ee,re,"\ue016","\\@nsubseteqq"),b(D,ee,tt,"\u22b4","\\unlhd"),b(D,ee,tt,"\u22b5","\\unrhd"),b(D,ee,re,"\u219a","\\nleftarrow",!0),b(D,ee,re,"\u219b","\\nrightarrow",!0),b(D,ee,re,"\u21cd","\\nLeftarrow",!0),b(D,ee,re,"\u21cf","\\nRightarrow",!0),b(D,ee,re,"\u21ae","\\nleftrightarrow",!0),b(D,ee,re,"\u21ce","\\nLeftrightarrow",!0),b(D,ee,re,"\u25b3","\\vartriangle"),b(D,ee,he,"\u210f","\\hslash"),b(D,ee,he,"\u25bd","\\triangledown"),b(D,ee,he,"\u25ca","\\lozenge"),b(D,ee,he,"\u24c8","\\circledS"),b(D,ee,he,"\xae","\\circledR"),b(Ge,ee,he,"\xae","\\circledR"),b(D,ee,he,"\u2221","\\measuredangle",!0),b(D,ee,he,"\u2204","\\nexists"),b(D,ee,he,"\u2127","\\mho"),b(D,ee,he,"\u2132","\\Finv",!0),b(D,ee,he,"\u2141","\\Game",!0),b(D,ee,he,"\u2035","\\backprime"),b(D,ee,he,"\u25b2","\\blacktriangle"),b(D,ee,he,"\u25bc","\\blacktriangledown"),b(D,ee,he,"\u25a0","\\blacksquare"),b(D,ee,he,"\u29eb","\\blacklozenge"),b(D,ee,he,"\u2605","\\bigstar"),b(D,ee,he,"\u2222","\\sphericalangle",!0),b(D,ee,he,"\u2201","\\complement",!0),b(D,ee,he,"\xf0","\\eth",!0),b(Ge,R,he,"\xf0","\xf0"),b(D,ee,he,"\u2571","\\diagup"),b(D,ee,he,"\u2572","\\diagdown"),b(D,ee,he,"\u25a1","\\square"),b(D,ee,he,"\u25a1","\\Box"),b(D,ee,he,"\u25ca","\\Diamond"),b(D,ee,he,"\xa5","\\yen",!0),b(Ge,ee,he,"\xa5","\\yen",!0),b(D,ee,he,"\u2713","\\checkmark",!0),b(Ge,ee,he,"\u2713","\\checkmark"),b(D,ee,he,"\u2136","\\beth",!0),b(D,ee,he,"\u2138","\\daleth",!0),b(D,ee,he,"\u2137","\\gimel",!0),b(D,ee,he,"\u03dd","\\digamma",!0),b(D,ee,he,"\u03f0","\\varkappa"),b(D,ee,ii,"\u250c","\\@ulcorner",!0),b(D,ee,Gn,"\u2510","\\@urcorner",!0),b(D,ee,ii,"\u2514","\\@llcorner",!0),b(D,ee,Gn,"\u2518","\\@lrcorner",!0),b(D,ee,re,"\u2266","\\leqq",!0),b(D,ee,re,"\u2a7d","\\leqslant",!0),b(D,ee,re,"\u2a95","\\eqslantless",!0),b(D,ee,re,"\u2272","\\lesssim",!0),b(D,ee,re,"\u2a85","\\lessapprox",!0),b(D,ee,re,"\u224a","\\approxeq",!0),b(D,ee,tt,"\u22d6","\\lessdot"),b(D,ee,re,"\u22d8","\\lll",!0),b(D,ee,re,"\u2276","\\lessgtr",!0),b(D,ee,re,"\u22da","\\lesseqgtr",!0),b(D,ee,re,"\u2a8b","\\lesseqqgtr",!0),b(D,ee,re,"\u2251","\\doteqdot"),b(D,ee,re,"\u2253","\\risingdotseq",!0),b(D,ee,re,"\u2252","\\fallingdotseq",!0),b(D,ee,re,"\u223d","\\backsim",!0),b(D,ee,re,"\u22cd","\\backsimeq",!0),b(D,ee,re,"\u2ac5","\\subseteqq",!0),b(D,ee,re,"\u22d0","\\Subset",!0),b(D,ee,re,"\u228f","\\sqsubset",!0),b(D,ee,re,"\u227c","\\preccurlyeq",!0),b(D,ee,re,"\u22de","\\curlyeqprec",!0),b(D,ee,re,"\u227e","\\precsim",!0),b(D,ee,re,"\u2ab7","\\precapprox",!0),b(D,ee,re,"\u22b2","\\vartriangleleft"),b(D,ee,re,"\u22b4","\\trianglelefteq"),b(D,ee,re,"\u22a8","\\vDash",!0),b(D,ee,re,"\u22aa","\\Vvdash",!0),b(D,ee,re,"\u2323","\\smallsmile"),b(D,ee,re,"\u2322","\\smallfrown"),b(D,ee,re,"\u224f","\\bumpeq",!0),b(D,ee,re,"\u224e","\\Bumpeq",!0),b(D,ee,re,"\u2267","\\geqq",!0),b(D,ee,re,"\u2a7e","\\geqslant",!0),b(D,ee,re,"\u2a96","\\eqslantgtr",!0),b(D,ee,re,"\u2273","\\gtrsim",!0),b(D,ee,re,"\u2a86","\\gtrapprox",!0),b(D,ee,tt,"\u22d7","\\gtrdot"),b(D,ee,re,"\u22d9","\\ggg",!0),b(D,ee,re,"\u2277","\\gtrless",!0),b(D,ee,re,"\u22db","\\gtreqless",!0),b(D,ee,re,"\u2a8c","\\gtreqqless",!0),b(D,ee,re,"\u2256","\\eqcirc",!0),b(D,ee,re,"\u2257","\\circeq",!0),b(D,ee,re,"\u225c","\\triangleq",!0),b(D,ee,re,"\u223c","\\thicksim"),b(D,ee,re,"\u2248","\\thickapprox"),b(D,ee,re,"\u2ac6","\\supseteqq",!0),b(D,ee,re,"\u22d1","\\Supset",!0),b(D,ee,re,"\u2290","\\sqsupset",!0),b(D,ee,re,"\u227d","\\succcurlyeq",!0),b(D,ee,re,"\u22df","\\curlyeqsucc",!0),b(D,ee,re,"\u227f","\\succsim",!0),b(D,ee,re,"\u2ab8","\\succapprox",!0),b(D,ee,re,"\u22b3","\\vartriangleright"),b(D,ee,re,"\u22b5","\\trianglerighteq"),b(D,ee,re,"\u22a9","\\Vdash",!0),b(D,ee,re,"\u2223","\\shortmid"),b(D,ee,re,"\u2225","\\shortparallel"),b(D,ee,re,"\u226c","\\between",!0),b(D,ee,re,"\u22d4","\\pitchfork",!0),b(D,ee,re,"\u221d","\\varpropto"),b(D,ee,re,"\u25c0","\\blacktriangleleft"),b(D,ee,re,"\u2234","\\therefore",!0),b(D,ee,re,"\u220d","\\backepsilon"),b(D,ee,re,"\u25b6","\\blacktriangleright"),b(D,ee,re,"\u2235","\\because",!0),b(D,ee,re,"\u22d8","\\llless"),b(D,ee,re,"\u22d9","\\gggtr"),b(D,ee,tt,"\u22b2","\\lhd"),b(D,ee,tt,"\u22b3","\\rhd"),b(D,ee,re,"\u2242","\\eqsim",!0),b(D,R,re,"\u22c8","\\Join"),b(D,ee,re,"\u2251","\\Doteq",!0),b(D,ee,tt,"\u2214","\\dotplus",!0),b(D,ee,tt,"\u2216","\\smallsetminus"),b(D,ee,tt,"\u22d2","\\Cap",!0),b(D,ee,tt,"\u22d3","\\Cup",!0),b(D,ee,tt,"\u2a5e","\\doublebarwedge",!0),b(D,ee,tt,"\u229f","\\boxminus",!0),b(D,ee,tt,"\u229e","\\boxplus",!0),b(D,ee,tt,"\u22c7","\\divideontimes",!0),b(D,ee,tt,"\u22c9","\\ltimes",!0),b(D,ee,tt,"\u22ca","\\rtimes",!0),b(D,ee,tt,"\u22cb","\\leftthreetimes",!0),b(D,ee,tt,"\u22cc","\\rightthreetimes",!0),b(D,ee,tt,"\u22cf","\\curlywedge",!0),b(D,ee,tt,"\u22ce","\\curlyvee",!0),b(D,ee,tt,"\u229d","\\circleddash",!0),b(D,ee,tt,"\u229b","\\circledast",!0),b(D,ee,tt,"\u22c5","\\centerdot"),b(D,ee,tt,"\u22ba","\\intercal",!0),b(D,ee,tt,"\u22d2","\\doublecap"),b(D,ee,tt,"\u22d3","\\doublecup"),b(D,ee,tt,"\u22a0","\\boxtimes",!0),b(D,ee,re,"\u21e2","\\dashrightarrow",!0),b(D,ee,re,"\u21e0","\\dashleftarrow",!0),b(D,ee,re,"\u21c7","\\leftleftarrows",!0),b(D,ee,re,"\u21c6","\\leftrightarrows",!0),b(D,ee,re,"\u21da","\\Lleftarrow",!0),b(D,ee,re,"\u219e","\\twoheadleftarrow",!0),b(D,ee,re,"\u21a2","\\leftarrowtail",!0),b(D,ee,re,"\u21ab","\\looparrowleft",!0),b(D,ee,re,"\u21cb","\\leftrightharpoons",!0),b(D,ee,re,"\u21b6","\\curvearrowleft",!0),b(D,ee,re,"\u21ba","\\circlearrowleft",!0),b(D,ee,re,"\u21b0","\\Lsh",!0),b(D,ee,re,"\u21c8","\\upuparrows",!0),b(D,ee,re,"\u21bf","\\upharpoonleft",!0),b(D,ee,re,"\u21c3","\\downharpoonleft",!0),b(D,R,re,"\u22b6","\\origof",!0),b(D,R,re,"\u22b7","\\imageof",!0),b(D,ee,re,"\u22b8","\\multimap",!0),b(D,ee,re,"\u21ad","\\leftrightsquigarrow",!0),b(D,ee,re,"\u21c9","\\rightrightarrows",!0),b(D,ee,re,"\u21c4","\\rightleftarrows",!0),b(D,ee,re,"\u21a0","\\twoheadrightarrow",!0),b(D,ee,re,"\u21a3","\\rightarrowtail",!0),b(D,ee,re,"\u21ac","\\looparrowright",!0),b(D,ee,re,"\u21b7","\\curvearrowright",!0),b(D,ee,re,"\u21bb","\\circlearrowright",!0),b(D,ee,re,"\u21b1","\\Rsh",!0),b(D,ee,re,"\u21ca","\\downdownarrows",!0),b(D,ee,re,"\u21be","\\upharpoonright",!0),b(D,ee,re,"\u21c2","\\downharpoonright",!0),b(D,ee,re,"\u21dd","\\rightsquigarrow",!0),b(D,ee,re,"\u21dd","\\leadsto"),b(D,ee,re,"\u21db","\\Rrightarrow",!0),b(D,ee,re,"\u21be","\\restriction"),b(D,R,he,"\u2018","`"),b(D,R,he,"$","\\$"),b(Ge,R,he,"$","\\$"),b(Ge,R,he,"$","\\textdollar"),b(D,R,he,"%","\\%"),b(Ge,R,he,"%","\\%"),b(D,R,he,"_","\\_"),b(Ge,R,he,"_","\\_"),b(Ge,R,he,"_","\\textunderscore"),b(D,R,he,"\u2220","\\angle",!0),b(D,R,he,"\u221e","\\infty",!0),b(D,R,he,"\u2032","\\prime"),b(D,R,he,"\u25b3","\\triangle"),b(D,R,he,"\u0393","\\Gamma",!0),b(D,R,he,"\u0394","\\Delta",!0),b(D,R,he,"\u0398","\\Theta",!0),b(D,R,he,"\u039b","\\Lambda",!0),b(D,R,he,"\u039e","\\Xi",!0),b(D,R,he,"\u03a0","\\Pi",!0),b(D,R,he,"\u03a3","\\Sigma",!0),b(D,R,he,"\u03a5","\\Upsilon",!0),b(D,R,he,"\u03a6","\\Phi",!0),b(D,R,he,"\u03a8","\\Psi",!0),b(D,R,he,"\u03a9","\\Omega",!0),b(D,R,he,"A","\u0391"),b(D,R,he,"B","\u0392"),b(D,R,he,"E","\u0395"),b(D,R,he,"Z","\u0396"),b(D,R,he,"H","\u0397"),b(D,R,he,"I","\u0399"),b(D,R,he,"K","\u039a"),b(D,R,he,"M","\u039c"),b(D,R,he,"N","\u039d"),b(D,R,he,"O","\u039f"),b(D,R,he,"P","\u03a1"),b(D,R,he,"T","\u03a4"),b(D,R,he,"X","\u03a7"),b(D,R,he,"\xac","\\neg",!0),b(D,R,he,"\xac","\\lnot"),b(D,R,he,"\u22a4","\\top"),b(D,R,he,"\u22a5","\\bot"),b(D,R,he,"\u2205","\\emptyset"),b(D,ee,he,"\u2205","\\varnothing"),b(D,R,dt,"\u03b1","\\alpha",!0),b(D,R,dt,"\u03b2","\\beta",!0),b(D,R,dt,"\u03b3","\\gamma",!0),b(D,R,dt,"\u03b4","\\delta",!0),b(D,R,dt,"\u03f5","\\epsilon",!0),b(D,R,dt,"\u03b6","\\zeta",!0),b(D,R,dt,"\u03b7","\\eta",!0),b(D,R,dt,"\u03b8","\\theta",!0),b(D,R,dt,"\u03b9","\\iota",!0),b(D,R,dt,"\u03ba","\\kappa",!0),b(D,R,dt,"\u03bb","\\lambda",!0),b(D,R,dt,"\u03bc","\\mu",!0),b(D,R,dt,"\u03bd","\\nu",!0),b(D,R,dt,"\u03be","\\xi",!0),b(D,R,dt,"\u03bf","\\omicron",!0),b(D,R,dt,"\u03c0","\\pi",!0),b(D,R,dt,"\u03c1","\\rho",!0),b(D,R,dt,"\u03c3","\\sigma",!0),b(D,R,dt,"\u03c4","\\tau",!0),b(D,R,dt,"\u03c5","\\upsilon",!0),b(D,R,dt,"\u03d5","\\phi",!0),b(D,R,dt,"\u03c7","\\chi",!0),b(D,R,dt,"\u03c8","\\psi",!0),b(D,R,dt,"\u03c9","\\omega",!0),b(D,R,dt,"\u03b5","\\varepsilon",!0),b(D,R,dt,"\u03d1","\\vartheta",!0),b(D,R,dt,"\u03d6","\\varpi",!0),b(D,R,dt,"\u03f1","\\varrho",!0),b(D,R,dt,"\u03c2","\\varsigma",!0),b(D,R,dt,"\u03c6","\\varphi",!0),b(D,R,tt,"\u2217","*",!0),b(D,R,tt,"+","+"),b(D,R,tt,"\u2212","-",!0),b(D,R,tt,"\u22c5","\\cdot",!0),b(D,R,tt,"\u2218","\\circ",!0),b(D,R,tt,"\xf7","\\div",!0),b(D,R,tt,"\xb1","\\pm",!0),b(D,R,tt,"\xd7","\\times",!0),b(D,R,tt,"\u2229","\\cap",!0),b(D,R,tt,"\u222a","\\cup",!0),b(D,R,tt,"\u2216","\\setminus",!0),b(D,R,tt,"\u2227","\\land"),b(D,R,tt,"\u2228","\\lor"),b(D,R,tt,"\u2227","\\wedge",!0),b(D,R,tt,"\u2228","\\vee",!0),b(D,R,he,"\u221a","\\surd"),b(D,R,ii,"\u27e8","\\langle",!0),b(D,R,ii,"\u2223","\\lvert"),b(D,R,ii,"\u2225","\\lVert"),b(D,R,Gn,"?","?"),b(D,R,Gn,"!","!"),b(D,R,Gn,"\u27e9","\\rangle",!0),b(D,R,Gn,"\u2223","\\rvert"),b(D,R,Gn,"\u2225","\\rVert"),b(D,R,re,"=","="),b(D,R,re,":",":"),b(D,R,re,"\u2248","\\approx",!0),b(D,R,re,"\u2245","\\cong",!0),b(D,R,re,"\u2265","\\ge"),b(D,R,re,"\u2265","\\geq",!0),b(D,R,re,"\u2190","\\gets"),b(D,R,re,">","\\gt",!0),b(D,R,re,"\u2208","\\in",!0),b(D,R,re,"\ue020","\\@not"),b(D,R,re,"\u2282","\\subset",!0),b(D,R,re,"\u2283","\\supset",!0),b(D,R,re,"\u2286","\\subseteq",!0),b(D,R,re,"\u2287","\\supseteq",!0),b(D,ee,re,"\u2288","\\nsubseteq",!0),b(D,ee,re,"\u2289","\\nsupseteq",!0),b(D,R,re,"\u22a8","\\models"),b(D,R,re,"\u2190","\\leftarrow",!0),b(D,R,re,"\u2264","\\le"),b(D,R,re,"\u2264","\\leq",!0),b(D,R,re,"<","\\lt",!0),b(D,R,re,"\u2192","\\rightarrow",!0),b(D,R,re,"\u2192","\\to"),b(D,ee,re,"\u2271","\\ngeq",!0),b(D,ee,re,"\u2270","\\nleq",!0),b(D,R,Xn,"\xa0","\\ "),b(D,R,Xn,"\xa0","\\space"),b(D,R,Xn,"\xa0","\\nobreakspace"),b(Ge,R,Xn,"\xa0","\\ "),b(Ge,R,Xn,"\xa0"," "),b(Ge,R,Xn,"\xa0","\\space"),b(Ge,R,Xn,"\xa0","\\nobreakspace"),b(D,R,Xn,null,"\\nobreak"),b(D,R,Xn,null,"\\allowbreak"),b(D,R,Ms,",",","),b(D,R,Ms,";",";"),b(D,ee,tt,"\u22bc","\\barwedge",!0),b(D,ee,tt,"\u22bb","\\veebar",!0),b(D,R,tt,"\u2299","\\odot",!0),b(D,R,tt,"\u2295","\\oplus",!0),b(D,R,tt,"\u2297","\\otimes",!0),b(D,R,he,"\u2202","\\partial",!0),b(D,R,tt,"\u2298","\\oslash",!0),b(D,ee,tt,"\u229a","\\circledcirc",!0),b(D,ee,tt,"\u22a1","\\boxdot",!0),b(D,R,tt,"\u25b3","\\bigtriangleup"),b(D,R,tt,"\u25bd","\\bigtriangledown"),b(D,R,tt,"\u2020","\\dagger"),b(D,R,tt,"\u22c4","\\diamond"),b(D,R,tt,"\u22c6","\\star"),b(D,R,tt,"\u25c3","\\triangleleft"),b(D,R,tt,"\u25b9","\\triangleright"),b(D,R,ii,"{","\\{"),b(Ge,R,he,"{","\\{"),b(Ge,R,he,"{","\\textbraceleft"),b(D,R,Gn,"}","\\}"),b(Ge,R,he,"}","\\}"),b(Ge,R,he,"}","\\textbraceright"),b(D,R,ii,"{","\\lbrace"),b(D,R,Gn,"}","\\rbrace"),b(D,R,ii,"[","\\lbrack",!0),b(Ge,R,he,"[","\\lbrack",!0),b(D,R,Gn,"]","\\rbrack",!0),b(Ge,R,he,"]","\\rbrack",!0),b(D,R,ii,"(","\\lparen",!0),b(D,R,Gn,")","\\rparen",!0),b(Ge,R,he,"<","\\textless",!0),b(Ge,R,he,">","\\textgreater",!0),b(D,R,ii,"\u230a","\\lfloor",!0),b(D,R,Gn,"\u230b","\\rfloor",!0),b(D,R,ii,"\u2308","\\lceil",!0),b(D,R,Gn,"\u2309","\\rceil",!0),b(D,R,he,"\\","\\backslash"),b(D,R,he,"\u2223","|"),b(D,R,he,"\u2223","\\vert"),b(Ge,R,he,"|","\\textbar",!0),b(D,R,he,"\u2225","\\|"),b(D,R,he,"\u2225","\\Vert"),b(Ge,R,he,"\u2225","\\textbardbl"),b(Ge,R,he,"~","\\textasciitilde"),b(Ge,R,he,"\\","\\textbackslash"),b(Ge,R,he,"^","\\textasciicircum"),b(D,R,re,"\u2191","\\uparrow",!0),b(D,R,re,"\u21d1","\\Uparrow",!0),b(D,R,re,"\u2193","\\downarrow",!0),b(D,R,re,"\u21d3","\\Downarrow",!0),b(D,R,re,"\u2195","\\updownarrow",!0),b(D,R,re,"\u21d5","\\Updownarrow",!0),b(D,R,tn,"\u2210","\\coprod"),b(D,R,tn,"\u22c1","\\bigvee"),b(D,R,tn,"\u22c0","\\bigwedge"),b(D,R,tn,"\u2a04","\\biguplus"),b(D,R,tn,"\u22c2","\\bigcap"),b(D,R,tn,"\u22c3","\\bigcup"),b(D,R,tn,"\u222b","\\int"),b(D,R,tn,"\u222b","\\intop"),b(D,R,tn,"\u222c","\\iint"),b(D,R,tn,"\u222d","\\iiint"),b(D,R,tn,"\u220f","\\prod"),b(D,R,tn,"\u2211","\\sum"),b(D,R,tn,"\u2a02","\\bigotimes"),b(D,R,tn,"\u2a01","\\bigoplus"),b(D,R,tn,"\u2a00","\\bigodot"),b(D,R,tn,"\u222e","\\oint"),b(D,R,tn,"\u222f","\\oiint"),b(D,R,tn,"\u2230","\\oiiint"),b(D,R,tn,"\u2a06","\\bigsqcup"),b(D,R,tn,"\u222b","\\smallint"),b(Ge,R,ss,"\u2026","\\textellipsis"),b(D,R,ss,"\u2026","\\mathellipsis"),b(Ge,R,ss,"\u2026","\\ldots",!0),b(D,R,ss,"\u2026","\\ldots",!0),b(D,R,ss,"\u22ef","\\@cdots",!0),b(D,R,ss,"\u22f1","\\ddots",!0),b(D,R,he,"\u22ee","\\varvdots"),b(D,R,Ar,"\u02ca","\\acute"),b(D,R,Ar,"\u02cb","\\grave"),b(D,R,Ar,"\xa8","\\ddot"),b(D,R,Ar,"~","\\tilde"),b(D,R,Ar,"\u02c9","\\bar"),b(D,R,Ar,"\u02d8","\\breve"),b(D,R,Ar,"\u02c7","\\check"),b(D,R,Ar,"^","\\hat"),b(D,R,Ar,"\u20d7","\\vec"),b(D,R,Ar,"\u02d9","\\dot"),b(D,R,Ar,"\u02da","\\mathring"),b(D,R,dt,"\ue131","\\@imath"),b(D,R,dt,"\ue237","\\@jmath"),b(D,R,he,"\u0131","\u0131"),b(D,R,he,"\u0237","\u0237"),b(Ge,R,he,"\u0131","\\i",!0),b(Ge,R,he,"\u0237","\\j",!0),b(Ge,R,he,"\xdf","\\ss",!0),b(Ge,R,he,"\xe6","\\ae",!0),b(Ge,R,he,"\u0153","\\oe",!0),b(Ge,R,he,"\xf8","\\o",!0),b(Ge,R,he,"\xc6","\\AE",!0),b(Ge,R,he,"\u0152","\\OE",!0),b(Ge,R,he,"\xd8","\\O",!0),b(Ge,R,Ar,"\u02ca","\\'"),b(Ge,R,Ar,"\u02cb","\\`"),b(Ge,R,Ar,"\u02c6","\\^"),b(Ge,R,Ar,"\u02dc","\\~"),b(Ge,R,Ar,"\u02c9","\\="),b(Ge,R,Ar,"\u02d8","\\u"),b(Ge,R,Ar,"\u02d9","\\."),b(Ge,R,Ar,"\xb8","\\c"),b(Ge,R,Ar,"\u02da","\\r"),b(Ge,R,Ar,"\u02c7","\\v"),b(Ge,R,Ar,"\xa8",'\\"'),b(Ge,R,Ar,"\u02dd","\\H"),b(Ge,R,Ar,"\u25ef","\\textcircled");var Ns={"--":!0,"---":!0,"``":!0,"''":!0};b(Ge,R,he,"\u2013","--",!0),b(Ge,R,he,"\u2013","\\textendash"),b(Ge,R,he,"\u2014","---",!0),b(Ge,R,he,"\u2014","\\textemdash"),b(Ge,R,he,"\u2018","`",!0),b(Ge,R,he,"\u2018","\\textquoteleft"),b(Ge,R,he,"\u2019","'",!0),b(Ge,R,he,"\u2019","\\textquoteright"),b(Ge,R,he,"\u201c","``",!0),b(Ge,R,he,"\u201c","\\textquotedblleft"),b(Ge,R,he,"\u201d","''",!0),b(Ge,R,he,"\u201d","\\textquotedblright"),b(D,R,he,"\xb0","\\degree",!0),b(Ge,R,he,"\xb0","\\degree"),b(Ge,R,he,"\xb0","\\textdegree",!0),b(D,R,he,"\xa3","\\pounds"),b(D,R,he,"\xa3","\\mathsterling",!0),b(Ge,R,he,"\xa3","\\pounds"),b(Ge,R,he,"\xa3","\\textsterling",!0),b(D,ee,he,"\u2720","\\maltese"),b(Ge,ee,he,"\u2720","\\maltese");for(var ko='0123456789/@."',ja=0;ja<ko.length;ja++){var ao=ko.charAt(ja);b(D,R,he,ao,ao)}for(var Do='0123456789!@*()-=+";:?/.,',rn=0;rn<Do.length;rn++){var sa=Do.charAt(rn);b(Ge,R,he,sa,sa)}for(var Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",xi=0;xi<Ca.length;xi++){var oa=Ca.charAt(xi);b(D,R,dt,oa,oa),b(Ge,R,he,oa,oa)}b(D,ee,he,"C","\u2102"),b(Ge,ee,he,"C","\u2102"),b(D,ee,he,"H","\u210d"),b(Ge,ee,he,"H","\u210d"),b(D,ee,he,"N","\u2115"),b(Ge,ee,he,"N","\u2115"),b(D,ee,he,"P","\u2119"),b(Ge,ee,he,"P","\u2119"),b(D,ee,he,"Q","\u211a"),b(Ge,ee,he,"Q","\u211a"),b(D,ee,he,"R","\u211d"),b(Ge,ee,he,"R","\u211d"),b(D,ee,he,"Z","\u2124"),b(Ge,ee,he,"Z","\u2124"),b(D,R,dt,"h","\u210e"),b(Ge,R,dt,"h","\u210e");for(var Dt="",zr=0;zr<Ca.length;zr++){var Kr=Ca.charAt(zr);b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56320+zr)),b(Ge,R,he,Kr,Dt),b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56372+zr)),b(Ge,R,he,Kr,Dt),b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56424+zr)),b(Ge,R,he,Kr,Dt),b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56580+zr)),b(Ge,R,he,Kr,Dt),b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56736+zr)),b(Ge,R,he,Kr,Dt),b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56788+zr)),b(Ge,R,he,Kr,Dt),b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56840+zr)),b(Ge,R,he,Kr,Dt),b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56944+zr)),b(Ge,R,he,Kr,Dt),zr<26&&(b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56632+zr)),b(Ge,R,he,Kr,Dt),b(D,R,dt,Kr,Dt=String.fromCharCode(55349,56476+zr)),b(Ge,R,he,Kr,Dt))}b(D,R,dt,"k",Dt=String.fromCharCode(55349,56668)),b(Ge,R,he,"k",Dt);for(var la=0;la<10;la++){var Si=la.toString();b(D,R,dt,Si,Dt=String.fromCharCode(55349,57294+la)),b(Ge,R,he,Si,Dt),b(D,R,dt,Si,Dt=String.fromCharCode(55349,57314+la)),b(Ge,R,he,Si,Dt),b(D,R,dt,Si,Dt=String.fromCharCode(55349,57324+la)),b(Ge,R,he,Si,Dt),b(D,R,dt,Si,Dt=String.fromCharCode(55349,57334+la)),b(Ge,R,he,Si,Dt)}for(var jn=0;jn<"\xd0\xde\xfe".length;jn++){var Za="\xd0\xde\xfe".charAt(jn);b(D,R,dt,Za,Za),b(Ge,R,he,Za,Za)}var Pi=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ls=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Bi=function(u,h,d){return Dr[d][u]&&Dr[d][u].replace&&(u=Dr[d][u].replace),{value:u,metrics:At(u,h,d)}},bn=function(u,h,d,m,I){var _,N=Bi(u,h,d),P=N.metrics;if(u=N.value,P){var q=P.italic;("text"===d||m&&"mathit"===m.font)&&(q=0),_=new hi(u,P.height,P.depth,q,P.skew,P.width,I)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+u+"' in style '"+h+"' and mode '"+d+"'"),_=new hi(u,0,0,0,0,0,I);if(m){_.maxFontSize=m.sizeMultiplier,m.style.isTight()&&_.classes.push("mtight");var ae=m.getColor();ae&&(_.style.color=ae)}return _},lo=function(u,h){if(Jr(u.classes)!==Jr(h.classes)||u.skew!==h.skew||u.maxFontSize!==h.maxFontSize)return!1;if(1===u.classes.length){var d=u.classes[0];if("mbin"===d||"mord"===d)return!1}for(var m in u.style)if(u.style.hasOwnProperty(m)&&u.style[m]!==h.style[m])return!1;for(var I in h.style)if(h.style.hasOwnProperty(I)&&u.style[I]!==h.style[I])return!1;return!0},xa=function(u){for(var h=0,d=0,m=0,I=0;I<u.children.length;I++){var N=u.children[I];N.height>h&&(h=N.height),N.depth>d&&(d=N.depth),N.maxFontSize>m&&(m=N.maxFontSize)}u.height=h,u.depth=d,u.maxFontSize=m},_r=function(u,h,d,m){var I=new Cs(u,h,d,m);return xa(I),I},zo=function(u,h,d,m){return new Cs(u,h,d,m)},zs=function(u){var h=new te(u);return xa(h),h},us=function(u,h,d){var m="";switch(u){case"amsrm":m="AMS";break;case"textrm":m="Main";break;case"textsf":m="SansSerif";break;case"texttt":m="Typewriter";break;default:m=u}return m+"-"+("textbf"===h&&"textit"===d?"BoldItalic":"textbf"===h?"Bold":"textit"===h?"Italic":"Regular")},o0={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Fa={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},ye={fontMap:o0,makeSymbol:bn,mathsym:function(u,h,d,m){return void 0===m&&(m=[]),"boldsymbol"===d.font&&Bi(u,"Main-Bold",h).metrics?bn(u,"Main-Bold",h,d,m.concat(["mathbf"])):"\\"===u||"main"===Dr[h][u].font?bn(u,"Main-Regular",h,d,m):bn(u,"AMS-Regular",h,d,m.concat(["amsrm"]))},makeSpan:_r,makeSvgSpan:zo,makeLineSpan:function(u,h,d){var m=_r([u],[],h);return m.height=Math.max(d||h.fontMetrics().defaultRuleThickness,h.minRuleThickness),m.style.borderBottomWidth=Ze(m.height),m.maxFontSize=1,m},makeAnchor:function(u,h,d,m){var I=new xs(u,h,d,m);return xa(I),I},makeFragment:zs,wrapFragment:function(u,h){return u instanceof te?_r([],[u],h):u},makeVList:function(u,h){for(var d=function(u){if("individualShift"===u.positionType){for(var h=u.children,d=[h[0]],m=-h[0].shift-h[0].elem.depth,I=m,N=1;N<h.length;N++){var P=-h[N].shift-I-h[N].elem.depth;I+=P,d.push({type:"kern",size:P-(h[N-1].elem.height+h[N-1].elem.depth)}),d.push(h[N])}return{children:d,depth:m}}var q;if("top"===u.positionType){for(var ae=u.positionData,me=0;me<u.children.length;me++){var ze=u.children[me];ae-="kern"===ze.type?ze.size:ze.elem.height+ze.elem.depth}q=ae}else if("bottom"===u.positionType)q=-u.positionData;else{var Be=u.children[0];if("elem"!==Be.type)throw new Error('First child must have type "elem".');if("shift"===u.positionType)q=-Be.elem.depth-u.positionData;else{if("firstBaseline"!==u.positionType)throw new Error("Invalid positionType "+u.positionType+".");q=-Be.elem.depth}}return{children:u.children,depth:q}}(u),m=d.children,I=d.depth,N=0,P=0;P<m.length;P++){var _=m[P];if("elem"===_.type){var q=_.elem;N=Math.max(N,q.maxFontSize,q.height)}}N+=2;var ae=_r(["pstrut"],[]);ae.style.height=Ze(N);for(var me=[],ze=I,Be=I,Ee=I,Ue=0;Ue<m.length;Ue++){var Xe=m[Ue];if("kern"===Xe.type)Ee+=Xe.size;else{var at=Xe.elem,lr=_r(Xe.wrapperClasses||[],[ae,at],void 0,Xe.wrapperStyle||{});lr.style.top=Ze(-N-Ee-at.depth),Xe.marginLeft&&(lr.style.marginLeft=Xe.marginLeft),Xe.marginRight&&(lr.style.marginRight=Xe.marginRight),me.push(lr),Ee+=at.height+at.depth}ze=Math.min(ze,Ee),Be=Math.max(Be,Ee)}var ur,mt=_r(["vlist"],me);if(mt.style.height=Ze(Be),ze<0){var Xt=_r([],[]),Yt=_r(["vlist"],[Xt]);Yt.style.height=Ze(-ze);var jr=_r(["vlist-s"],[new hi("\u200b")]);ur=[_r(["vlist-r"],[mt,jr]),_r(["vlist-r"],[Yt])]}else ur=[_r(["vlist-r"],[mt])];var Kt=_r(["vlist-t"],ur);return 2===ur.length&&Kt.classes.push("vlist-t2"),Kt.height=Be,Kt.depth=-ze,Kt},makeOrd:function(u,h,d){var m=u.mode,I=u.text,N=["mord"],P="math"===m||"text"===m&&h.font,_=P?h.font:h.fontFamily;if(55349===I.charCodeAt(0)){var q=function(u,h){var I=1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536,N="math"===h?0:1;if(119808<=I&&I<120484){var P=Math.floor((I-119808)/26);return[Pi[P][2],Pi[P][N]]}if(120782<=I&&I<=120831){var _=Math.floor((I-120782)/10);return[ls[_][2],ls[_][N]]}if(120485===I||120486===I)return[Pi[0][2],Pi[0][N]];if(120486<I&&I<120782)return["",""];throw new Se("Unsupported character: "+u)}(I,m);return bn(I,q[0],m,h,N.concat(q[1]))}if(_){var ze,Be;if("boldsymbol"===_){var Ee=function(u,h,d,m,I){return"textord"!==I&&Bi(u,"Math-BoldItalic",h).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(I,m,0,0,d);ze=Ee.fontName,Be=[Ee.fontClass]}else P?(ze=o0[_].fontName,Be=[_]):(ze=us(_,h.fontWeight,h.fontShape),Be=[_,h.fontWeight,h.fontShape]);if(Bi(I,ze,m).metrics)return bn(I,ze,m,h,N.concat(Be));if(Ns.hasOwnProperty(I)&&"Typewriter"===ze.substr(0,10)){for(var Ue=[],Xe=0;Xe<I.length;Xe++)Ue.push(bn(I[Xe],ze,m,h,N.concat(Be)));return zs(Ue)}}if("mathord"===d)return bn(I,"Math-Italic",m,h,N.concat(["mathnormal"]));if("textord"===d){var at=Dr[m][I]&&Dr[m][I].font;if("ams"===at){var ht=us("amsrm",h.fontWeight,h.fontShape);return bn(I,ht,m,h,N.concat("amsrm",h.fontWeight,h.fontShape))}if("main"!==at&&at){var lr=us(at,h.fontWeight,h.fontShape);return bn(I,lr,m,h,N.concat(lr,h.fontWeight,h.fontShape))}var wt=us("textrm",h.fontWeight,h.fontShape);return bn(I,wt,m,h,N.concat(h.fontWeight,h.fontShape))}throw new Error("unexpected type: "+d+" in makeOrd")},makeGlue:function(u,h){var d=_r(["mspace"],[],h),m=Jt(u,h);return d.style.marginRight=Ze(m),d},staticSvg:function(u,h){var d=Fa[u],I=d[1],N=d[2],P=new Vi(d[0]),_=new Ui([P],{width:Ze(I),height:Ze(N),style:"width:"+Ze(I),viewBox:"0 0 "+1e3*I+" "+1e3*N,preserveAspectRatio:"xMinYMin"}),q=zo(["overlay"],[_],h);return q.height=N,q.style.height=Ze(N),q.style.width=Ze(I),q},svgData:Fa,tryCombineChars:function(u){for(var h=0;h<u.length-1;h++){var d=u[h],m=u[h+1];d instanceof hi&&m instanceof hi&&lo(d,m)&&(d.text+=m.text,d.height=Math.max(d.height,m.height),d.depth=Math.max(d.depth,m.depth),d.italic=m.italic,u.splice(h+1,1),h--)}return u}},xr={number:3,unit:"mu"},Hi={number:4,unit:"mu"},Mi={number:5,unit:"mu"},u0={mord:{mop:xr,mbin:Hi,mrel:Mi,minner:xr},mop:{mord:xr,mop:xr,mrel:Mi,minner:xr},mbin:{mord:Hi,mop:Hi,mopen:Hi,minner:Hi},mrel:{mord:Mi,mop:Mi,mopen:Mi,minner:Mi},mopen:{},mclose:{mop:xr,mbin:Hi,mrel:Mi,minner:xr},mpunct:{mord:xr,mop:xr,mrel:Mi,mopen:xr,mclose:xr,mpunct:xr,minner:xr},minner:{mord:xr,mop:xr,mbin:Hi,mrel:Mi,mopen:xr,mpunct:xr,minner:xr}},co={mord:{mop:xr},mop:{mord:xr,mop:xr},mbin:{},mrel:{},mopen:{},mclose:{mop:xr},mpunct:{},minner:{mop:xr}},ca={},zn={},ho={};function We(M){for(var u=M.type,h=M.names,d=M.props,I=M.htmlBuilder,N=M.mathmlBuilder,P={type:u,numArgs:d.numArgs,argTypes:d.argTypes,allowedInArgument:!!d.allowedInArgument,allowedInText:!!d.allowedInText,allowedInMath:void 0===d.allowedInMath||d.allowedInMath,numOptionalArgs:d.numOptionalArgs||0,infix:!!d.infix,primitive:!!d.primitive,handler:M.handler},_=0;_<h.length;++_)ca[h[_]]=P;u&&(I&&(zn[u]=I),N&&(ho[u]=N))}function er(M){We({type:M.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:M.htmlBuilder,mathmlBuilder:M.mathmlBuilder})}var Lo=function(u){return"ordgroup"===u.type&&1===u.body.length?u.body[0]:u},dn=function(u){return"ordgroup"===u.type?u.body:[u]},Sa=ye.makeSpan,v=["leftmost","mbin","mopen","mrel","mop","mpunct"],A=["rightmost","mrel","mclose","mpunct"],C={display:Ke.DISPLAY,text:Ke.TEXT,script:Ke.SCRIPT,scriptscript:Ke.SCRIPTSCRIPT},S={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},B=function(u,h,d,m){void 0===m&&(m=[null,null]);for(var I=[],N=0;N<u.length;N++){var P=de(u[N],h);P instanceof te?I.push.apply(I,P.children):I.push(P)}if(ye.tryCombineChars(I),!d)return I;var q=h;if(1===u.length){var ae=u[0];"sizing"===ae.type?q=h.havingSize(ae.size):"styling"===ae.type&&(q=h.havingStyle(C[ae.style]))}var me=Sa([m[0]||"leftmost"],[],h),ze=Sa([m[1]||"rightmost"],[],h),Be="root"===d;return Z(I,function(Ee,Ue){var Xe=Ue.classes[0],at=Ee.classes[0];"mbin"===Xe&&lt_contains(A,at)?Ue.classes[0]="mord":"mbin"===at&&lt_contains(v,Xe)&&(Ee.classes[0]="mord")},{node:me},ze,Be),Z(I,function(Ee,Ue){var Xe=se(Ue),at=se(Ee),ht=Xe&&at?Ee.hasClass("mtight")?co[Xe][at]:u0[Xe][at]:null;if(ht)return ye.makeGlue(ht,q)},{node:me},ze,Be),I},Z=function M(u,h,d,m,I){m&&u.push(m);for(var N=0;N<u.length;N++){var P=u[N],_=Y(P);if(_)M(_.children,h,d,null,I);else{var q=!P.hasClass("mspace");if(q){var ae=h(P,d.node);ae&&(d.insertAfter?d.insertAfter(ae):(u.unshift(ae),N++))}q?d.node=P:I&&P.hasClass("newline")&&(d.node=Sa(["leftmost"])),d.insertAfter=function(me){return function(ze){u.splice(me+1,0,ze),N++}}(N)}}m&&u.pop()},Y=function(u){return u instanceof te||u instanceof xs||u instanceof Cs&&u.hasClass("enclosing")?u:null},le=function M(u,h){var d=Y(u);if(d){var m=d.children;if(m.length){if("right"===h)return M(m[m.length-1],"right");if("left"===h)return M(m[0],"left")}}return u},se=function(u,h){return u?(h&&(u=le(u,h)),S[u.classes[0]]||null):null},ve=function(u,h){var d=["nulldelimiter"].concat(u.baseSizingClasses());return Sa(h.concat(d))},de=function(u,h,d){if(!u)return Sa();if(zn[u.type]){var m=zn[u.type](u,h);if(d&&h.size!==d.size){m=Sa(h.sizingClasses(d),[m],h);var I=h.sizeMultiplier/d.sizeMultiplier;m.height*=I,m.depth*=I}return m}throw new Se("Got group of unknown type: '"+u.type+"'")};function Pe(M,u){var h=Sa(["base"],M,u),d=Sa(["strut"]);return d.style.height=Ze(h.height+h.depth),h.depth&&(d.style.verticalAlign=Ze(-h.depth)),h.children.unshift(d),h}function Ie(M,u){var h=null;1===M.length&&"tag"===M[0].type&&(h=M[0].tag,M=M[0].body);var m,q,d=B(M,u,"root");2===d.length&&d[1].hasClass("tag")&&(m=d.pop());for(var I=[],N=[],P=0;P<d.length;P++)if(N.push(d[P]),d[P].hasClass("mbin")||d[P].hasClass("mrel")||d[P].hasClass("allowbreak")){for(var _=!1;P<d.length-1&&d[P+1].hasClass("mspace")&&!d[P+1].hasClass("newline");)P++,N.push(d[P]),d[P].hasClass("nobreak")&&(_=!0);_||(I.push(Pe(N,u)),N=[])}else d[P].hasClass("newline")&&(N.pop(),N.length>0&&(I.push(Pe(N,u)),N=[]),I.push(d[P]));N.length>0&&I.push(Pe(N,u)),h?((q=Pe(B(h,u,!0))).classes=["tag"],I.push(q)):m&&I.push(m);var ae=Sa(["katex-html"],I);if(ae.setAttribute("aria-hidden","true"),q){var me=q.children[0];me.style.height=Ze(ae.height+ae.depth),ae.depth&&(me.style.verticalAlign=Ze(-ae.depth))}return ae}function we(M){return new te(M)}var He=function(){function M(h,d,m){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=h,this.attributes={},this.children=d||[],this.classes=m||[]}var u=M.prototype;return u.setAttribute=function(d,m){this.attributes[d]=m},u.getAttribute=function(d){return this.attributes[d]},u.toNode=function(){var d=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var m in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,m)&&d.setAttribute(m,this.attributes[m]);this.classes.length>0&&(d.className=Jr(this.classes));for(var I=0;I<this.children.length;I++)d.appendChild(this.children[I].toNode());return d},u.toMarkup=function(){var d="<"+this.type;for(var m in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,m)&&(d+=" "+m+'="',d+=lt_escape(this.attributes[m]),d+='"');this.classes.length>0&&(d+=' class ="'+lt_escape(Jr(this.classes))+'"'),d+=">";for(var I=0;I<this.children.length;I++)d+=this.children[I].toMarkup();return d+"</"+this.type+">"},u.toText=function(){return this.children.map(function(d){return d.toText()}).join("")},M}(),ut=function(){function M(h){this.text=void 0,this.text=h}var u=M.prototype;return u.toNode=function(){return document.createTextNode(this.text)},u.toMarkup=function(){return lt_escape(this.toText())},u.toText=function(){return this.text},M}(),Me={MathNode:He,TextNode:ut,SpaceNode:function(){function M(h){this.width=void 0,this.character=void 0,this.width=h,this.character=h>=.05555&&h<=.05556?"\u200a":h>=.1666&&h<=.1667?"\u2009":h>=.2222&&h<=.2223?"\u2005":h>=.2777&&h<=.2778?"\u2005\u200a":h>=-.05556&&h<=-.05555?"\u200a\u2063":h>=-.1667&&h<=-.1666?"\u2009\u2063":h>=-.2223&&h<=-.2222?"\u205f\u2063":h>=-.2778&&h<=-.2777?"\u2005\u2063":null}var u=M.prototype;return u.toNode=function(){if(this.character)return document.createTextNode(this.character);var d=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return d.setAttribute("width",Ze(this.width)),d},u.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ze(this.width)+'"/>'},u.toText=function(){return this.character?this.character:" "},M}(),newDocumentFragment:we},sr=function(u,h,d){return Dr[h][u]&&Dr[h][u].replace&&55349!==u.charCodeAt(0)&&!(Ns.hasOwnProperty(u)&&d&&(d.fontFamily&&"tt"===d.fontFamily.substr(4,2)||d.font&&"tt"===d.font.substr(4,2)))&&(u=Dr[h][u].replace),new Me.TextNode(u)},Sr=function(u){return 1===u.length?u[0]:new Me.MathNode("mrow",u)},_t=function(u,h){if("texttt"===h.fontFamily)return"monospace";if("textsf"===h.fontFamily)return"textit"===h.fontShape&&"textbf"===h.fontWeight?"sans-serif-bold-italic":"textit"===h.fontShape?"sans-serif-italic":"textbf"===h.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===h.fontShape&&"textbf"===h.fontWeight)return"bold-italic";if("textit"===h.fontShape)return"italic";if("textbf"===h.fontWeight)return"bold";var d=h.font;if(!d||"mathnormal"===d)return null;var m=u.mode;if("mathit"===d)return"italic";if("boldsymbol"===d)return"textord"===u.type?"bold":"bold-italic";if("mathbf"===d)return"bold";if("mathbb"===d)return"double-struck";if("mathfrak"===d)return"fraktur";if("mathscr"===d||"mathcal"===d)return"script";if("mathsf"===d)return"sans-serif";if("mathtt"===d)return"monospace";var I=u.text;return lt_contains(["\\imath","\\jmath"],I)?null:(Dr[m][I]&&Dr[m][I].replace&&(I=Dr[m][I].replace),At(I,ye.fontMap[d].fontName,m)?ye.fontMap[d].variant:null)},ct=function(u,h,d){if(1===u.length){var m=ot(u[0],h);return d&&m instanceof He&&"mo"===m.type&&(m.setAttribute("lspace","0em"),m.setAttribute("rspace","0em")),[m]}for(var N,I=[],P=0;P<u.length;P++){var _=ot(u[P],h);if(_ instanceof He&&N instanceof He){if("mtext"===_.type&&"mtext"===N.type&&_.getAttribute("mathvariant")===N.getAttribute("mathvariant")){var q;(q=N.children).push.apply(q,_.children);continue}if("mn"===_.type&&"mn"===N.type){var ae;(ae=N.children).push.apply(ae,_.children);continue}if("mi"===_.type&&1===_.children.length&&"mn"===N.type){var me=_.children[0];if(me instanceof ut&&"."===me.text){var ze;(ze=N.children).push.apply(ze,_.children);continue}}else if("mi"===N.type&&1===N.children.length){var Be=N.children[0];if(Be instanceof ut&&"\u0338"===Be.text&&("mo"===_.type||"mi"===_.type||"mn"===_.type)){var Ee=_.children[0];Ee instanceof ut&&Ee.text.length>0&&(Ee.text=Ee.text.slice(0,1)+"\u0338"+Ee.text.slice(1),I.pop())}}}I.push(_),N=_}return I},fr=function(u,h,d){return Sr(ct(u,h,d))},ot=function(u,h){if(!u)return new Me.MathNode("mrow");if(ho[u.type])return ho[u.type](u,h);throw new Se("Got group of unknown type: '"+u.type+"'")};function dr(M,u,h,d,m){var N,I=ct(M,h);N=1===I.length&&I[0]instanceof He&&lt_contains(["mrow","mtable"],I[0].type)?I[0]:new Me.MathNode("mrow",I);var P=new Me.MathNode("annotation",[new Me.TextNode(u)]);P.setAttribute("encoding","application/x-tex");var _=new Me.MathNode("semantics",[N,P]),q=new Me.MathNode("math",[_]);return q.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),d&&q.setAttribute("display","block"),ye.makeSpan([m?"katex":"katex-mathml"],[q])}var Ir=function(u){return new Hn({style:u.displayMode?Ke.DISPLAY:Ke.TEXT,maxSize:u.maxSize,minRuleThickness:u.minRuleThickness})},Oi=function(u,h){if(h.displayMode){var d=["katex-display"];h.leqno&&d.push("leqno"),h.fleqn&&d.push("fleqn"),u=ye.makeSpan(d,[u])}return u},wn={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23df",overbrace:"\u23de",overgroup:"\u23e0",undergroup:"\u23e1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Ni={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},un_mathMLnode=function(u){var h=new Me.MathNode("mo",[new Me.TextNode(wn[u.replace(/^\\/,"")])]);return h.setAttribute("stretchy","true"),h},un_svgSpan=function(u,h){var m=function d(){var _=4e5,q=u.label.substr(1);if(lt_contains(["widehat","widecheck","widetilde","utilde"],q)){var ze,Be,Ee,me=function(u){return"ordgroup"===u.type?u.body.length:1}(u.base);if(me>5)"widehat"===q||"widecheck"===q?(ze=420,_=2364,Ee=.42,Be=q+"4"):(ze=312,_=2340,Ee=.34,Be="tilde4");else{var Ue=[1,1,2,2,3,3][me];"widehat"===q||"widecheck"===q?(_=[0,1062,2364,2364,2364][Ue],ze=[0,239,300,360,420][Ue],Ee=[0,.24,.3,.3,.36,.42][Ue],Be=q+Ue):(_=[0,600,1033,2339,2340][Ue],ze=[0,260,286,306,312][Ue],Ee=[0,.26,.286,.3,.306,.34][Ue],Be="tilde"+Ue)}var Xe=new Vi(Be),at=new Ui([Xe],{width:"100%",height:Ze(Ee),viewBox:"0 0 "+_+" "+ze,preserveAspectRatio:"none"});return{span:ye.makeSvgSpan([],[at],h),minWidth:0,height:Ee}}var jr,Kt,ht=[],wt=Ni[q],lr=wt[0],mt=wt[1],ur=wt[2],Xt=ur/1e3,Yt=lr.length;if(1===Yt)jr=["hide-tail"],Kt=[wt[3]];else if(2===Yt)jr=["halfarrow-left","halfarrow-right"],Kt=["xMinYMin","xMaxYMin"];else{if(3!==Yt)throw new Error("Correct katexImagesData or update code here to support\n                    "+Yt+" children.");jr=["brace-left","brace-center","brace-right"],Kt=["xMinYMin","xMidYMin","xMaxYMin"]}for(var ki=0;ki<Yt;ki++){var nn=new Vi(lr[ki]),be=new Ui([nn],{width:"400em",height:Ze(Xt),viewBox:"0 0 "+_+" "+ur,preserveAspectRatio:Kt[ki]+" slice"}),Vr=ye.makeSvgSpan([jr[ki]],[be],h);if(1===Yt)return{span:Vr,minWidth:mt,height:Xt};Vr.style.height=Ze(Xt),ht.push(Vr)}return{span:ye.makeSpan(["stretchy"],ht,h),minWidth:mt,height:Xt}}(),I=m.span,N=m.minWidth,P=m.height;return I.height=P,I.style.height=Ze(P),N>0&&(I.style.minWidth=Ze(N)),I};function Ye(M,u){if(!M||M.type!==u)throw new Error("Expected node of type "+u+", but got "+(M?"node of type "+M.type:String(M)));return M}function Gt(M){var u=Lr(M);if(!u)throw new Error("Expected node of symbol group type, but got "+(M?"node of type "+M.type:String(M)));return u}function Lr(M){return M&&("atom"===M.type||G0.hasOwnProperty(M.type))?M:null}var cn=function(u,h){var d,m,I;u&&"supsub"===u.type?(m=Ye(u.base,"accent"),u.base=d=m.base,I=function io(M){if(M instanceof Cs)return M;throw new Error("Expected span<HtmlDomNode> but got "+String(M)+".")}(de(u,h)),u.base=m):d=(m=Ye(u,"accent")).base;var N=de(d,h.havingCrampedStyle()),_=0;if(m.isShifty&&lt_isCharacterBox(d)){var q=lt_getBaseElem(d);_=To(de(q,h.havingCrampedStyle())).skew}var Be,me="\\c"===m.label,ze=me?N.height+N.depth:Math.min(N.height,h.fontMetrics().xHeight);if(m.isStretchy)Be=un_svgSpan(m,h),Be=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:N},{type:"elem",elem:Be,wrapperClasses:["svg-align"],wrapperStyle:_>0?{width:"calc(100% - "+Ze(2*_)+")",marginLeft:Ze(2*_)}:void 0}]},h);else{var Ee,Ue;"\\vec"===m.label?(Ee=ye.staticSvg("vec",h),Ue=ye.svgData.vec[1]):((Ee=To(Ee=ye.makeOrd({mode:m.mode,text:m.label},h,"textord"))).italic=0,Ue=Ee.width,me&&(ze+=Ee.depth)),Be=ye.makeSpan(["accent-body"],[Ee]);var Xe="\\textcircled"===m.label;Xe&&(Be.classes.push("accent-full"),ze=N.height);var at=_;Xe||(at-=Ue/2),Be.style.left=Ze(at),"\\textcircled"===m.label&&(Be.style.top=".2em"),Be=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:N},{type:"kern",size:-ze},{type:"elem",elem:Be}]},h)}var ht=ye.makeSpan(["mord","accent"],[Be],h);return I?(I.children[0]=ht,I.height=Math.max(ht.height,I.height),I.classes[0]="mord",I):ht},Yr=function(u,h){var d=u.isStretchy?un_mathMLnode(u.label):new Me.MathNode("mo",[sr(u.label,u.mode)]),m=new Me.MathNode("mover",[ot(u.base,h),d]);return m.setAttribute("accent","true"),m},ai=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(M){return"\\"+M}).join("|"));We({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(u,h){var d=Lo(h[0]),m=!ai.test(u.funcName);return{type:"accent",mode:u.parser.mode,label:u.funcName,isStretchy:m,isShifty:!m||"\\widehat"===u.funcName||"\\widetilde"===u.funcName||"\\widecheck"===u.funcName,base:d}},htmlBuilder:cn,mathmlBuilder:Yr}),We({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(u,h){var d=h[0],m=u.parser.mode;return"math"===m&&(u.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+u.funcName+" works only in text mode"),m="text"),{type:"accent",mode:m,label:u.funcName,isStretchy:!1,isShifty:!0,base:d}},htmlBuilder:cn,mathmlBuilder:Yr}),We({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(u,h){return{type:"accentUnder",mode:u.parser.mode,label:u.funcName,base:h[0]}},htmlBuilder:function(u,h){var d=de(u.base,h),m=un_svgSpan(u,h),N=ye.makeVList({positionType:"top",positionData:d.height,children:[{type:"elem",elem:m,wrapperClasses:["svg-align"]},{type:"kern",size:"\\utilde"===u.label?.12:0},{type:"elem",elem:d}]},h);return ye.makeSpan(["mord","accentunder"],[N],h)},mathmlBuilder:function(u,h){var d=un_mathMLnode(u.label),m=new Me.MathNode("munder",[ot(u.base,h),d]);return m.setAttribute("accentunder","true"),m}});var Ri=function(u){var h=new Me.MathNode("mpadded",u?[u]:[]);return h.setAttribute("width","+0.6em"),h.setAttribute("lspace","0.3em"),h};We({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(u,h,d){return{type:"xArrow",mode:u.parser.mode,label:u.funcName,body:h[0],below:d[0]}},htmlBuilder:function(u,h){var P,d=h.style,m=h.havingStyle(d.sup()),I=ye.wrapFragment(de(u.body,m,h),h),N="\\x"===u.label.slice(0,2)?"x":"cd";I.classes.push(N+"-arrow-pad"),u.below&&(m=h.havingStyle(d.sub()),(P=ye.wrapFragment(de(u.below,m,h),h)).classes.push(N+"-arrow-pad"));var me,_=un_svgSpan(u,h),q=-h.fontMetrics().axisHeight+.5*_.height,ae=-h.fontMetrics().axisHeight-.5*_.height-.111;if((I.depth>.25||"\\xleftequilibrium"===u.label)&&(ae-=I.depth),P){var ze=-h.fontMetrics().axisHeight+P.height+.5*_.height+.111;me=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:ae},{type:"elem",elem:_,shift:q},{type:"elem",elem:P,shift:ze}]},h)}else me=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:ae},{type:"elem",elem:_,shift:q}]},h);return me.children[0].children[0].children[1].classes.push("svg-align"),ye.makeSpan(["mrel","x-arrow"],[me],h)},mathmlBuilder:function(u,h){var m,d=un_mathMLnode(u.label);if(d.setAttribute("minsize","x"===u.label.charAt(0)?"1.75em":"3.0em"),u.body){var I=Ri(ot(u.body,h));if(u.below){var N=Ri(ot(u.below,h));m=new Me.MathNode("munderover",[d,N,I])}else m=new Me.MathNode("mover",[d,I])}else if(u.below){var P=Ri(ot(u.below,h));m=new Me.MathNode("munder",[d,P])}else m=Ri(),m=new Me.MathNode("mover",[d,m]);return m}});var hs={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Po=function(u){return"textord"===u.type&&"@"===u.text},fi=function(u,h){return("mathord"===u.type||"atom"===u.type)&&u.text===h};function Ls(M,u,h){var d=hs[M];switch(d){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return h.callFunction(d,[u[0]],[u[1]]);case"\\uparrow":case"\\downarrow":var m=h.callFunction("\\\\cdleft",[u[0]],[]),N=h.callFunction("\\Big",[{type:"atom",text:d,mode:"math",family:"rel"}],[]),P=h.callFunction("\\\\cdright",[u[1]],[]);return h.callFunction("\\\\cdparent",[{type:"ordgroup",mode:"math",body:[m,N,P]}],[]);case"\\\\cdlongequal":return h.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return h.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}We({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(u,h){return{type:"cdlabel",mode:u.parser.mode,side:u.funcName.slice(4),label:h[0]}},htmlBuilder:function(u,h){var d=h.havingStyle(h.style.sup()),m=ye.wrapFragment(de(u.label,d,h),h);return m.classes.push("cd-label-"+u.side),m.style.bottom=Ze(.8-m.depth),m.height=0,m.depth=0,m},mathmlBuilder:function(u,h){var d=new Me.MathNode("mrow",[ot(u.label,h)]);return(d=new Me.MathNode("mpadded",[d])).setAttribute("width","0"),"left"===u.side&&d.setAttribute("lspace","-1width"),d.setAttribute("voffset","0.7em"),(d=new Me.MathNode("mstyle",[d])).setAttribute("displaystyle","false"),d.setAttribute("scriptlevel","1"),d}}),We({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(u,h){return{type:"cdlabelparent",mode:u.parser.mode,fragment:h[0]}},htmlBuilder:function(u,h){var d=ye.wrapFragment(de(u.fragment,h),h);return d.classes.push("cd-vert-arrow"),d},mathmlBuilder:function(u,h){return new Me.MathNode("mrow",[ot(u.fragment,h)])}}),We({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(u,h){for(var d=u.parser,I=Ye(h[0],"ordgroup").body,N="",P=0;P<I.length;P++)N+=Ye(I[P],"textord").text;var ae,q=parseInt(N);if(isNaN(q))throw new Se("\\@char has non-numeric argument "+N);if(q<0||q>=1114111)throw new Se("\\@char with invalid code point "+N);return q<=65535?ae=String.fromCharCode(q):(q-=65536,ae=String.fromCharCode(55296+(q>>10),56320+(1023&q))),{type:"textord",mode:d.mode,text:ae}}});var Bo=function(u,h){var d=B(u.body,h.withColor(u.color),!1);return ye.makeFragment(d)},Oo=function(u,h){var d=ct(u.body,h.withColor(u.color)),m=new Me.MathNode("mstyle",d);return m.setAttribute("mathcolor",u.color),m};We({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(u,h){var d=u.parser,m=Ye(h[0],"color-token").color;return{type:"color",mode:d.mode,color:m,body:dn(h[1])}},htmlBuilder:Bo,mathmlBuilder:Oo}),We({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(u,h){var d=u.parser,m=u.breakOnTokenText,I=Ye(h[0],"color-token").color;d.gullet.macros.set("\\current@color",I);var N=d.parseExpression(!0,m);return{type:"color",mode:d.mode,color:I,body:N}},htmlBuilder:Bo,mathmlBuilder:Oo}),We({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(u,h,d){var m=u.parser,I=d[0],N=!m.settings.displayMode||!m.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:m.mode,newLine:N,size:I&&Ye(I,"size").value}},htmlBuilder:function(u,h){var d=ye.makeSpan(["mspace"],[],h);return u.newLine&&(d.classes.push("newline"),u.size&&(d.style.marginTop=Ze(Jt(u.size,h)))),d},mathmlBuilder:function(u,h){var d=new Me.MathNode("mspace");return u.newLine&&(d.setAttribute("linebreak","newline"),u.size&&d.setAttribute("height",Ze(Jt(u.size,h)))),d}});var Wa={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},c0=function(u){var h=u.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(h))throw new Se("Expected a control sequence",u);return h},Xi=function(u,h,d,m){var I=u.gullet.macros.get(d.text);null==I&&(d.noexpand=!0,I={tokens:[d],numArgs:0,unexpandable:!u.gullet.isExpandable(d.text)}),u.gullet.macros.set(h,I,m)};We({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(u){var h=u.parser,d=u.funcName;h.consumeSpaces();var m=h.fetch();if(Wa[m.text])return("\\global"===d||"\\\\globallong"===d)&&(m.text=Wa[m.text]),Ye(h.parseFunction(),"internal");throw new Se("Invalid token after macro prefix",m)}}),We({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(u){var h=u.parser,d=u.funcName,m=h.gullet.popToken(),I=m.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(I))throw new Se("Expected a control sequence",m);for(var P,N=0,_=[[]];"{"!==h.gullet.future().text;)if("#"===(m=h.gullet.popToken()).text){if("{"===h.gullet.future().text){P=h.gullet.future(),_[N].push("{");break}if(m=h.gullet.popToken(),!/^[1-9]$/.test(m.text))throw new Se('Invalid argument number "'+m.text+'"');if(parseInt(m.text)!==N+1)throw new Se('Argument number "'+m.text+'" out of order');N++,_.push([])}else{if("EOF"===m.text)throw new Se("Expected a macro definition");_[N].push(m.text)}var ae=h.gullet.consumeArg().tokens;return P&&ae.unshift(P),("\\edef"===d||"\\xdef"===d)&&(ae=h.gullet.expandTokens(ae)).reverse(),h.gullet.macros.set(I,{tokens:ae,numArgs:N,delimiters:_},d===Wa[d]),{type:"internal",mode:h.mode}}}),We({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(u){var h=u.parser,d=u.funcName,m=c0(h.gullet.popToken());h.gullet.consumeSpaces();var I=function(u){var h=u.gullet.popToken();return"="===h.text&&" "===(h=u.gullet.popToken()).text&&(h=u.gullet.popToken()),h}(h);return Xi(h,m,I,"\\\\globallet"===d),{type:"internal",mode:h.mode}}}),We({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(u){var h=u.parser,d=u.funcName,m=c0(h.gullet.popToken()),I=h.gullet.popToken(),N=h.gullet.popToken();return Xi(h,m,N,"\\\\globalfuture"===d),h.gullet.pushToken(N),h.gullet.pushToken(I),{type:"internal",mode:h.mode}}});var si=function(u,h,d){var I=At(Dr.math[u]&&Dr.math[u].replace||u,h,d);if(!I)throw new Error("Unsupported symbol "+u+" and font size "+h+".");return I},ha=function(u,h,d,m){var I=d.havingBaseStyle(h),N=ye.makeSpan(m.concat(I.sizingClasses(d)),[u],d),P=I.sizeMultiplier/d.sizeMultiplier;return N.height*=P,N.depth*=P,N.maxFontSize=I.sizeMultiplier,N},Ro=function(u,h,d){var m=h.havingBaseStyle(d),I=(1-h.sizeMultiplier/m.sizeMultiplier)*h.fontMetrics().axisHeight;u.classes.push("delimcenter"),u.style.top=Ze(I),u.height-=I,u.depth+=I},pr=function(u,h,d,m,I,N){var P=function(u,h,d,m){return ye.makeSymbol(u,"Size"+h+"-Regular",d,m)}(u,h,I,m),_=ha(ye.makeSpan(["delimsizing","size"+h],[P],m),Ke.TEXT,m,N);return d&&Ro(_,m,Ke.TEXT),_},di=function(u,h,d){return{type:"elem",elem:ye.makeSpan(["delimsizinginner","Size1-Regular"===h?"delim-size1":"delim-size4"],[ye.makeSpan([],[ye.makeSymbol(u,h,d)])])}},Fn=function(u,h,d){var m=pe["Size4-Regular"][u.charCodeAt(0)]?pe["Size4-Regular"][u.charCodeAt(0)][4]:pe["Size1-Regular"][u.charCodeAt(0)][4],I=new Vi("inner",function(u,h){switch(u){case"\u239c":return"M291 0 H417 V"+h+" H291z M291 0 H417 V"+h+" H291z";case"\u2223":return"M145 0 H188 V"+h+" H145z M145 0 H188 V"+h+" H145z";case"\u2225":return"M145 0 H188 V"+h+" H145z M145 0 H188 V"+h+" H145zM367 0 H410 V"+h+" H367z M367 0 H410 V"+h+" H367z";case"\u239f":return"M457 0 H583 V"+h+" H457z M457 0 H583 V"+h+" H457z";case"\u23a2":return"M319 0 H403 V"+h+" H319z M319 0 H403 V"+h+" H319z";case"\u23a5":return"M263 0 H347 V"+h+" H263z M263 0 H347 V"+h+" H263z";case"\u23aa":return"M384 0 H504 V"+h+" H384z M384 0 H504 V"+h+" H384z";case"\u23d0":return"M312 0 H355 V"+h+" H312z M312 0 H355 V"+h+" H312z";case"\u2016":return"M257 0 H300 V"+h+" H257z M257 0 H300 V"+h+" H257zM478 0 H521 V"+h+" H478z M478 0 H521 V"+h+" H478z";default:return""}}(u,Math.round(1e3*h))),N=new Ui([I],{width:Ze(m),height:Ze(h),style:"width:"+Ze(m),viewBox:"0 0 "+1e3*m+" "+Math.round(1e3*h),preserveAspectRatio:"xMinYMin"}),P=ye.makeSvgSpan([],[N],d);return P.height=h,P.style.height=Ze(h),P.style.width=Ze(m),{type:"elem",elem:P}},_a={type:"kern",size:-.008},jo=["|","\\lvert","\\rvert","\\vert"],fs=["\\|","\\lVert","\\rVert","\\Vert"],vi=function(u,h,d,m,I,N){var P,_,q,ae;P=q=ae=u,_=null;var me="Size1-Regular";"\\uparrow"===u?q=ae="\u23d0":"\\Uparrow"===u?q=ae="\u2016":"\\downarrow"===u?P=q="\u23d0":"\\Downarrow"===u?P=q="\u2016":"\\updownarrow"===u?(P="\\uparrow",q="\u23d0",ae="\\downarrow"):"\\Updownarrow"===u?(P="\\Uparrow",q="\u2016",ae="\\Downarrow"):lt_contains(jo,u)?q="\u2223":lt_contains(fs,u)?q="\u2225":"["===u||"\\lbrack"===u?(P="\u23a1",q="\u23a2",ae="\u23a3",me="Size4-Regular"):"]"===u||"\\rbrack"===u?(P="\u23a4",q="\u23a5",ae="\u23a6",me="Size4-Regular"):"\\lfloor"===u||"\u230a"===u?(q=P="\u23a2",ae="\u23a3",me="Size4-Regular"):"\\lceil"===u||"\u2308"===u?(P="\u23a1",q=ae="\u23a2",me="Size4-Regular"):"\\rfloor"===u||"\u230b"===u?(q=P="\u23a5",ae="\u23a6",me="Size4-Regular"):"\\rceil"===u||"\u2309"===u?(P="\u23a4",q=ae="\u23a5",me="Size4-Regular"):"("===u||"\\lparen"===u?(P="\u239b",q="\u239c",ae="\u239d",me="Size4-Regular"):")"===u||"\\rparen"===u?(P="\u239e",q="\u239f",ae="\u23a0",me="Size4-Regular"):"\\{"===u||"\\lbrace"===u?(P="\u23a7",_="\u23a8",ae="\u23a9",q="\u23aa",me="Size4-Regular"):"\\}"===u||"\\rbrace"===u?(P="\u23ab",_="\u23ac",ae="\u23ad",q="\u23aa",me="Size4-Regular"):"\\lgroup"===u||"\u27ee"===u?(P="\u23a7",ae="\u23a9",q="\u23aa",me="Size4-Regular"):"\\rgroup"===u||"\u27ef"===u?(P="\u23ab",ae="\u23ad",q="\u23aa",me="Size4-Regular"):"\\lmoustache"===u||"\u23b0"===u?(P="\u23a7",ae="\u23ad",q="\u23aa",me="Size4-Regular"):("\\rmoustache"===u||"\u23b1"===u)&&(P="\u23ab",ae="\u23a9",q="\u23aa",me="Size4-Regular");var ze=si(P,me,I),Be=ze.height+ze.depth,Ee=si(q,me,I),Ue=Ee.height+Ee.depth,Xe=si(ae,me,I),at=Xe.height+Xe.depth,ht=0,wt=1;if(null!==_){var lr=si(_,me,I);ht=lr.height+lr.depth,wt=2}var mt=Be+at+ht,Xt=mt+Math.max(0,Math.ceil((h-mt)/(wt*Ue)))*wt*Ue,Yt=m.fontMetrics().axisHeight;d&&(Yt*=m.sizeMultiplier);var jr=Xt/2-Yt,Kt=[];if(Kt.push(di(ae,me,I)),Kt.push(_a),null===_)Kt.push(Fn(q,Xt-Be-at+.016,m));else{var ki=(Xt-Be-at-ht)/2+.016;Kt.push(Fn(q,ki,m)),Kt.push(_a),Kt.push(di(_,me,I)),Kt.push(_a),Kt.push(Fn(q,ki,m))}Kt.push(_a),Kt.push(di(P,me,I));var nn=m.havingBaseStyle(Ke.TEXT),be=ye.makeVList({positionType:"bottom",positionData:jr,children:Kt},nn);return ha(ye.makeSpan(["delimsizing","mult"],[be],nn),Ke.TEXT,m,N)},go=function(u,h,d,m,I){var N=function(u,h,d){h*=1e3;var m="";switch(u){case"sqrtMain":m=function(u,h){return"M95,"+(622+u+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+u/2.075+" -"+u+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+u)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+u)+" 80h400000v"+(40+u)+"h-400000z"}(h);break;case"sqrtSize1":m=function(u,h){return"M263,"+(601+u+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+u/2.084+" -"+u+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+u)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+u)+" 80h400000v"+(40+u)+"h-400000z"}(h);break;case"sqrtSize2":m=function(u,h){return"M983 "+(10+u+80)+"\nl"+u/3.13+" -"+u+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+u)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+u)+" 80h400000v"+(40+u)+"h-400000z"}(h);break;case"sqrtSize3":m=function(u,h){return"M424,"+(2398+u+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+u/4.223+" -"+u+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+u)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+u)+" 80\nh400000v"+(40+u)+"h-400000z"}(h);break;case"sqrtSize4":m=function(u,h){return"M473,"+(2713+u+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+u/5.298+" -"+u+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+u)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+u)+" 80h400000v"+(40+u)+"H1017.7z"}(h);break;case"sqrtTall":m=function(u,h,d){return"M702 "+(u+80)+"H400000"+(40+u)+"\nH742v"+(d-54-80-u)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+u)+"H742z"}(h,0,d)}return m}(u,m,d),P=new Vi(u,N),_=new Ui([P],{width:"400em",height:Ze(h),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});return ye.makeSvgSpan(["hide-tail"],[_],I)},vo=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","\\surd"],po=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1"],oi=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],fe=[0,1.2,1.8,2.4,3],Ce=[{type:"small",style:Ke.SCRIPTSCRIPT},{type:"small",style:Ke.SCRIPT},{type:"small",style:Ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],G=[{type:"small",style:Ke.SCRIPTSCRIPT},{type:"small",style:Ke.SCRIPT},{type:"small",style:Ke.TEXT},{type:"stack"}],$=[{type:"small",style:Ke.SCRIPTSCRIPT},{type:"small",style:Ke.SCRIPT},{type:"small",style:Ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],ue=function(u){if("small"===u.type)return"Main-Regular";if("large"===u.type)return"Size"+u.size+"-Regular";if("stack"===u.type)return"Size4-Regular";throw new Error("Add support for delim type '"+u.type+"' here.")},xe=function(u,h,d,m){for(var N=Math.min(2,3-m.style.size);N<d.length&&"stack"!==d[N].type;N++){var P=si(u,ue(d[N]),"math"),_=P.height+P.depth;if("small"===d[N].type&&(_*=m.havingBaseStyle(d[N].style).sizeMultiplier),_>h)return d[N]}return d[d.length-1]},ce=function(u,h,d,m,I,N){var P;"<"===u||"\\lt"===u||"\u27e8"===u?u="\\langle":(">"===u||"\\gt"===u||"\u27e9"===u)&&(u="\\rangle"),P=lt_contains(oi,u)?Ce:lt_contains(vo,u)?$:G;var _=xe(u,h,P,m);return"small"===_.type?function(u,h,d,m,I,N){var P=ye.makeSymbol(u,"Main-Regular",I,m),_=ha(P,h,m,N);return d&&Ro(_,m,h),_}(u,_.style,d,m,I,N):"large"===_.type?pr(u,_.size,d,m,I,N):vi(u,h,d,m,I,N)},Re={sqrtImage:function(u,h){var P,me,d=h.havingBaseSizing(),m=xe("\\surd",u*d.sizeMultiplier,$,d),I=d.sizeMultiplier,N=Math.max(0,h.minRuleThickness-h.fontMetrics().sqrtRuleThickness),_=0,q=0,ae=0;return"small"===m.type?(u<1?I=1:u<1.4&&(I=.7),q=(1+N)/I,(P=go("sqrtMain",_=(1+N+.08)/I,ae=1e3+1e3*N+80,N,h)).style.minWidth="0.853em",me=.833/I):"large"===m.type?(q=(fe[m.size]+N)/I,(P=go("sqrtSize"+m.size,_=(fe[m.size]+N+.08)/I,ae=1080*fe[m.size],N,h)).style.minWidth="1.02em",me=1/I):(_=u+N+.08,q=u+N,ae=Math.floor(1e3*u+N)+80,(P=go("sqrtTall",_,ae,N,h)).style.minWidth="0.742em",me=1.056),P.height=q,P.style.height=Ze(_),{span:P,advanceWidth:me,ruleWidth:(h.fontMetrics().sqrtRuleThickness+N)*I}},sizedDelim:function(u,h,d,m,I){if("<"===u||"\\lt"===u||"\u27e8"===u?u="\\langle":(">"===u||"\\gt"===u||"\u27e9"===u)&&(u="\\rangle"),lt_contains(vo,u)||lt_contains(oi,u))return pr(u,h,!1,d,m,I);if(lt_contains(po,u))return vi(u,fe[h],!1,d,m,I);throw new Se("Illegal delimiter: '"+u+"'")},sizeToMaxHeight:fe,customSizedDelim:ce,leftRightDelim:function(u,h,d,m,I,N){var P=m.fontMetrics().axisHeight*m.sizeMultiplier,q=5/m.fontMetrics().ptPerEm,ae=Math.max(h-P,d+P),me=Math.max(ae/500*901,2*ae-q);return ce(u,me,!0,m,I,N)}},_e={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Qe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27e8","\\rangle","\u27e9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function xt(M,u){var h=Lr(M);if(h&&lt_contains(Qe,h.text))return h;throw new Se(h?"Invalid delimiter '"+h.text+"' after '"+u.funcName+"'":"Invalid delimiter type '"+M.type+"'",M)}function pt(M){if(!M.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}We({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(u,h){var d=xt(h[0],u);return{type:"delimsizing",mode:u.parser.mode,size:_e[u.funcName].size,mclass:_e[u.funcName].mclass,delim:d.text}},htmlBuilder:function(u,h){return"."===u.delim?ye.makeSpan([u.mclass]):Re.sizedDelim(u.delim,u.size,h,u.mode,[u.mclass])},mathmlBuilder:function(u){var h=[];"."!==u.delim&&h.push(sr(u.delim,u.mode));var d=new Me.MathNode("mo",h);d.setAttribute("fence","mopen"===u.mclass||"mclose"===u.mclass?"true":"false"),d.setAttribute("stretchy","true");var m=Ze(Re.sizeToMaxHeight[u.size]);return d.setAttribute("minsize",m),d.setAttribute("maxsize",m),d}}),We({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(u,h){var d=u.parser.gullet.macros.get("\\current@color");if(d&&"string"!=typeof d)throw new Se("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:u.parser.mode,delim:xt(h[0],u).text,color:d}}}),We({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(u,h){var d=xt(h[0],u),m=u.parser;++m.leftrightDepth;var I=m.parseExpression(!1);--m.leftrightDepth,m.expect("\\right",!1);var N=Ye(m.parseFunction(),"leftright-right");return{type:"leftright",mode:m.mode,body:I,left:d.text,right:N.delim,rightColor:N.color}},htmlBuilder:function(u,h){pt(u);for(var d=B(u.body,h,!0,["mopen","mclose"]),m=0,I=0,N=!1,P=0;P<d.length;P++)d[P].isMiddle?N=!0:(m=Math.max(d[P].height,m),I=Math.max(d[P].depth,I));var _,ze;if(m*=h.sizeMultiplier,I*=h.sizeMultiplier,_="."===u.left?ve(h,["mopen"]):Re.leftRightDelim(u.left,m,I,h,u.mode,["mopen"]),d.unshift(_),N)for(var q=1;q<d.length;q++){var me=d[q].isMiddle;me&&(d[q]=Re.leftRightDelim(me.delim,m,I,me.options,u.mode,[]))}if("."===u.right)ze=ve(h,["mclose"]);else{var Be=u.rightColor?h.withColor(u.rightColor):h;ze=Re.leftRightDelim(u.right,m,I,Be,u.mode,["mclose"])}return d.push(ze),ye.makeSpan(["minner"],d,h)},mathmlBuilder:function(u,h){pt(u);var d=ct(u.body,h);if("."!==u.left){var m=new Me.MathNode("mo",[sr(u.left,u.mode)]);m.setAttribute("fence","true"),d.unshift(m)}if("."!==u.right){var I=new Me.MathNode("mo",[sr(u.right,u.mode)]);I.setAttribute("fence","true"),u.rightColor&&I.setAttribute("mathcolor",u.rightColor),d.push(I)}return Sr(d)}}),We({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(u,h){var d=xt(h[0],u);if(!u.parser.leftrightDepth)throw new Se("\\middle without preceding \\left",d);return{type:"middle",mode:u.parser.mode,delim:d.text}},htmlBuilder:function(u,h){var d;return"."===u.delim?d=ve(h,[]):(d=Re.sizedDelim(u.delim,1,h,u.mode,[])).isMiddle={delim:u.delim,options:h},d},mathmlBuilder:function(u,h){var d="\\vert"===u.delim||"|"===u.delim?sr("|","text"):sr(u.delim,u.mode),m=new Me.MathNode("mo",[d]);return m.setAttribute("fence","true"),m.setAttribute("lspace","0.05em"),m.setAttribute("rspace","0.05em"),m}});var yt=function(u,h){var N,wt,d=ye.wrapFragment(de(u.body,h),h),m=u.label.substr(1),I=h.sizeMultiplier,P=0,_=lt_isCharacterBox(u.body);if("sout"===m)(N=ye.makeSpan(["stretchy","sout"])).height=h.fontMetrics().defaultRuleThickness/I,P=-.5*h.fontMetrics().xHeight;else if("phase"===m){var q=Jt({number:.6,unit:"pt"},h),ae=Jt({number:.35,unit:"ex"},h);I/=h.havingBaseSizing().sizeMultiplier;var ze=d.height+d.depth+q+ae;d.style.paddingLeft=Ze(ze/2+q);var Be=Math.floor(1e3*ze*I),Ee=function(u){return"M400000 "+u+" H0 L"+u/2+" 0 l65 45 L145 "+(u-80)+" H400000z"}(Be),Ue=new Ui([new Vi("phase",Ee)],{width:"400em",height:Ze(Be/1e3),viewBox:"0 0 400000 "+Be,preserveAspectRatio:"xMinYMin slice"});(N=ye.makeSvgSpan(["hide-tail"],[Ue],h)).style.height=Ze(ze),P=d.depth+q+ae}else{/cancel/.test(m)?_||d.classes.push("cancel-pad"):d.classes.push("angl"===m?"anglpad":"boxpad");var Xe=0,at=0,ht=0;/box/.test(m)?(ht=Math.max(h.fontMetrics().fboxrule,h.minRuleThickness),at=Xe=h.fontMetrics().fboxsep+("colorbox"===m?0:ht)):"angl"===m?(Xe=4*(ht=Math.max(h.fontMetrics().defaultRuleThickness,h.minRuleThickness)),at=Math.max(0,.25-d.depth)):at=Xe=_?.2:0,N=function(u,h,d,m,I){var N,P=u.height+u.depth+d+m;if(/fbox|color|angl/.test(h)){if(N=ye.makeSpan(["stretchy",h],[],I),"fbox"===h){var _=I.color&&I.getColor();_&&(N.style.borderColor=_)}}else{var q=[];/^[bx]cancel$/.test(h)&&q.push(new Ss({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(h)&&q.push(new Ss({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var ae=new Ui(q,{width:"100%",height:Ze(P)});N=ye.makeSvgSpan([],[ae],I)}return N.height=P,N.style.height=Ze(P),N}(d,m,Xe,at,h),/fbox|boxed|fcolorbox/.test(m)?(N.style.borderStyle="solid",N.style.borderWidth=Ze(ht)):"angl"===m&&.049!==ht&&(N.style.borderTopWidth=Ze(ht),N.style.borderRightWidth=Ze(ht)),P=d.depth+at,u.backgroundColor&&(N.style.backgroundColor=u.backgroundColor,u.borderColor&&(N.style.borderColor=u.borderColor))}if(u.backgroundColor)wt=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:N,shift:P},{type:"elem",elem:d,shift:0}]},h);else{var lr=/cancel|phase/.test(m)?["svg-align"]:[];wt=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:N,shift:P,wrapperClasses:lr}]},h)}return/cancel/.test(m)&&(wt.height=d.height,wt.depth=d.depth),/cancel/.test(m)&&!_?ye.makeSpan(["mord","cancel-lap"],[wt],h):ye.makeSpan(["mord"],[wt],h)},Pt=function(u,h){var d=0,m=new Me.MathNode(u.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ot(u.body,h)]);switch(u.label){case"\\cancel":m.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":m.setAttribute("notation","downdiagonalstrike");break;case"\\phase":m.setAttribute("notation","phasorangle");break;case"\\sout":m.setAttribute("notation","horizontalstrike");break;case"\\fbox":m.setAttribute("notation","box");break;case"\\angl":m.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(d=h.fontMetrics().fboxsep*h.fontMetrics().ptPerEm,m.setAttribute("width","+"+2*d+"pt"),m.setAttribute("height","+"+2*d+"pt"),m.setAttribute("lspace",d+"pt"),m.setAttribute("voffset",d+"pt"),"\\fcolorbox"===u.label){var I=Math.max(h.fontMetrics().fboxrule,h.minRuleThickness);m.setAttribute("style","border: "+I+"em solid "+String(u.borderColor))}break;case"\\xcancel":m.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return u.backgroundColor&&m.setAttribute("mathbackground",u.backgroundColor),m};We({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(u,h,d){var m=u.parser,I=u.funcName,N=Ye(h[0],"color-token").color;return{type:"enclose",mode:m.mode,label:I,backgroundColor:N,body:h[1]}},htmlBuilder:yt,mathmlBuilder:Pt}),We({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(u,h,d){var m=u.parser,I=u.funcName,N=Ye(h[0],"color-token").color,P=Ye(h[1],"color-token").color;return{type:"enclose",mode:m.mode,label:I,backgroundColor:P,borderColor:N,body:h[2]}},htmlBuilder:yt,mathmlBuilder:Pt}),We({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(u,h){return{type:"enclose",mode:u.parser.mode,label:"\\fbox",body:h[0]}}}),We({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(u,h){return{type:"enclose",mode:u.parser.mode,label:u.funcName,body:h[0]}},htmlBuilder:yt,mathmlBuilder:Pt}),We({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(u,h){return{type:"enclose",mode:u.parser.mode,label:"\\angl",body:h[0]}}});var bt={};function It(M){for(var u=M.type,h=M.names,I=M.htmlBuilder,N=M.mathmlBuilder,P={type:u,numArgs:M.props.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:M.handler},_=0;_<h.length;++_)bt[h[_]]=P;I&&(zn[u]=I),N&&(ho[u]=N)}var Qr={};function F(M,u){Qr[M]=u}var Er=function(){function M(u,h,d){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=u,this.start=h,this.end=d}return M.range=function(h,d){return d?h&&h.loc&&d.loc&&h.loc.lexer===d.loc.lexer?new M(h.loc.lexer,h.loc.start,d.loc.end):null:h&&h.loc},M}(),Vt=function(){function M(h,d){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=h,this.loc=d}return M.prototype.range=function(d,m){return new M(m,Er.range(this,d))},M}();function Gi(M){var u=[];M.consumeSpaces();for(var h=M.fetch().text;"\\hline"===h||"\\hdashline"===h;)M.consume(),u.push("\\hdashline"===h),M.consumeSpaces(),h=M.fetch().text;return u}var Ur=function(u){if(!u.parser.settings.displayMode)throw new Se("{"+u.envName+"} can be used only in display mode.")};function mr(M){if(-1===M.indexOf("ed"))return-1===M.indexOf("*")}function $r(M,u,h){var d=u.hskipBeforeAndAfter,m=u.addJot,I=u.cols,N=u.arraystretch,P=u.colSeparationType,_=u.autoTag,q=u.singleRow,ae=u.emptySingleRow,me=u.maxNumCols,ze=u.leqno;if(M.gullet.beginGroup(),q||M.gullet.macros.set("\\cr","\\\\\\relax"),!N){var Be=M.gullet.expandMacroAsText("\\arraystretch");if(null==Be)N=1;else if(!(N=parseFloat(Be))||N<0)throw new Se("Invalid \\arraystretch: "+Be)}M.gullet.beginGroup();var Ee=[],Ue=[Ee],Xe=[],at=[],ht=null!=_?[]:void 0;function wt(){_&&M.gullet.macros.set("\\@eqnsw","1",!0)}function lr(){ht&&(M.gullet.macros.get("\\df@tag")?(ht.push(M.subparse([new Vt("\\df@tag")])),M.gullet.macros.set("\\df@tag",void 0,!0)):ht.push(Boolean(_)&&"1"===M.gullet.macros.get("\\@eqnsw")))}for(wt(),at.push(Gi(M));;){var mt=M.parseExpression(!1,q?"\\end":"\\\\");M.gullet.endGroup(),M.gullet.beginGroup(),mt={type:"ordgroup",mode:M.mode,body:mt},h&&(mt={type:"styling",mode:M.mode,style:h,body:[mt]}),Ee.push(mt);var ur=M.fetch().text;if("&"===ur){if(me&&Ee.length===me){if(q||P)throw new Se("Too many tab characters: &",M.nextToken);M.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}M.consume()}else{if("\\end"===ur){lr(),1===Ee.length&&"styling"===mt.type&&0===mt.body[0].body.length&&(Ue.length>1||!ae)&&Ue.pop(),at.length<Ue.length+1&&at.push([]);break}if("\\\\"!==ur)throw new Se("Expected & or \\\\ or \\cr or \\end",M.nextToken);M.consume();var Xt=void 0;" "!==M.gullet.future().text&&(Xt=M.parseSizeGroup(!0)),Xe.push(Xt?Xt.value:null),lr(),at.push(Gi(M)),Ue.push(Ee=[]),wt()}}return M.gullet.endGroup(),M.gullet.endGroup(),{type:"array",mode:M.mode,addJot:m,arraystretch:N,body:Ue,cols:I,rowGaps:Xe,hskipBeforeAndAfter:d,hLinesBeforeRow:at,colSeparationType:P,tags:ht,leqno:ze}}function Ya(M){return"d"===M.substr(0,1)?"display":"text"}var pi=function(u,h){var d,m,I=u.body.length,N=u.hLinesBeforeRow,P=0,_=new Array(I),q=[],ae=Math.max(h.fontMetrics().arrayRuleWidth,h.minRuleThickness),me=1/h.fontMetrics().ptPerEm,ze=5*me;u.colSeparationType&&"small"===u.colSeparationType&&(ze=h.havingStyle(Ke.SCRIPT).sizeMultiplier/h.sizeMultiplier*.2778);var Ee="CD"===u.colSeparationType?Jt({number:3,unit:"ex"},h):12*me,Ue=3*me,Xe=u.arraystretch*Ee,at=.7*Xe,ht=.3*Xe,wt=0;function lr(xo){for(var Vs=0;Vs<xo.length;++Vs)Vs>0&&(wt+=.25),q.push({pos:wt,isDashed:xo[Vs]})}for(lr(N[0]),d=0;d<u.body.length;++d){var mt=u.body[d],ur=at,Xt=ht;P<mt.length&&(P=mt.length);var Yt=new Array(mt.length);for(m=0;m<mt.length;++m){var jr=de(mt[m],h);Xt<jr.depth&&(Xt=jr.depth),ur<jr.height&&(ur=jr.height),Yt[m]=jr}var Kt=u.rowGaps[d],En=0;Kt&&(En=Jt(Kt,h))>0&&(Xt<(En+=ht)&&(Xt=En),En=0),u.addJot&&(Xt+=Ue),Yt.height=ur,Yt.depth=Xt,Yt.pos=wt+=ur,wt+=Xt+En,_[d]=Yt,lr(N[d+1])}var Vr,Kn,ki=wt/2+h.fontMetrics().axisHeight,nn=u.cols||[],be=[],w0=[];if(u.tags&&u.tags.some(function(xo){return xo}))for(d=0;d<I;++d){var Ja=_[d],Uo=Ja.pos-ki,Ki=u.tags[d],ys=void 0;(ys=!0===Ki?ye.makeSpan(["eqn-num"],[],h):ye.makeSpan([],!1===Ki?[]:B(Ki,h,!0),h)).depth=Ja.depth,ys.height=Ja.height,w0.push({type:"elem",elem:ys,shift:Uo})}for(m=0,Kn=0;m<P||Kn<nn.length;++m,++Kn){for(var Qi=nn[Kn]||{},C0=!0;"separator"===Qi.type;){if(C0||((Vr=ye.makeSpan(["arraycolsep"],[])).style.width=Ze(h.fontMetrics().doubleRuleSep),be.push(Vr)),"|"!==Qi.separator&&":"!==Qi.separator)throw new Se("Invalid separator type: "+Qi.separator);var Co="|"===Qi.separator?"solid":"dashed",Ws=ye.makeSpan(["vertical-separator"],[],h);Ws.style.height=Ze(wt),Ws.style.borderRightWidth=Ze(ae),Ws.style.borderRightStyle=Co,Ws.style.margin="0 "+Ze(-ae/2);var _s=wt-ki;_s&&(Ws.style.verticalAlign=Ze(-_s)),be.push(Ws),Qi=nn[++Kn]||{},C0=!1}if(!(m>=P)){var Ka=void 0;(m>0||u.hskipBeforeAndAfter)&&0!==(Ka=lt_deflt(Qi.pregap,ze))&&((Vr=ye.makeSpan(["arraycolsep"],[])).style.width=Ze(Ka),be.push(Vr));var cr=[];for(d=0;d<I;++d){var Ys=_[d],Us=Ys[m];if(Us){var eu=Ys.pos-ki;Us.depth=Ys.depth,Us.height=Ys.height,cr.push({type:"elem",elem:Us,shift:eu})}}cr=ye.makeVList({positionType:"individualShift",children:cr},h),cr=ye.makeSpan(["col-align-"+(Qi.align||"c")],[cr]),be.push(cr),(m<P-1||u.hskipBeforeAndAfter)&&0!==(Ka=lt_deflt(Qi.postgap,ze))&&((Vr=ye.makeSpan(["arraycolsep"],[])).style.width=Ze(Ka),be.push(Vr))}}if(_=ye.makeSpan(["mtable"],be),q.length>0){for(var Qn=ye.makeLineSpan("hline",h,ae),x0=ye.makeLineSpan("hdashline",h,ae),Vo=[{type:"elem",elem:_,shift:0}];q.length>0;){var Ho=q.pop(),S0=Ho.pos-ki;Vo.push(Ho.isDashed?{type:"elem",elem:x0,shift:S0}:{type:"elem",elem:Qn,shift:S0})}_=ye.makeVList({positionType:"individualShift",children:Vo},h)}if(0===w0.length)return ye.makeSpan(["mord"],[_],h);var M0=ye.makeVList({positionType:"individualShift",children:w0},h);return M0=ye.makeSpan(["tag"],[M0],h),ye.makeFragment([_,M0])},Zo={c:"center ",l:"left ",r:"right "},qi=function(u,h){for(var d=[],m=new Me.MathNode("mtd",[],["mtr-glue"]),I=new Me.MathNode("mtd",[],["mml-eqn-num"]),N=0;N<u.body.length;N++){for(var P=u.body[N],_=[],q=0;q<P.length;q++)_.push(new Me.MathNode("mtd",[ot(P[q],h)]));u.tags&&u.tags[N]&&(_.unshift(m),_.push(m),u.leqno?_.unshift(I):_.push(I)),d.push(new Me.MathNode("mtr",_))}var ae=new Me.MathNode("mtable",d);ae.setAttribute("rowspacing",Ze(.5===u.arraystretch?.1:.16+u.arraystretch-1+(u.addJot?.09:0)));var ze="",Be="";if(u.cols&&u.cols.length>0){var Ee=u.cols,Ue="",Xe=!1,at=0,ht=Ee.length;"separator"===Ee[0].type&&(ze+="top ",at=1),"separator"===Ee[Ee.length-1].type&&(ze+="bottom ",ht-=1);for(var wt=at;wt<ht;wt++)"align"===Ee[wt].type?(Be+=Zo[Ee[wt].align],Xe&&(Ue+="none "),Xe=!0):"separator"===Ee[wt].type&&Xe&&(Ue+="|"===Ee[wt].separator?"solid ":"dashed ",Xe=!1);ae.setAttribute("columnalign",Be.trim()),/[sd]/.test(Ue)&&ae.setAttribute("columnlines",Ue.trim())}if("align"===u.colSeparationType){for(var lr=u.cols||[],mt="",ur=1;ur<lr.length;ur++)mt+=ur%2?"0em ":"1em ";ae.setAttribute("columnspacing",mt.trim())}else ae.setAttribute("columnspacing","alignat"===u.colSeparationType||"gather"===u.colSeparationType?"0em":"small"===u.colSeparationType?"0.2778em":"CD"===u.colSeparationType?"0.5em":"1em");var Xt="",Yt=u.hLinesBeforeRow;ze+=Yt[0].length>0?"left ":"",ze+=Yt[Yt.length-1].length>0?"right ":"";for(var jr=1;jr<Yt.length-1;jr++)Xt+=0===Yt[jr].length?"none ":Yt[jr][0]?"dashed ":"solid ";return/[sd]/.test(Xt)&&ae.setAttribute("rowlines",Xt.trim()),""!==ze&&(ae=new Me.MathNode("menclose",[ae])).setAttribute("notation",ze.trim()),u.arraystretch&&u.arraystretch<1&&(ae=new Me.MathNode("mstyle",[ae])).setAttribute("scriptlevel","1"),ae},Fo=function(u,h){-1===u.envName.indexOf("ed")&&Ur(u);var P,d=[],m=u.envName.indexOf("at")>-1?"alignat":"align",I="split"===u.envName,N=$r(u.parser,{cols:d,addJot:!0,autoTag:I?void 0:mr(u.envName),emptySingleRow:!0,colSeparationType:m,maxNumCols:I?2:void 0,leqno:u.parser.settings.leqno},"display"),_=0,q={type:"ordgroup",mode:u.mode,body:[]};if(h[0]&&"ordgroup"===h[0].type){for(var ae="",me=0;me<h[0].body.length;me++)ae+=Ye(h[0].body[me],"textord").text;P=Number(ae),_=2*P}var Be=!_;N.body.forEach(function(at){for(var ht=1;ht<at.length;ht+=2){var wt=Ye(at[ht],"styling");Ye(wt.body[0],"ordgroup").body.unshift(q)}if(Be)_<at.length&&(_=at.length);else{var mt=at.length/2;if(P<mt)throw new Se("Too many math in a row: expected "+P+", but got "+mt,at[0])}});for(var Ee=0;Ee<_;++Ee){var Ue="r",Xe=0;Ee%2==1?Ue="l":Ee>0&&Be&&(Xe=1),d[Ee]={type:"align",align:Ue,pregap:Xe,postgap:0}}return N.colSeparationType=Be?"align":"alignat",N};It({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(u,h){var I=(Lr(h[0])?[h[0]]:Ye(h[0],"ordgroup").body).map(function(P){var q=Gt(P).text;if(-1!=="lcr".indexOf(q))return{type:"align",align:q};if("|"===q)return{type:"separator",separator:"|"};if(":"===q)return{type:"separator",separator:":"};throw new Se("Unknown column alignment: "+q,P)});return $r(u.parser,{cols:I,hskipBeforeAndAfter:!0,maxNumCols:I.length},Ya(u.envName))},htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(u){var h={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[u.envName.replace("*","")],d="c",m={hskipBeforeAndAfter:!1,cols:[{type:"align",align:d}]};if("*"===u.envName.charAt(u.envName.length-1)){var I=u.parser;if(I.consumeSpaces(),"["===I.fetch().text){if(I.consume(),I.consumeSpaces(),d=I.fetch().text,-1==="lcr".indexOf(d))throw new Se("Expected l or c or r",I.nextToken);I.consume(),I.consumeSpaces(),I.expect("]"),I.consume(),m.cols=[{type:"align",align:d}]}}var N=$r(u.parser,m,Ya(u.envName)),P=Math.max.apply(Math,[0].concat(N.body.map(function(_){return _.length})));return N.cols=new Array(P).fill({type:"align",align:d}),h?{type:"leftright",mode:u.mode,body:[N],left:h[0],right:h[1],rightColor:void 0}:N},htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(u){var d=$r(u.parser,{arraystretch:.5},"script");return d.colSeparationType="small",d},htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["subarray"],props:{numArgs:1},handler:function(u,h){var I=(Lr(h[0])?[h[0]]:Ye(h[0],"ordgroup").body).map(function(P){var q=Gt(P).text;if(-1!=="lc".indexOf(q))return{type:"align",align:q};throw new Se("Unknown column alignment: "+q,P)});if(I.length>1)throw new Se("{subarray} can contain only one column");var N={cols:I,hskipBeforeAndAfter:!1,arraystretch:.5};if((N=$r(u.parser,N,"script")).body.length>0&&N.body[0].length>1)throw new Se("{subarray} can contain only one column");return N},htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(u){var d=$r(u.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Ya(u.envName));return{type:"leftright",mode:u.mode,body:[d],left:u.envName.indexOf("r")>-1?".":"\\{",right:u.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Fo,htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(u){lt_contains(["gather","gather*"],u.envName)&&Ur(u);var h={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:mr(u.envName),emptySingleRow:!0,leqno:u.parser.settings.leqno};return $r(u.parser,h,"display")},htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Fo,htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(u){Ur(u);var h={autoTag:mr(u.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:u.parser.settings.leqno};return $r(u.parser,h,"display")},htmlBuilder:pi,mathmlBuilder:qi}),It({type:"array",names:["CD"],props:{numArgs:0},handler:function(u){return Ur(u),function Es(M){var u=[];for(M.gullet.beginGroup(),M.gullet.macros.set("\\cr","\\\\\\relax"),M.gullet.beginGroup();;){u.push(M.parseExpression(!1,"\\\\")),M.gullet.endGroup(),M.gullet.beginGroup();var h=M.fetch().text;if("&"!==h&&"\\\\"!==h){if("\\end"===h){0===u[u.length-1].length&&u.pop();break}throw new Se("Expected \\\\ or \\cr or \\end",M.nextToken)}M.consume()}for(var d=[],m=[d],I=0;I<u.length;I++){for(var N=u[I],P={type:"styling",body:[],mode:"math",style:"display"},_=0;_<N.length;_++)if(Po(N[_])){d.push(P);var q=Gt(N[_+=1]).text,ae=new Array(2);if(ae[0]={type:"ordgroup",mode:"math",body:[]},ae[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(q)>-1)){if(!("<>AV".indexOf(q)>-1))throw new Se('Expected one of "<>AV=|." after @',N[_]);for(var me=0;me<2;me++){for(var ze=!0,Be=_+1;Be<N.length;Be++){if(fi(N[Be],q)){ze=!1,_=Be;break}if(Po(N[Be]))throw new Se("Missing a "+q+" character to complete a CD arrow.",N[Be]);ae[me].body.push(N[Be])}if(ze)throw new Se("Missing a "+q+" character to complete a CD arrow.",N[_])}}var Ee=Ls(q,ae,M);d.push({type:"styling",body:[Ee],mode:"math",style:"display"}),P={type:"styling",body:[],mode:"math",style:"display"}}else P.body.push(N[_]);I%2==0?d.push(P):d.shift(),m.push(d=[])}return M.gullet.endGroup(),M.gullet.endGroup(),{type:"array",mode:"math",body:m,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(m[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(m.length+1).fill([])}}(u.parser)},htmlBuilder:pi,mathmlBuilder:qi}),F("\\nonumber","\\gdef\\@eqnsw{0}"),F("\\notag","\\nonumber"),We({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(u,h){throw new Se(u.funcName+" valid only within array environment")}});var Bs=bt;We({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(u,h){var d=u.parser,m=u.funcName,I=h[0];if("ordgroup"!==I.type)throw new Se("Invalid environment name",I);for(var N="",P=0;P<I.body.length;++P)N+=Ye(I.body[P],"textord").text;if("\\begin"===m){if(!Bs.hasOwnProperty(N))throw new Se("No such environment: "+N,I);var _=Bs[N],q=d.parseArguments("\\begin{"+N+"}",_),Be=_.handler({mode:d.mode,envName:N,parser:d},q.args,q.optArgs);d.expect("\\end",!1);var Ee=d.nextToken,Ue=Ye(d.parseFunction(),"environment");if(Ue.name!==N)throw new Se("Mismatch: \\begin{"+N+"} matched by \\end{"+Ue.name+"}",Ee);return Be}return{type:"environment",mode:d.mode,name:N,nameGroup:I}}});var Os=ye.makeSpan;function Ti(M,u){var h=B(M.body,u,!0);return Os([M.mclass],h,u)}function ds(M,u){var h,d=ct(M.body,u);return"minner"===M.mclass?h=new Me.MathNode("mpadded",d):"mord"===M.mclass?M.isCharacterBox?(h=d[0]).type="mi":h=new Me.MathNode("mi",d):(M.isCharacterBox?(h=d[0]).type="mo":h=new Me.MathNode("mo",d),"mbin"===M.mclass?(h.attributes.lspace="0.22em",h.attributes.rspace="0.22em"):"mpunct"===M.mclass?(h.attributes.lspace="0em",h.attributes.rspace="0.17em"):"mopen"===M.mclass||"mclose"===M.mclass?(h.attributes.lspace="0em",h.attributes.rspace="0em"):"minner"===M.mclass&&(h.attributes.lspace="0.0556em",h.attributes.width="+0.1111em")),h}We({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(u,h){var I=h[0];return{type:"mclass",mode:u.parser.mode,mclass:"m"+u.funcName.substr(5),body:dn(I),isCharacterBox:lt_isCharacterBox(I)}},htmlBuilder:Ti,mathmlBuilder:ds});var mo=function(u){var h="ordgroup"===u.type&&u.body.length?u.body[0]:u;return"atom"!==h.type||"bin"!==h.family&&"rel"!==h.family?"mord":"m"+h.family};We({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(u,h){return{type:"mclass",mode:u.parser.mode,mclass:mo(h[0]),body:dn(h[1]),isCharacterBox:lt_isCharacterBox(h[1])}}}),We({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(u,h){var P,d=u.parser,m=u.funcName,I=h[1],N=h[0];P="\\stackrel"!==m?mo(I):"mrel";var _={type:"op",mode:I.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==m,body:dn(I)},q={type:"supsub",mode:N.mode,base:_,sup:"\\underset"===m?null:N,sub:"\\underset"===m?N:null};return{type:"mclass",mode:d.mode,mclass:P,body:[q],isCharacterBox:lt_isCharacterBox(q)}},htmlBuilder:Ti,mathmlBuilder:ds});var mi=function(u,h){var m=h.withFont(u.font);return de(u.body,m)},Rs=function(u,h){var m=h.withFont(u.font);return ot(u.body,m)},gs={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};We({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(u,h){var d=u.parser,m=u.funcName,I=Lo(h[0]),N=m;return N in gs&&(N=gs[N]),{type:"font",mode:d.mode,font:N.slice(1),body:I}},htmlBuilder:mi,mathmlBuilder:Rs}),We({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(u,h){var d=u.parser,m=h[0],I=lt_isCharacterBox(m);return{type:"mclass",mode:d.mode,mclass:mo(m),body:[{type:"font",mode:d.mode,font:"boldsymbol",body:m}],isCharacterBox:I}}}),We({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(u,h){var d=u.parser,m=u.funcName,N=d.mode,P=d.parseExpression(!0,u.breakOnTokenText);return{type:"font",mode:N,font:"math"+m.slice(1),body:{type:"ordgroup",mode:d.mode,body:P}}},htmlBuilder:mi,mathmlBuilder:Rs});var yo=function(u,h){var d=h;return"display"===u?d=d.id>=Ke.SCRIPT.id?d.text():Ke.DISPLAY:"text"===u&&d.size===Ke.DISPLAY.size?d=Ke.TEXT:"script"===u?d=Ke.SCRIPT:"scriptscript"===u&&(d=Ke.SCRIPTSCRIPT),d},F0=function(u,h){var N,d=yo(u.size,h.style),m=d.fracNum(),I=d.fracDen();N=h.havingStyle(m);var P=de(u.numer,N,h);if(u.continued){var _=8.5/h.fontMetrics().ptPerEm,q=3.5/h.fontMetrics().ptPerEm;P.height=P.height<_?_:P.height,P.depth=P.depth<q?q:P.depth}N=h.havingStyle(I);var me,ze,Be,Ee,Ue,Xe,at,mt,ur,Xt,ae=de(u.denom,N,h);if(u.hasBarLine?(u.barSize?(ze=Jt(u.barSize,h),me=ye.makeLineSpan("frac-line",h,ze)):me=ye.makeLineSpan("frac-line",h),ze=me.height,Be=me.height):(me=null,ze=0,Be=h.fontMetrics().defaultRuleThickness),d.size===Ke.DISPLAY.size||"display"===u.size?(Ee=h.fontMetrics().num1,Ue=ze>0?3*Be:7*Be,Xe=h.fontMetrics().denom1):(ze>0?(Ee=h.fontMetrics().num2,Ue=Be):(Ee=h.fontMetrics().num3,Ue=3*Be),Xe=h.fontMetrics().denom2),me){var wt=h.fontMetrics().axisHeight;Ee-P.depth-(wt+.5*ze)<Ue&&(Ee+=Ue-(Ee-P.depth-(wt+.5*ze))),wt-.5*ze-(ae.height-Xe)<Ue&&(Xe+=Ue-(wt-.5*ze-(ae.height-Xe))),at=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ae,shift:Xe},{type:"elem",elem:me,shift:-(wt-.5*ze)},{type:"elem",elem:P,shift:-Ee}]},h)}else{var ht=Ee-P.depth-(ae.height-Xe);ht<Ue&&(Ee+=.5*(Ue-ht),Xe+=.5*(Ue-ht)),at=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ae,shift:Xe},{type:"elem",elem:P,shift:-Ee}]},h)}return N=h.havingStyle(d),at.height*=N.sizeMultiplier/h.sizeMultiplier,at.depth*=N.sizeMultiplier/h.sizeMultiplier,mt=d.size===Ke.DISPLAY.size?h.fontMetrics().delim1:d.size===Ke.SCRIPTSCRIPT.size?h.havingStyle(Ke.SCRIPT).fontMetrics().delim2:h.fontMetrics().delim2,ur=null==u.leftDelim?ve(h,["mopen"]):Re.customSizedDelim(u.leftDelim,mt,!0,h.havingStyle(d),u.mode,["mopen"]),Xt=u.continued?ye.makeSpan([]):null==u.rightDelim?ve(h,["mclose"]):Re.customSizedDelim(u.rightDelim,mt,!0,h.havingStyle(d),u.mode,["mclose"]),ye.makeSpan(["mord"].concat(N.sizingClasses(h)),[ur,ye.makeSpan(["mfrac"],[at]),Xt],h)},Wo=function(u,h){var d=new Me.MathNode("mfrac",[ot(u.numer,h),ot(u.denom,h)]);if(u.hasBarLine){if(u.barSize){var m=Jt(u.barSize,h);d.setAttribute("linethickness",Ze(m))}}else d.setAttribute("linethickness","0px");var I=yo(u.size,h.style);if(I.size!==h.style.size&&((d=new Me.MathNode("mstyle",[d])).setAttribute("displaystyle",I.size===Ke.DISPLAY.size?"true":"false"),d.setAttribute("scriptlevel","0")),null!=u.leftDelim||null!=u.rightDelim){var P=[];if(null!=u.leftDelim){var _=new Me.MathNode("mo",[new Me.TextNode(u.leftDelim.replace("\\",""))]);_.setAttribute("fence","true"),P.push(_)}if(P.push(d),null!=u.rightDelim){var q=new Me.MathNode("mo",[new Me.TextNode(u.rightDelim.replace("\\",""))]);q.setAttribute("fence","true"),P.push(q)}return Sr(P)}return d};We({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(u,h){var P,d=u.parser,m=u.funcName,I=h[0],N=h[1],_=null,q=null,ae="auto";switch(m){case"\\dfrac":case"\\frac":case"\\tfrac":P=!0;break;case"\\\\atopfrac":P=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":P=!1,_="(",q=")";break;case"\\\\bracefrac":P=!1,_="\\{",q="\\}";break;case"\\\\brackfrac":P=!1,_="[",q="]";break;default:throw new Error("Unrecognized genfrac command")}switch(m){case"\\dfrac":case"\\dbinom":ae="display";break;case"\\tfrac":case"\\tbinom":ae="text"}return{type:"genfrac",mode:d.mode,continued:!1,numer:I,denom:N,hasBarLine:P,leftDelim:_,rightDelim:q,size:ae,barSize:null}},htmlBuilder:F0,mathmlBuilder:Wo}),We({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(u,h){return{type:"genfrac",mode:u.parser.mode,continued:!0,numer:h[0],denom:h[1],hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),We({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(u){var I,h=u.parser,m=u.token;switch(u.funcName){case"\\over":I="\\frac";break;case"\\choose":I="\\binom";break;case"\\atop":I="\\\\atopfrac";break;case"\\brace":I="\\\\bracefrac";break;case"\\brack":I="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:h.mode,replaceWith:I,token:m}}});var d0=["display","text","script","scriptscript"],W0=function(u){var h=null;return u.length>0&&(h="."===(h=u)?null:h),h};We({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(u,h){var me,d=u.parser,m=h[4],I=h[5],N=Lo(h[0]),P="atom"===N.type&&"open"===N.family?W0(N.text):null,_=Lo(h[1]),q="atom"===_.type&&"close"===_.family?W0(_.text):null,ae=Ye(h[2],"size"),ze=null;me=!!ae.isBlank||(ze=ae.value).number>0;var Be="auto",Ee=h[3];if("ordgroup"===Ee.type){if(Ee.body.length>0){var Ue=Ye(Ee.body[0],"textord");Be=d0[Number(Ue.text)]}}else Ee=Ye(Ee,"textord"),Be=d0[Number(Ee.text)];return{type:"genfrac",mode:d.mode,numer:m,denom:I,continued:!1,hasBarLine:me,barSize:ze,leftDelim:P,rightDelim:q,size:Be}},htmlBuilder:F0,mathmlBuilder:Wo}),We({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(u,h){var I=u.token;return{type:"infix",mode:u.parser.mode,replaceWith:"\\\\abovefrac",size:Ye(h[0],"size").value,token:I}}}),We({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(u,h){var d=u.parser,I=h[0],N=function(u){if(!u)throw new Error("Expected non-null, but got "+String(u));return u}(Ye(h[1],"infix").size);return{type:"genfrac",mode:d.mode,numer:I,denom:h[2],continued:!1,hasBarLine:N.number>0,barSize:N,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:F0,mathmlBuilder:Wo});var ft=function(u,h){var m,I,d=h.style;"supsub"===u.type?(m=u.sup?de(u.sup,h.havingStyle(d.sup()),h):de(u.sub,h.havingStyle(d.sub()),h),I=Ye(u.base,"horizBrace")):I=Ye(u,"horizBrace");var _,N=de(I.base,h.havingBaseStyle(Ke.DISPLAY)),P=un_svgSpan(I,h);if(I.isOver?(_=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:N},{type:"kern",size:.1},{type:"elem",elem:P}]},h)).children[0].children[0].children[1].classes.push("svg-align"):(_=ye.makeVList({positionType:"bottom",positionData:N.depth+.1+P.height,children:[{type:"elem",elem:P},{type:"kern",size:.1},{type:"elem",elem:N}]},h)).children[0].children[0].children[0].classes.push("svg-align"),m){var q=ye.makeSpan(["mord",I.isOver?"mover":"munder"],[_],h);_=ye.makeVList(I.isOver?{positionType:"firstBaseline",children:[{type:"elem",elem:q},{type:"kern",size:.2},{type:"elem",elem:m}]}:{positionType:"bottom",positionData:q.depth+.2+m.height+m.depth,children:[{type:"elem",elem:m},{type:"kern",size:.2},{type:"elem",elem:q}]},h)}return ye.makeSpan(["mord",I.isOver?"mover":"munder"],[_],h)};We({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(u,h){var m=u.funcName;return{type:"horizBrace",mode:u.parser.mode,label:m,isOver:/^\\over/.test(m),base:h[0]}},htmlBuilder:ft,mathmlBuilder:function(u,h){var d=un_mathMLnode(u.label);return new Me.MathNode(u.isOver?"mover":"munder",[ot(u.base,h),d])}}),We({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(u,h){var d=u.parser,m=h[1],I=Ye(h[0],"url").url;return d.settings.isTrusted({command:"\\href",url:I})?{type:"href",mode:d.mode,href:I,body:dn(m)}:d.formatUnsupportedCmd("\\href")},htmlBuilder:function(u,h){var d=B(u.body,h,!1);return ye.makeAnchor(u.href,[],d,h)},mathmlBuilder:function(u,h){var d=fr(u.body,h);return d instanceof He||(d=new He("mrow",[d])),d.setAttribute("href",u.href),d}}),We({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(u,h){var d=u.parser,m=Ye(h[0],"url").url;if(!d.settings.isTrusted({command:"\\url",url:m}))return d.formatUnsupportedCmd("\\url");for(var I=[],N=0;N<m.length;N++){var P=m[N];"~"===P&&(P="\\textasciitilde"),I.push({type:"textord",mode:"text",text:P})}return{type:"href",mode:d.mode,href:m,body:dn({type:"text",mode:d.mode,font:"\\texttt",body:I})}}}),We({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(u,h){return{type:"hbox",mode:u.parser.mode,body:dn(h[0])}},htmlBuilder:function(u,h){var d=B(u.body,h,!1);return ye.makeFragment(d)},mathmlBuilder:function(u,h){return new Me.MathNode("mrow",ct(u.body,h))}}),We({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(u,h){var d=u.parser,m=u.funcName,N=Ye(h[0],"raw").string,P=h[1];d.settings.strict&&d.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var _,q={};switch(m){case"\\htmlClass":q.class=N,_={command:"\\htmlClass",class:N};break;case"\\htmlId":q.id=N,_={command:"\\htmlId",id:N};break;case"\\htmlStyle":q.style=N,_={command:"\\htmlStyle",style:N};break;case"\\htmlData":for(var ae=N.split(","),me=0;me<ae.length;me++){var ze=ae[me].split("=");if(2!==ze.length)throw new Se("Error parsing key-value for \\htmlData");q["data-"+ze[0].trim()]=ze[1].trim()}_={command:"\\htmlData",attributes:q};break;default:throw new Error("Unrecognized html command")}return d.settings.isTrusted(_)?{type:"html",mode:d.mode,attributes:q,body:dn(P)}:d.formatUnsupportedCmd(m)},htmlBuilder:function(u,h){var d=B(u.body,h,!1),m=["enclosing"];u.attributes.class&&m.push.apply(m,u.attributes.class.trim().split(/\s+/));var I=ye.makeSpan(m,d,h);for(var N in u.attributes)"class"!==N&&u.attributes.hasOwnProperty(N)&&I.setAttribute(N,u.attributes[N]);return I},mathmlBuilder:function(u,h){return fr(u.body,h)}}),We({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(u,h){return{type:"htmlmathml",mode:u.parser.mode,html:dn(h[0]),mathml:dn(h[1])}},htmlBuilder:function(u,h){var d=B(u.html,h,!1);return ye.makeFragment(d)},mathmlBuilder:function(u,h){return fr(u.mathml,h)}});var _o=function(u){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(u))return{number:+u,unit:"bp"};var h=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(u);if(!h)throw new Se("Invalid size: '"+u+"' in \\includegraphics");var d={number:+(h[1]+h[2]),unit:h[3]};if(!fn(d))throw new Se("Invalid unit: '"+d.unit+"' in \\includegraphics.");return d};We({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(u,h,d){var m=u.parser,I={number:0,unit:"em"},N={number:.9,unit:"em"},P={number:0,unit:"em"},_="";if(d[0])for(var ae=Ye(d[0],"raw").string.split(","),me=0;me<ae.length;me++){var ze=ae[me].split("=");if(2===ze.length){var Be=ze[1].trim();switch(ze[0].trim()){case"alt":_=Be;break;case"width":I=_o(Be);break;case"height":N=_o(Be);break;case"totalheight":P=_o(Be);break;default:throw new Se("Invalid key: '"+ze[0]+"' in \\includegraphics.")}}}var Ee=Ye(h[0],"url").url;return""===_&&(_=(_=(_=Ee).replace(/^.*[\\/]/,"")).substring(0,_.lastIndexOf("."))),m.settings.isTrusted({command:"\\includegraphics",url:Ee})?{type:"includegraphics",mode:m.mode,alt:_,width:I,height:N,totalheight:P,src:Ee}:m.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(u,h){var d=Jt(u.height,h),m=0;u.totalheight.number>0&&(m=Jt(u.totalheight,h)-d);var I=0;u.width.number>0&&(I=Jt(u.width,h));var N={height:Ze(d+m)};I>0&&(N.width=Ze(I)),m>0&&(N.verticalAlign=Ze(-m));var P=new Ci(u.src,u.alt,N);return P.height=d,P.depth=m,P},mathmlBuilder:function(u,h){var d=new Me.MathNode("mglyph",[]);d.setAttribute("alt",u.alt);var m=Jt(u.height,h),I=0;if(u.totalheight.number>0&&(I=Jt(u.totalheight,h)-m,d.setAttribute("valign",Ze(-I))),d.setAttribute("height",Ze(m+I)),u.width.number>0){var N=Jt(u.width,h);d.setAttribute("width",Ze(N))}return d.setAttribute("src",u.src),d}}),We({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(u,h){var d=u.parser,m=u.funcName,I=Ye(h[0],"size");if(d.settings.strict){var P="mu"===I.value.unit;"m"===m[1]?(P||d.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+m+" supports only mu units, not "+I.value.unit+" units"),"math"!==d.mode&&d.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+m+" works only in math mode")):P&&d.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+m+" doesn't support mu units")}return{type:"kern",mode:d.mode,dimension:I.value}},htmlBuilder:function(u,h){return ye.makeGlue(u.dimension,h)},mathmlBuilder:function(u,h){var d=Jt(u.dimension,h);return new Me.SpaceNode(d)}}),We({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(u,h){var I=h[0];return{type:"lap",mode:u.parser.mode,alignment:u.funcName.slice(5),body:I}},htmlBuilder:function(u,h){var d;"clap"===u.alignment?(d=ye.makeSpan([],[de(u.body,h)]),d=ye.makeSpan(["inner"],[d],h)):d=ye.makeSpan(["inner"],[de(u.body,h)]);var m=ye.makeSpan(["fix"],[]),I=ye.makeSpan([u.alignment],[d,m],h),N=ye.makeSpan(["strut"]);return N.style.height=Ze(I.height+I.depth),I.depth&&(N.style.verticalAlign=Ze(-I.depth)),I.children.unshift(N),I=ye.makeSpan(["thinbox"],[I],h),ye.makeSpan(["mord","vbox"],[I],h)},mathmlBuilder:function(u,h){var d=new Me.MathNode("mpadded",[ot(u.body,h)]);return"rlap"!==u.alignment&&d.setAttribute("lspace",("llap"===u.alignment?"-1":"-0.5")+"width"),d.setAttribute("width","0px"),d}}),We({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(u,h){var d=u.funcName,m=u.parser,I=m.mode;m.switchMode("math");var N="\\("===d?"\\)":"$",P=m.parseExpression(!1,N);return m.expect(N),m.switchMode(I),{type:"styling",mode:m.mode,style:"text",body:P}}}),We({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(u,h){throw new Se("Mismatched "+u.funcName)}});var g0=function(u,h){switch(h.style.size){case Ke.DISPLAY.size:return u.display;case Ke.TEXT.size:return u.text;case Ke.SCRIPT.size:return u.script;case Ke.SCRIPTSCRIPT.size:return u.scriptscript;default:return u.text}};We({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(u,h){return{type:"mathchoice",mode:u.parser.mode,display:dn(h[0]),text:dn(h[1]),script:dn(h[2]),scriptscript:dn(h[3])}},htmlBuilder:function(u,h){var d=g0(u,h),m=B(d,h,!1);return ye.makeFragment(m)},mathmlBuilder:function(u,h){var d=g0(u,h);return fr(d,h)}});var v0=function(u,h,d,m,I,N,P){u=ye.makeSpan([],[u]);var q,ae,Be,_=d&&lt_isCharacterBox(d);if(h){var me=de(h,m.havingStyle(I.sup()),m);ae={elem:me,kern:Math.max(m.fontMetrics().bigOpSpacing1,m.fontMetrics().bigOpSpacing3-me.depth)}}if(d){var ze=de(d,m.havingStyle(I.sub()),m);q={elem:ze,kern:Math.max(m.fontMetrics().bigOpSpacing2,m.fontMetrics().bigOpSpacing4-ze.height)}}if(ae&&q){var Ee=m.fontMetrics().bigOpSpacing5+q.elem.height+q.elem.depth+q.kern+u.depth+P;Be=ye.makeVList({positionType:"bottom",positionData:Ee,children:[{type:"kern",size:m.fontMetrics().bigOpSpacing5},{type:"elem",elem:q.elem,marginLeft:Ze(-N)},{type:"kern",size:q.kern},{type:"elem",elem:u},{type:"kern",size:ae.kern},{type:"elem",elem:ae.elem,marginLeft:Ze(N)},{type:"kern",size:m.fontMetrics().bigOpSpacing5}]},m)}else if(q)Be=ye.makeVList({positionType:"top",positionData:u.height-P,children:[{type:"kern",size:m.fontMetrics().bigOpSpacing5},{type:"elem",elem:q.elem,marginLeft:Ze(-N)},{type:"kern",size:q.kern},{type:"elem",elem:u}]},m);else{if(!ae)return u;Be=ye.makeVList({positionType:"bottom",positionData:u.depth+P,children:[{type:"elem",elem:u},{type:"kern",size:ae.kern},{type:"elem",elem:ae.elem,marginLeft:Ze(N)},{type:"kern",size:m.fontMetrics().bigOpSpacing5}]},m)}var at=[Be];if(q&&0!==N&&!_){var ht=ye.makeSpan(["mspace"],[],m);ht.style.marginRight=Ze(N),at.unshift(ht)}return ye.makeSpan(["mop","op-limits"],at,m)},_0=["\\smallint"],Ua=function(u,h){var d,m,N,I=!1;"supsub"===u.type?(d=u.sup,m=u.sub,N=Ye(u.base,"op"),I=!0):N=Ye(u,"op");var q,P=h.style,_=!1;if(P.size===Ke.DISPLAY.size&&N.symbol&&!lt_contains(_0,N.name)&&(_=!0),N.symbol){var ae=_?"Size2-Regular":"Size1-Regular",me="";if(("\\oiint"===N.name||"\\oiiint"===N.name)&&(me=N.name.substr(1),N.name="oiint"===me?"\\iint":"\\iiint"),q=ye.makeSymbol(N.name,ae,"math",h,["mop","op-symbol",_?"large-op":"small-op"]),me.length>0){var ze=q.italic,Be=ye.staticSvg(me+"Size"+(_?"2":"1"),h);q=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:q,shift:0},{type:"elem",elem:Be,shift:_?.08:0}]},h),N.name="\\"+me,q.classes.unshift("mop"),q.italic=ze}}else if(N.body){var Ee=B(N.body,h,!0);1===Ee.length&&Ee[0]instanceof hi?(q=Ee[0]).classes[0]="mop":q=ye.makeSpan(["mop"],Ee,h)}else{for(var Ue=[],Xe=1;Xe<N.name.length;Xe++)Ue.push(ye.mathsym(N.name[Xe],N.mode,h));q=ye.makeSpan(["mop"],Ue,h)}var at=0,ht=0;return(q instanceof hi||"\\oiint"===N.name||"\\oiiint"===N.name)&&!N.suppressBaseShift&&(at=(q.height-q.depth)/2-h.fontMetrics().axisHeight,ht=q.italic),I?v0(q,d,m,h,P,ht,at):(at&&(q.style.position="relative",q.style.top=Ze(at)),q)},Va=function(u,h){var d;if(u.symbol)d=new He("mo",[sr(u.name,u.mode)]),lt_contains(_0,u.name)&&d.setAttribute("largeop","false");else if(u.body)d=new He("mo",ct(u.body,h));else{d=new He("mi",[new ut(u.name.slice(1))]);var m=new He("mo",[sr("\u2061","text")]);d=u.parentIsSupSub?new He("mrow",[d,m]):we([d,m])}return d},p0={"\u220f":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22c0":"\\bigwedge","\u22c1":"\\bigvee","\u22c2":"\\bigcap","\u22c3":"\\bigcup","\u2a00":"\\bigodot","\u2a01":"\\bigoplus","\u2a02":"\\bigotimes","\u2a04":"\\biguplus","\u2a06":"\\bigsqcup"};We({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220f","\u2210","\u2211","\u22c0","\u22c1","\u22c2","\u22c3","\u2a00","\u2a01","\u2a02","\u2a04","\u2a06"],props:{numArgs:0},handler:function(u,h){var I=u.funcName;return 1===I.length&&(I=p0[I]),{type:"op",mode:u.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:I}},htmlBuilder:Ua,mathmlBuilder:Va}),We({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(u,h){return{type:"op",mode:u.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:dn(h[0])}},htmlBuilder:Ua,mathmlBuilder:Va});var Ao={"\u222b":"\\int","\u222c":"\\iint","\u222d":"\\iiint","\u222e":"\\oint","\u222f":"\\oiint","\u2230":"\\oiiint"};We({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(u){return{type:"op",mode:u.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:u.funcName}},htmlBuilder:Ua,mathmlBuilder:Va}),We({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(u){return{type:"op",mode:u.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:u.funcName}},htmlBuilder:Ua,mathmlBuilder:Va}),We({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222b","\u222c","\u222d","\u222e","\u222f","\u2230"],props:{numArgs:0},handler:function(u){var m=u.funcName;return 1===m.length&&(m=Ao[m]),{type:"op",mode:u.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:m}},htmlBuilder:Ua,mathmlBuilder:Va});var Gs=function(u,h){var d,m,N,P,I=!1;if("supsub"===u.type?(d=u.sup,m=u.sub,N=Ye(u.base,"operatorname"),I=!0):N=Ye(u,"operatorname"),N.body.length>0){for(var _=N.body.map(function(ze){var Be=ze.text;return"string"==typeof Be?{type:"textord",mode:ze.mode,text:Be}:ze}),q=B(_,h.withFont("mathrm"),!0),ae=0;ae<q.length;ae++){var me=q[ae];me instanceof hi&&(me.text=me.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}P=ye.makeSpan(["mop"],q,h)}else P=ye.makeSpan(["mop"],[],h);return I?v0(P,d,m,h,h.style,0,0):P};function Ha(M,u,h){for(var d=B(M,u,!1),m=u.sizeMultiplier/h.sizeMultiplier,I=0;I<d.length;I++){var N=d[I].classes.indexOf("sizing");N<0?Array.prototype.push.apply(d[I].classes,u.sizingClasses(h)):d[I].classes[N+1]==="reset-size"+u.size&&(d[I].classes[N+1]="reset-size"+h.size),d[I].height*=m,d[I].depth*=m}return ye.makeFragment(d)}We({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(u,h){var m=u.funcName;return{type:"operatorname",mode:u.parser.mode,body:dn(h[0]),alwaysHandleSupSub:"\\operatornamewithlimits"===m,limits:!1,parentIsSupSub:!1}},htmlBuilder:Gs,mathmlBuilder:function(u,h){for(var d=ct(u.body,h.withFont("mathrm")),m=!0,I=0;I<d.length;I++){var N=d[I];if(!(N instanceof Me.SpaceNode))if(N instanceof Me.MathNode)switch(N.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var P=N.children[0];1===N.children.length&&P instanceof Me.TextNode?P.text=P.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):m=!1;break;default:m=!1}else m=!1}if(m){var _=d.map(function(me){return me.toText()}).join("");d=[new Me.TextNode(_)]}var q=new Me.MathNode("mi",d);q.setAttribute("mathvariant","normal");var ae=new Me.MathNode("mo",[sr("\u2061","text")]);return u.parentIsSupSub?new Me.MathNode("mrow",[q,ae]):Me.newDocumentFragment([q,ae])}}),F("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),er({type:"ordgroup",htmlBuilder:function(u,h){return u.semisimple?ye.makeFragment(B(u.body,h,!1)):ye.makeSpan(["mord"],B(u.body,h,!0),h)},mathmlBuilder:function(u,h){return fr(u.body,h,!0)}}),We({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(u,h){return{type:"overline",mode:u.parser.mode,body:h[0]}},htmlBuilder:function(u,h){var d=de(u.body,h.havingCrampedStyle()),m=ye.makeLineSpan("overline-line",h),I=h.fontMetrics().defaultRuleThickness,N=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:3*I},{type:"elem",elem:m},{type:"kern",size:I}]},h);return ye.makeSpan(["mord","overline"],[N],h)},mathmlBuilder:function(u,h){var d=new Me.MathNode("mo",[new Me.TextNode("\u203e")]);d.setAttribute("stretchy","true");var m=new Me.MathNode("mover",[ot(u.body,h),d]);return m.setAttribute("accent","true"),m}}),We({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(u,h){return{type:"phantom",mode:u.parser.mode,body:dn(h[0])}},htmlBuilder:function(u,h){var d=B(u.body,h.withPhantom(),!1);return ye.makeFragment(d)},mathmlBuilder:function(u,h){var d=ct(u.body,h);return new Me.MathNode("mphantom",d)}}),We({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(u,h){return{type:"hphantom",mode:u.parser.mode,body:h[0]}},htmlBuilder:function(u,h){var d=ye.makeSpan([],[de(u.body,h.withPhantom())]);if(d.height=0,d.depth=0,d.children)for(var m=0;m<d.children.length;m++)d.children[m].height=0,d.children[m].depth=0;return d=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d}]},h),ye.makeSpan(["mord"],[d],h)},mathmlBuilder:function(u,h){var d=ct(dn(u.body),h),m=new Me.MathNode("mphantom",d),I=new Me.MathNode("mpadded",[m]);return I.setAttribute("height","0px"),I.setAttribute("depth","0px"),I}}),We({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(u,h){return{type:"vphantom",mode:u.parser.mode,body:h[0]}},htmlBuilder:function(u,h){var d=ye.makeSpan(["inner"],[de(u.body,h.withPhantom())]),m=ye.makeSpan(["fix"],[]);return ye.makeSpan(["mord","rlap"],[d,m],h)},mathmlBuilder:function(u,h){var d=ct(dn(u.body),h),m=new Me.MathNode("mphantom",d),I=new Me.MathNode("mpadded",[m]);return I.setAttribute("width","0px"),I}}),We({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(u,h){var d=u.parser,m=Ye(h[0],"size").value;return{type:"raisebox",mode:d.mode,dy:m,body:h[1]}},htmlBuilder:function(u,h){var d=de(u.body,h),m=Jt(u.dy,h);return ye.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:d}]},h)},mathmlBuilder:function(u,h){var d=new Me.MathNode("mpadded",[ot(u.body,h)]);return d.setAttribute("voffset",u.dy.number+u.dy.unit),d}}),We({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler:function(u){return{type:"internal",mode:u.parser.mode}}}),We({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(u,h,d){var m=u.parser,I=d[0],N=Ye(h[0],"size"),P=Ye(h[1],"size");return{type:"rule",mode:m.mode,shift:I&&Ye(I,"size").value,width:N.value,height:P.value}},htmlBuilder:function(u,h){var d=ye.makeSpan(["mord","rule"],[],h),m=Jt(u.width,h),I=Jt(u.height,h),N=u.shift?Jt(u.shift,h):0;return d.style.borderRightWidth=Ze(m),d.style.borderTopWidth=Ze(I),d.style.bottom=Ze(N),d.width=m,d.height=I+N,d.depth=-N,d.maxFontSize=1.125*I*h.sizeMultiplier,d},mathmlBuilder:function(u,h){var d=Jt(u.width,h),m=Jt(u.height,h),I=u.shift?Jt(u.shift,h):0,N=h.color&&h.getColor()||"black",P=new Me.MathNode("mspace");P.setAttribute("mathbackground",N),P.setAttribute("width",Ze(d)),P.setAttribute("height",Ze(m));var _=new Me.MathNode("mpadded",[P]);return I>=0?_.setAttribute("height",Ze(I)):(_.setAttribute("height",Ze(I)),_.setAttribute("depth",Ze(-I))),_.setAttribute("voffset",Ze(I)),_}});var Xa=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];We({type:"sizing",names:Xa,props:{numArgs:0,allowedInText:!0},handler:function(u,h){var m=u.funcName,I=u.parser,N=I.parseExpression(!1,u.breakOnTokenText);return{type:"sizing",mode:I.mode,size:Xa.indexOf(m)+1,body:N}},htmlBuilder:function(u,h){var d=h.havingSize(u.size);return Ha(u.body,d,h)},mathmlBuilder:function(u,h){var d=h.havingSize(u.size),m=ct(u.body,d),I=new Me.MathNode("mstyle",m);return I.setAttribute("mathsize",Ze(d.sizeMultiplier)),I}}),We({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(u,h,d){var m=u.parser,I=!1,N=!1,P=d[0]&&Ye(d[0],"ordgroup");if(P)for(var _="",q=0;q<P.body.length;++q)if("t"===(_=P.body[q].text))I=!0;else{if("b"!==_){I=!1,N=!1;break}N=!0}else I=!0,N=!0;return{type:"smash",mode:m.mode,body:h[0],smashHeight:I,smashDepth:N}},htmlBuilder:function(u,h){var d=ye.makeSpan([],[de(u.body,h)]);if(!u.smashHeight&&!u.smashDepth)return d;if(u.smashHeight&&(d.height=0,d.children))for(var m=0;m<d.children.length;m++)d.children[m].height=0;if(u.smashDepth&&(d.depth=0,d.children))for(var I=0;I<d.children.length;I++)d.children[I].depth=0;var N=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d}]},h);return ye.makeSpan(["mord"],[N],h)},mathmlBuilder:function(u,h){var d=new Me.MathNode("mpadded",[ot(u.body,h)]);return u.smashHeight&&d.setAttribute("height","0px"),u.smashDepth&&d.setAttribute("depth","0px"),d}}),We({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(u,h,d){return{type:"sqrt",mode:u.parser.mode,body:h[0],index:d[0]}},htmlBuilder:function(u,h){var d=de(u.body,h.havingCrampedStyle());0===d.height&&(d.height=h.fontMetrics().xHeight),d=ye.wrapFragment(d,h);var I=h.fontMetrics().defaultRuleThickness,N=I;h.style.id<Ke.TEXT.id&&(N=h.fontMetrics().xHeight);var P=I+N/4,q=Re.sqrtImage(d.height+d.depth+P+I,h),ae=q.span,me=q.ruleWidth,Be=ae.height-me;Be>d.height+d.depth+P&&(P=(P+Be-d.height-d.depth)/2);var Ee=ae.height-d.height-P-me;d.style.paddingLeft=Ze(q.advanceWidth);var Ue=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d,wrapperClasses:["svg-align"]},{type:"kern",size:-(d.height+Ee)},{type:"elem",elem:ae},{type:"kern",size:me}]},h);if(u.index){var Xe=h.havingStyle(Ke.SCRIPTSCRIPT),at=de(u.index,Xe,h),wt=ye.makeVList({positionType:"shift",positionData:-.6*(Ue.height-Ue.depth),children:[{type:"elem",elem:at}]},h),lr=ye.makeSpan(["root"],[wt]);return ye.makeSpan(["mord","sqrt"],[lr,Ue],h)}return ye.makeSpan(["mord","sqrt"],[Ue],h)},mathmlBuilder:function(u,h){var d=u.body,m=u.index;return m?new Me.MathNode("mroot",[ot(d,h),ot(m,h)]):new Me.MathNode("msqrt",[ot(d,h)])}});var et={display:Ke.DISPLAY,text:Ke.TEXT,script:Ke.SCRIPT,scriptscript:Ke.SCRIPTSCRIPT};We({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(u,h){var m=u.funcName,I=u.parser,N=I.parseExpression(!0,u.breakOnTokenText),P=m.slice(1,m.length-5);return{type:"styling",mode:I.mode,style:P,body:N}},htmlBuilder:function(u,h){var m=h.havingStyle(et[u.style]).withFont("");return Ha(u.body,m,h)},mathmlBuilder:function(u,h){var m=h.havingStyle(et[u.style]),I=ct(u.body,m),N=new Me.MathNode("mstyle",I),_={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[u.style];return N.setAttribute("scriptlevel",_[0]),N.setAttribute("displaystyle",_[1]),N}}),er({type:"supsub",htmlBuilder:function(u,h){var d=function(u,h){var d=u.base;return d?"op"===d.type?d.limits&&(h.style.size===Ke.DISPLAY.size||d.alwaysHandleSupSub)?Ua:null:"operatorname"===d.type?d.alwaysHandleSupSub&&(h.style.size===Ke.DISPLAY.size||d.limits)?Gs:null:"accent"===d.type?lt_isCharacterBox(d.base)?cn:null:"horizBrace"===d.type&&!u.sub===d.isOver?ft:null:null}(u,h);if(d)return d(u,h);var _,q,Xe,m=u.base,I=u.sup,N=u.sub,P=de(m,h),ae=h.fontMetrics(),me=0,ze=0,Be=m&&lt_isCharacterBox(m);if(I){var Ee=h.havingStyle(h.style.sup());_=de(I,Ee,h),Be||(me=P.height-Ee.fontMetrics().supDrop*Ee.sizeMultiplier/h.sizeMultiplier)}if(N){var Ue=h.havingStyle(h.style.sub());q=de(N,Ue,h),Be||(ze=P.depth+Ue.fontMetrics().subDrop*Ue.sizeMultiplier/h.sizeMultiplier)}Xe=h.style===Ke.DISPLAY?ae.sup1:h.style.cramped?ae.sup3:ae.sup2;var mt,ht=Ze(.5/ae.ptPerEm/h.sizeMultiplier),wt=null;if(q&&(P instanceof hi||u.base&&"op"===u.base.type&&u.base.name&&("\\oiint"===u.base.name||"\\oiiint"===u.base.name))&&(wt=Ze(-P.italic)),_&&q){me=Math.max(me,Xe,_.depth+.25*ae.xHeight),ze=Math.max(ze,ae.sub2);var Xt=4*ae.defaultRuleThickness;if(me-_.depth-(q.height-ze)<Xt){ze=Xt-(me-_.depth)+q.height;var Yt=.8*ae.xHeight-(me-_.depth);Yt>0&&(me+=Yt,ze-=Yt)}mt=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:q,shift:ze,marginRight:ht,marginLeft:wt},{type:"elem",elem:_,shift:-me,marginRight:ht}]},h)}else if(q)ze=Math.max(ze,ae.sub1,q.height-.8*ae.xHeight),mt=ye.makeVList({positionType:"shift",positionData:ze,children:[{type:"elem",elem:q,marginLeft:wt,marginRight:ht}]},h);else{if(!_)throw new Error("supsub must have either sup or sub.");me=Math.max(me,Xe,_.depth+.25*ae.xHeight),mt=ye.makeVList({positionType:"shift",positionData:-me,children:[{type:"elem",elem:_,marginRight:ht}]},h)}var En=se(P,"right")||"mord";return ye.makeSpan([En],[P,ye.makeSpan(["msupsub"],[mt])],h)},mathmlBuilder:function(u,h){var m,d=!1;u.base&&"horizBrace"===u.base.type&&!!u.sup===u.base.isOver&&(d=!0,m=u.base.isOver),u.base&&("op"===u.base.type||"operatorname"===u.base.type)&&(u.base.parentIsSupSub=!0);var P,N=[ot(u.base,h)];if(u.sub&&N.push(ot(u.sub,h)),u.sup&&N.push(ot(u.sup,h)),d)P=m?"mover":"munder";else if(u.sub)if(u.sup){var ae=u.base;P=ae&&"op"===ae.type&&ae.limits&&h.style===Ke.DISPLAY||ae&&"operatorname"===ae.type&&ae.alwaysHandleSupSub&&(h.style===Ke.DISPLAY||ae.limits)?"munderover":"msubsup"}else{var q=u.base;P=q&&"op"===q.type&&q.limits&&(h.style===Ke.DISPLAY||q.alwaysHandleSupSub)||q&&"operatorname"===q.type&&q.alwaysHandleSupSub&&(q.limits||h.style===Ke.DISPLAY)?"munder":"msub"}else{var _=u.base;P=_&&"op"===_.type&&_.limits&&(h.style===Ke.DISPLAY||_.alwaysHandleSupSub)||_&&"operatorname"===_.type&&_.alwaysHandleSupSub&&(_.limits||h.style===Ke.DISPLAY)?"mover":"msup"}return new Me.MathNode(P,N)}}),er({type:"atom",htmlBuilder:function(u,h){return ye.mathsym(u.text,u.mode,h,["m"+u.family])},mathmlBuilder:function(u,h){var d=new Me.MathNode("mo",[sr(u.text,u.mode)]);if("bin"===u.family){var m=_t(u,h);"bold-italic"===m&&d.setAttribute("mathvariant",m)}else"punct"===u.family?d.setAttribute("separator","true"):("open"===u.family||"close"===u.family)&&d.setAttribute("stretchy","false");return d}});var U0={mi:"italic",mn:"normal",mtext:"normal"};er({type:"mathord",htmlBuilder:function(u,h){return ye.makeOrd(u,h,"mathord")},mathmlBuilder:function(u,h){var d=new Me.MathNode("mi",[sr(u.text,u.mode,h)]),m=_t(u,h)||"italic";return m!==U0[d.type]&&d.setAttribute("mathvariant",m),d}}),er({type:"textord",htmlBuilder:function(u,h){return ye.makeOrd(u,h,"textord")},mathmlBuilder:function(u,h){var I,d=sr(u.text,u.mode,h),m=_t(u,h)||"normal";return I="text"===u.mode?new Me.MathNode("mtext",[d]):/[0-9]/.test(u.text)?new Me.MathNode("mn",[d]):new Me.MathNode("\\prime"===u.text?"mo":"mi",[d]),m!==U0[I.type]&&I.setAttribute("mathvariant",m),I}});var Io={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},bo={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};er({type:"spacing",htmlBuilder:function(u,h){if(bo.hasOwnProperty(u.text)){var d=bo[u.text].className||"";if("text"===u.mode){var m=ye.makeOrd(u,h,"textord");return m.classes.push(d),m}return ye.makeSpan(["mspace",d],[ye.mathsym(u.text,u.mode,h)],h)}if(Io.hasOwnProperty(u.text))return ye.makeSpan(["mspace",Io[u.text]],[],h);throw new Se('Unknown type of space "'+u.text+'"')},mathmlBuilder:function(u,h){if(!bo.hasOwnProperty(u.text)){if(Io.hasOwnProperty(u.text))return new Me.MathNode("mspace");throw new Se('Unknown type of space "'+u.text+'"')}return new Me.MathNode("mtext",[new Me.TextNode("\xa0")])}});var Cn=function(){var u=new Me.MathNode("mtd",[]);return u.setAttribute("width","50%"),u};er({type:"tag",mathmlBuilder:function(u,h){var d=new Me.MathNode("mtable",[new Me.MathNode("mtr",[Cn(),new Me.MathNode("mtd",[fr(u.body,h)]),Cn(),new Me.MathNode("mtd",[fr(u.tag,h)])])]);return d.setAttribute("width","100%"),d}});var V0={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},W={"\\textbf":"textbf","\\textmd":"textmd"},wo={"\\textit":"textit","\\textup":"textup"},Yo=function(u,h){var d=u.font;return d?V0[d]?h.withTextFontFamily(V0[d]):W[d]?h.withTextFontWeight(W[d]):h.withTextFontShape(wo[d]):h};We({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(u,h){var m=u.funcName;return{type:"text",mode:u.parser.mode,body:dn(h[0]),font:m}},htmlBuilder:function(u,h){var d=Yo(u,h),m=B(u.body,d,!0);return ye.makeSpan(["mord","text"],m,d)},mathmlBuilder:function(u,h){var d=Yo(u,h);return fr(u.body,d)}}),We({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(u,h){return{type:"underline",mode:u.parser.mode,body:h[0]}},htmlBuilder:function(u,h){var d=de(u.body,h),m=ye.makeLineSpan("underline-line",h),I=h.fontMetrics().defaultRuleThickness,N=ye.makeVList({positionType:"top",positionData:d.height,children:[{type:"kern",size:I},{type:"elem",elem:m},{type:"kern",size:3*I},{type:"elem",elem:d}]},h);return ye.makeSpan(["mord","underline"],[N],h)},mathmlBuilder:function(u,h){var d=new Me.MathNode("mo",[new Me.TextNode("\u203e")]);d.setAttribute("stretchy","true");var m=new Me.MathNode("munder",[ot(u.body,h),d]);return m.setAttribute("accentunder","true"),m}}),We({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(u,h){return{type:"vcenter",mode:u.parser.mode,body:h[0]}},htmlBuilder:function(u,h){var d=de(u.body,h),m=h.fontMetrics().axisHeight;return ye.makeVList({positionType:"shift",positionData:.5*(d.height-m-(d.depth+m)),children:[{type:"elem",elem:d}]},h)},mathmlBuilder:function(u,h){return new Me.MathNode("mpadded",[ot(u.body,h)],["vcenter"])}}),We({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(u,h,d){throw new Se("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(u,h){for(var d=Jn(u),m=[],I=h.havingStyle(h.style.text()),N=0;N<d.length;N++){var P=d[N];"~"===P&&(P="\\textasciitilde"),m.push(ye.makeSymbol(P,"Typewriter-Regular",u.mode,I,["mord","texttt"]))}return ye.makeSpan(["mord","text"].concat(I.sizingClasses(h)),ye.tryCombineChars(m),I)},mathmlBuilder:function(u,h){var d=new Me.TextNode(Jn(u)),m=new Me.MathNode("mtext",[d]);return m.setAttribute("mathvariant","monospace"),m}});var Jn=function(u){return u.body.replace(/ /g,u.star?"\u2423":"\xa0")},da=ca,Pr=new RegExp("[\u0300-\u036f]+$"),Ta=function(){function M(h,d){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=h,this.settings=d,this.tokenRegex=new RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff][\u0300-\u036f]*|[\ud800-\udbff][\udc00-\udfff][\u0300-\u036f]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14,"~":13}}var u=M.prototype;return u.setCatcode=function(d,m){this.catcodes[d]=m},u.lex=function(){var d=this.input,m=this.tokenRegex.lastIndex;if(m===d.length)return new Vt("EOF",new Er(this,m,m));var I=this.tokenRegex.exec(d);if(null===I||I.index!==m)throw new Se("Unexpected character: '"+d[m]+"'",new Vt(d[m],new Er(this,m,m+1)));var N=I[6]||I[3]||(I[2]?"\\ ":" ");if(14===this.catcodes[N]){var P=d.indexOf("\n",this.tokenRegex.lastIndex);return-1===P?(this.tokenRegex.lastIndex=d.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=P+1,this.lex()}return new Vt(N,new Er(this,m,this.tokenRegex.lastIndex))},M}(),yl=function(){function M(h,d){void 0===h&&(h={}),void 0===d&&(d={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=d,this.builtins=h,this.undefStack=[]}var u=M.prototype;return u.beginGroup=function(){this.undefStack.push({})},u.endGroup=function(){if(0===this.undefStack.length)throw new Se("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var d=this.undefStack.pop();for(var m in d)d.hasOwnProperty(m)&&(null==d[m]?delete this.current[m]:this.current[m]=d[m])},u.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},u.has=function(d){return this.current.hasOwnProperty(d)||this.builtins.hasOwnProperty(d)},u.get=function(d){return this.current.hasOwnProperty(d)?this.current[d]:this.builtins[d]},u.set=function(d,m,I){if(void 0===I&&(I=!1),I){for(var N=0;N<this.undefStack.length;N++)delete this.undefStack[N][d];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][d]=m)}else{var P=this.undefStack[this.undefStack.length-1];P&&!P.hasOwnProperty(d)&&(P[d]=this.current[d])}null==m?delete this.current[d]:this.current[d]=m},M}(),H0=Qr;F("\\noexpand",function(M){var u=M.popToken();return M.isExpandable(u.text)&&(u.noexpand=!0,u.treatAsRelax=!0),{tokens:[u],numArgs:0}}),F("\\expandafter",function(M){var u=M.popToken();return M.expandOnce(!0),{tokens:[u],numArgs:0}}),F("\\@firstoftwo",function(M){return{tokens:M.consumeArgs(2)[0],numArgs:0}}),F("\\@secondoftwo",function(M){return{tokens:M.consumeArgs(2)[1],numArgs:0}}),F("\\@ifnextchar",function(M){var u=M.consumeArgs(3);M.consumeSpaces();var h=M.future();return 1===u[0].length&&u[0][0].text===h.text?{tokens:u[1],numArgs:0}:{tokens:u[2],numArgs:0}}),F("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),F("\\TextOrMath",function(M){var u=M.consumeArgs(2);return"text"===M.mode?{tokens:u[0],numArgs:0}:{tokens:u[1],numArgs:0}});var or={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};F("\\char",function(M){var h,u=M.popToken(),d="";if("'"===u.text)h=8,u=M.popToken();else if('"'===u.text)h=16,u=M.popToken();else if("`"===u.text)if("\\"===(u=M.popToken()).text[0])d=u.text.charCodeAt(1);else{if("EOF"===u.text)throw new Se("\\char` missing argument");d=u.text.charCodeAt(0)}else h=10;if(h){if(null==(d=or[u.text])||d>=h)throw new Se("Invalid base-"+h+" digit "+u.text);for(var m;null!=(m=or[M.future().text])&&m<h;)d*=h,d+=m,M.popToken()}return"\\@char{"+d+"}"});var Fs=function(u,h,d){var m=u.consumeArg().tokens;if(1!==m.length)throw new Se("\\newcommand's first argument must be a macro name");var I=m[0].text,N=u.isDefined(I);if(N&&!h)throw new Se("\\newcommand{"+I+"} attempting to redefine "+I+"; use \\renewcommand");if(!N&&!d)throw new Se("\\renewcommand{"+I+"} when command "+I+" does not yet exist; use \\newcommand");var P=0;if(1===(m=u.consumeArg().tokens).length&&"["===m[0].text){for(var _="",q=u.expandNextToken();"]"!==q.text&&"EOF"!==q.text;)_+=q.text,q=u.expandNextToken();if(!_.match(/^\s*[0-9]+\s*$/))throw new Se("Invalid number of arguments: "+_);P=parseInt(_),m=u.consumeArg().tokens}return u.macros.set(I,{tokens:m,numArgs:P}),""};F("\\newcommand",function(M){return Fs(M,!1,!0)}),F("\\renewcommand",function(M){return Fs(M,!0,!1)}),F("\\providecommand",function(M){return Fs(M,!0,!0)}),F("\\message",function(M){var u=M.consumeArgs(1)[0];return console.log(u.reverse().map(function(h){return h.text}).join("")),""}),F("\\errmessage",function(M){var u=M.consumeArgs(1)[0];return console.error(u.reverse().map(function(h){return h.text}).join("")),""}),F("\\show",function(M){var u=M.popToken(),h=u.text;return console.log(u,M.macros.get(h),da[h],Dr.math[h],Dr.text[h]),""}),F("\\bgroup","{"),F("\\egroup","}"),F("~","\\nobreakspace"),F("\\lq","`"),F("\\rq","'"),F("\\aa","\\r a"),F("\\AA","\\r A"),F("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xa9}"),F("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),F("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xae}"),F("\u212c","\\mathscr{B}"),F("\u2130","\\mathscr{E}"),F("\u2131","\\mathscr{F}"),F("\u210b","\\mathscr{H}"),F("\u2110","\\mathscr{I}"),F("\u2112","\\mathscr{L}"),F("\u2133","\\mathscr{M}"),F("\u211b","\\mathscr{R}"),F("\u212d","\\mathfrak{C}"),F("\u210c","\\mathfrak{H}"),F("\u2128","\\mathfrak{Z}"),F("\\Bbbk","\\Bbb{k}"),F("\xb7","\\cdotp"),F("\\llap","\\mathllap{\\textrm{#1}}"),F("\\rlap","\\mathrlap{\\textrm{#1}}"),F("\\clap","\\mathclap{\\textrm{#1}}"),F("\\mathstrut","\\vphantom{(}"),F("\\underbar","\\underline{\\text{#1}}"),F("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),F("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),F("\\ne","\\neq"),F("\u2260","\\neq"),F("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),F("\u2209","\\notin"),F("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),F("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),F("\u225a","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225a}}"),F("\u225b","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225b}}"),F("\u225d","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225d}}"),F("\u225e","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225e}}"),F("\u225f","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225f}}"),F("\u27c2","\\perp"),F("\u203c","\\mathclose{!\\mkern-0.8mu!}"),F("\u220c","\\notni"),F("\u231c","\\ulcorner"),F("\u231d","\\urcorner"),F("\u231e","\\llcorner"),F("\u231f","\\lrcorner"),F("\xa9","\\copyright"),F("\xae","\\textregistered"),F("\ufe0f","\\textregistered"),F("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),F("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),F("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),F("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),F("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),F("\u22ee","\\vdots"),F("\\varGamma","\\mathit{\\Gamma}"),F("\\varDelta","\\mathit{\\Delta}"),F("\\varTheta","\\mathit{\\Theta}"),F("\\varLambda","\\mathit{\\Lambda}"),F("\\varXi","\\mathit{\\Xi}"),F("\\varPi","\\mathit{\\Pi}"),F("\\varSigma","\\mathit{\\Sigma}"),F("\\varUpsilon","\\mathit{\\Upsilon}"),F("\\varPhi","\\mathit{\\Phi}"),F("\\varPsi","\\mathit{\\Psi}"),F("\\varOmega","\\mathit{\\Omega}"),F("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),F("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),F("\\boxed","\\fbox{$\\displaystyle{#1}$}"),F("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),F("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),F("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var it={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};F("\\dots",function(M){var u="\\dotso",h=M.expandAfterFuture().text;return h in it?u=it[h]:("\\not"===h.substr(0,4)||h in Dr.math&&lt_contains(["bin","rel"],Dr.math[h].group))&&(u="\\dotsb"),u});var Ji={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};F("\\dotso",function(M){return M.future().text in Ji?"\\ldots\\,":"\\ldots"}),F("\\dotsc",function(M){var u=M.future().text;return u in Ji&&","!==u?"\\ldots\\,":"\\ldots"}),F("\\cdots",function(M){return M.future().text in Ji?"\\@cdots\\,":"\\@cdots"}),F("\\dotsb","\\cdots"),F("\\dotsm","\\cdots"),F("\\dotsi","\\!\\cdots"),F("\\dotsx","\\ldots\\,"),F("\\DOTSI","\\relax"),F("\\DOTSB","\\relax"),F("\\DOTSX","\\relax"),F("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),F("\\,","\\tmspace+{3mu}{.1667em}"),F("\\thinspace","\\,"),F("\\>","\\mskip{4mu}"),F("\\:","\\tmspace+{4mu}{.2222em}"),F("\\medspace","\\:"),F("\\;","\\tmspace+{5mu}{.2777em}"),F("\\thickspace","\\;"),F("\\!","\\tmspace-{3mu}{.1667em}"),F("\\negthinspace","\\!"),F("\\negmedspace","\\tmspace-{4mu}{.2222em}"),F("\\negthickspace","\\tmspace-{5mu}{.277em}"),F("\\enspace","\\kern.5em "),F("\\enskip","\\hskip.5em\\relax"),F("\\quad","\\hskip1em\\relax"),F("\\qquad","\\hskip2em\\relax"),F("\\tag","\\@ifstar\\tag@literal\\tag@paren"),F("\\tag@paren","\\tag@literal{({#1})}"),F("\\tag@literal",function(M){if(M.macros.get("\\df@tag"))throw new Se("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),F("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),F("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),F("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),F("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),F("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),F("\\newline","\\\\\\relax"),F("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var vs=Ze(pe["Main-Regular"]["T".charCodeAt(0)][1]-.7*pe["Main-Regular"]["A".charCodeAt(0)][1]);F("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+vs+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),F("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+vs+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),F("\\hspace","\\@ifstar\\@hspacer\\@hspace"),F("\\@hspace","\\hskip #1\\relax"),F("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),F("\\ordinarycolon",":"),F("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),F("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),F("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),F("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),F("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),F("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),F("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),F("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),F("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),F("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),F("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),F("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),F("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),F("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),F("\u2237","\\dblcolon"),F("\u2239","\\eqcolon"),F("\u2254","\\coloneqq"),F("\u2255","\\eqqcolon"),F("\u2a74","\\Coloneqq"),F("\\ratio","\\vcentcolon"),F("\\coloncolon","\\dblcolon"),F("\\colonequals","\\coloneqq"),F("\\coloncolonequals","\\Coloneqq"),F("\\equalscolon","\\eqqcolon"),F("\\equalscoloncolon","\\Eqqcolon"),F("\\colonminus","\\coloneq"),F("\\coloncolonminus","\\Coloneq"),F("\\minuscolon","\\eqcolon"),F("\\minuscoloncolon","\\Eqcolon"),F("\\coloncolonapprox","\\Colonapprox"),F("\\coloncolonsim","\\Colonsim"),F("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),F("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),F("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),F("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),F("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220c}}"),F("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),F("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),F("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),F("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),F("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),F("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),F("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),F("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),F("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),F("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),F("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),F("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),F("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),F("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),F("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),F("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),F("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),F("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),F("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228a}"),F("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2acb}"),F("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228b}"),F("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2acc}"),F("\\imath","\\html@mathml{\\@imath}{\u0131}"),F("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),F("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27e6}}"),F("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27e7}}"),F("\u27e6","\\llbracket"),F("\u27e7","\\rrbracket"),F("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),F("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),F("\u2983","\\lBrace"),F("\u2984","\\rBrace"),F("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29b5}}"),F("\u29b5","\\minuso"),F("\\darr","\\downarrow"),F("\\dArr","\\Downarrow"),F("\\Darr","\\Downarrow"),F("\\lang","\\langle"),F("\\rang","\\rangle"),F("\\uarr","\\uparrow"),F("\\uArr","\\Uparrow"),F("\\Uarr","\\Uparrow"),F("\\N","\\mathbb{N}"),F("\\R","\\mathbb{R}"),F("\\Z","\\mathbb{Z}"),F("\\alef","\\aleph"),F("\\alefsym","\\aleph"),F("\\Alpha","\\mathrm{A}"),F("\\Beta","\\mathrm{B}"),F("\\bull","\\bullet"),F("\\Chi","\\mathrm{X}"),F("\\clubs","\\clubsuit"),F("\\cnums","\\mathbb{C}"),F("\\Complex","\\mathbb{C}"),F("\\Dagger","\\ddagger"),F("\\diamonds","\\diamondsuit"),F("\\empty","\\emptyset"),F("\\Epsilon","\\mathrm{E}"),F("\\Eta","\\mathrm{H}"),F("\\exist","\\exists"),F("\\harr","\\leftrightarrow"),F("\\hArr","\\Leftrightarrow"),F("\\Harr","\\Leftrightarrow"),F("\\hearts","\\heartsuit"),F("\\image","\\Im"),F("\\infin","\\infty"),F("\\Iota","\\mathrm{I}"),F("\\isin","\\in"),F("\\Kappa","\\mathrm{K}"),F("\\larr","\\leftarrow"),F("\\lArr","\\Leftarrow"),F("\\Larr","\\Leftarrow"),F("\\lrarr","\\leftrightarrow"),F("\\lrArr","\\Leftrightarrow"),F("\\Lrarr","\\Leftrightarrow"),F("\\Mu","\\mathrm{M}"),F("\\natnums","\\mathbb{N}"),F("\\Nu","\\mathrm{N}"),F("\\Omicron","\\mathrm{O}"),F("\\plusmn","\\pm"),F("\\rarr","\\rightarrow"),F("\\rArr","\\Rightarrow"),F("\\Rarr","\\Rightarrow"),F("\\real","\\Re"),F("\\reals","\\mathbb{R}"),F("\\Reals","\\mathbb{R}"),F("\\Rho","\\mathrm{P}"),F("\\sdot","\\cdot"),F("\\sect","\\S"),F("\\spades","\\spadesuit"),F("\\sub","\\subset"),F("\\sube","\\subseteq"),F("\\supe","\\supseteq"),F("\\Tau","\\mathrm{T}"),F("\\thetasym","\\vartheta"),F("\\weierp","\\wp"),F("\\Zeta","\\mathrm{Z}"),F("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),F("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),F("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),F("\\bra","\\mathinner{\\langle{#1}|}"),F("\\ket","\\mathinner{|{#1}\\rangle}"),F("\\braket","\\mathinner{\\langle{#1}\\rangle}"),F("\\Bra","\\left\\langle#1\\right|"),F("\\Ket","\\left|#1\\right\\rangle"),F("\\angln","{\\angl n}"),F("\\blue","\\textcolor{##6495ed}{#1}"),F("\\orange","\\textcolor{##ffa500}{#1}"),F("\\pink","\\textcolor{##ff00af}{#1}"),F("\\red","\\textcolor{##df0030}{#1}"),F("\\green","\\textcolor{##28ae7b}{#1}"),F("\\gray","\\textcolor{gray}{#1}"),F("\\purple","\\textcolor{##9d38bd}{#1}"),F("\\blueA","\\textcolor{##ccfaff}{#1}"),F("\\blueB","\\textcolor{##80f6ff}{#1}"),F("\\blueC","\\textcolor{##63d9ea}{#1}"),F("\\blueD","\\textcolor{##11accd}{#1}"),F("\\blueE","\\textcolor{##0c7f99}{#1}"),F("\\tealA","\\textcolor{##94fff5}{#1}"),F("\\tealB","\\textcolor{##26edd5}{#1}"),F("\\tealC","\\textcolor{##01d1c1}{#1}"),F("\\tealD","\\textcolor{##01a995}{#1}"),F("\\tealE","\\textcolor{##208170}{#1}"),F("\\greenA","\\textcolor{##b6ffb0}{#1}"),F("\\greenB","\\textcolor{##8af281}{#1}"),F("\\greenC","\\textcolor{##74cf70}{#1}"),F("\\greenD","\\textcolor{##1fab54}{#1}"),F("\\greenE","\\textcolor{##0d923f}{#1}"),F("\\goldA","\\textcolor{##ffd0a9}{#1}"),F("\\goldB","\\textcolor{##ffbb71}{#1}"),F("\\goldC","\\textcolor{##ff9c39}{#1}"),F("\\goldD","\\textcolor{##e07d10}{#1}"),F("\\goldE","\\textcolor{##a75a05}{#1}"),F("\\redA","\\textcolor{##fca9a9}{#1}"),F("\\redB","\\textcolor{##ff8482}{#1}"),F("\\redC","\\textcolor{##f9685d}{#1}"),F("\\redD","\\textcolor{##e84d39}{#1}"),F("\\redE","\\textcolor{##bc2612}{#1}"),F("\\maroonA","\\textcolor{##ffbde0}{#1}"),F("\\maroonB","\\textcolor{##ff92c6}{#1}"),F("\\maroonC","\\textcolor{##ed5fa6}{#1}"),F("\\maroonD","\\textcolor{##ca337c}{#1}"),F("\\maroonE","\\textcolor{##9e034e}{#1}"),F("\\purpleA","\\textcolor{##ddd7ff}{#1}"),F("\\purpleB","\\textcolor{##c6b9fc}{#1}"),F("\\purpleC","\\textcolor{##aa87ff}{#1}"),F("\\purpleD","\\textcolor{##7854ab}{#1}"),F("\\purpleE","\\textcolor{##543b78}{#1}"),F("\\mintA","\\textcolor{##f5f9e8}{#1}"),F("\\mintB","\\textcolor{##edf2df}{#1}"),F("\\mintC","\\textcolor{##e0e5cc}{#1}"),F("\\grayA","\\textcolor{##f6f7f7}{#1}"),F("\\grayB","\\textcolor{##f0f1f2}{#1}"),F("\\grayC","\\textcolor{##e3e5e6}{#1}"),F("\\grayD","\\textcolor{##d6d8da}{#1}"),F("\\grayE","\\textcolor{##babec2}{#1}"),F("\\grayF","\\textcolor{##888d93}{#1}"),F("\\grayG","\\textcolor{##626569}{#1}"),F("\\grayH","\\textcolor{##3b3e40}{#1}"),F("\\grayI","\\textcolor{##21242c}{#1}"),F("\\kaBlue","\\textcolor{##314453}{#1}"),F("\\kaGreen","\\textcolor{##71B307}{#1}");var Wn={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},Il=function(){function M(h,d,m){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=d,this.expansionCount=0,this.feed(h),this.macros=new yl(H0,d.macros),this.mode=m,this.stack=[]}var u=M.prototype;return u.feed=function(d){this.lexer=new Ta(d,this.settings)},u.switchMode=function(d){this.mode=d},u.beginGroup=function(){this.macros.beginGroup()},u.endGroup=function(){this.macros.endGroup()},u.endGroups=function(){this.macros.endGroups()},u.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},u.popToken=function(){return this.future(),this.stack.pop()},u.pushToken=function(d){this.stack.push(d)},u.pushTokens=function(d){var m;(m=this.stack).push.apply(m,d)},u.scanArgument=function(d){var m,I,N;if(d){if(this.consumeSpaces(),"["!==this.future().text)return null;m=this.popToken();var P=this.consumeArg(["]"]);N=P.tokens,I=P.end}else{var _=this.consumeArg();N=_.tokens,m=_.start,I=_.end}return this.pushToken(new Vt("EOF",I.loc)),this.pushTokens(N),m.range(I,"")},u.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},u.consumeArg=function(d){var m=[],I=d&&d.length>0;I||this.consumeSpaces();var P,N=this.future(),_=0,q=0;do{if(P=this.popToken(),m.push(P),"{"===P.text)++_;else if("}"===P.text){if(-1==--_)throw new Se("Extra }",P)}else if("EOF"===P.text)throw new Se("Unexpected end of input in a macro argument, expected '"+(d&&I?d[q]:"}")+"'",P);if(d&&I)if((0===_||1===_&&"{"===d[q])&&P.text===d[q]){if(++q===d.length){m.splice(-q,q);break}}else q=0}while(0!==_||I);return"{"===N.text&&"}"===m[m.length-1].text&&(m.pop(),m.shift()),m.reverse(),{tokens:m,start:N,end:P}},u.consumeArgs=function(d,m){if(m){if(m.length!==d+1)throw new Se("The length of delimiters doesn't match the number of args!");for(var I=m[0],N=0;N<I.length;N++){var P=this.popToken();if(I[N]!==P.text)throw new Se("Use of the macro doesn't match its definition",P)}}for(var _=[],q=0;q<d;q++)_.push(this.consumeArg(m&&m[q+1]).tokens);return _},u.expandOnce=function(d){var m=this.popToken(),I=m.text,N=m.noexpand?null:this._getExpansion(I);if(null==N||d&&N.unexpandable){if(d&&null==N&&"\\"===I[0]&&!this.isDefined(I))throw new Se("Undefined control sequence: "+I);return this.pushToken(m),m}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new Se("Too many expansions: infinite loop or need to increase maxExpand setting");var P=N.tokens,_=this.consumeArgs(N.numArgs,N.delimiters);if(N.numArgs)for(var q=(P=P.slice()).length-1;q>=0;--q){var ae=P[q];if("#"===ae.text){if(0===q)throw new Se("Incomplete placeholder at end of macro body",ae);if("#"===(ae=P[--q]).text)P.splice(q+1,1);else{if(!/^[1-9]$/.test(ae.text))throw new Se("Not a valid argument number",ae);var me;(me=P).splice.apply(me,[q,2].concat(_[+ae.text-1]))}}}return this.pushTokens(P),P},u.expandAfterFuture=function(){return this.expandOnce(),this.future()},u.expandNextToken=function(){for(;;){var d=this.expandOnce();if(d instanceof Vt)return d.treatAsRelax&&(d.text="\\relax"),this.stack.pop()}throw new Error},u.expandMacro=function(d){return this.macros.has(d)?this.expandTokens([new Vt(d)]):void 0},u.expandTokens=function(d){var m=[],I=this.stack.length;for(this.pushTokens(d);this.stack.length>I;){var N=this.expandOnce(!0);N instanceof Vt&&(N.treatAsRelax&&(N.noexpand=!1,N.treatAsRelax=!1),m.push(this.stack.pop()))}return m},u.expandMacroAsText=function(d){var m=this.expandMacro(d);return m&&m.map(function(I){return I.text}).join("")},u._getExpansion=function(d){var m=this.macros.get(d);if(null==m)return m;if(1===d.length){var I=this.lexer.catcodes[d];if(null!=I&&13!==I)return}var N="function"==typeof m?m(this):m;if("string"==typeof N){var P=0;if(-1!==N.indexOf("#"))for(var _=N.replace(/##/g,"");-1!==_.indexOf("#"+(P+1));)++P;for(var q=new Ta(N,this.settings),ae=[],me=q.lex();"EOF"!==me.text;)ae.push(me),me=q.lex();return ae.reverse(),{tokens:ae,numArgs:P}}return N},u.isDefined=function(d){return this.macros.has(d)||da.hasOwnProperty(d)||Dr.math.hasOwnProperty(d)||Dr.text.hasOwnProperty(d)||Wn.hasOwnProperty(d)},u.isExpandable=function(d){var m=this.macros.get(d);return null!=m?"string"==typeof m||"function"==typeof m||!m.unexpandable:da.hasOwnProperty(d)&&!da[d].primitive},M}(),yi={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030c":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030a":{text:"\\r",math:"\\mathring"},"\u030b":{text:"\\H"},"\u0327":{text:"\\c"}},qa={\u00e1:"a\u0301",\u00e0:"a\u0300",\u00e4:"a\u0308",\u01df:"a\u0308\u0304",\u00e3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1eaf:"a\u0306\u0301",\u1eb1:"a\u0306\u0300",\u1eb5:"a\u0306\u0303",\u01ce:"a\u030c",\u00e2:"a\u0302",\u1ea5:"a\u0302\u0301",\u1ea7:"a\u0302\u0300",\u1eab:"a\u0302\u0303",\u0227:"a\u0307",\u01e1:"a\u0307\u0304",\u00e5:"a\u030a",\u01fb:"a\u030a\u0301",\u1e03:"b\u0307",\u0107:"c\u0301",\u1e09:"c\u0327\u0301",\u010d:"c\u030c",\u0109:"c\u0302",\u010b:"c\u0307",\u00e7:"c\u0327",\u010f:"d\u030c",\u1e0b:"d\u0307",\u1e11:"d\u0327",\u00e9:"e\u0301",\u00e8:"e\u0300",\u00eb:"e\u0308",\u1ebd:"e\u0303",\u0113:"e\u0304",\u1e17:"e\u0304\u0301",\u1e15:"e\u0304\u0300",\u0115:"e\u0306",\u1e1d:"e\u0327\u0306",\u011b:"e\u030c",\u00ea:"e\u0302",\u1ebf:"e\u0302\u0301",\u1ec1:"e\u0302\u0300",\u1ec5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1e1f:"f\u0307",\u01f5:"g\u0301",\u1e21:"g\u0304",\u011f:"g\u0306",\u01e7:"g\u030c",\u011d:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1e27:"h\u0308",\u021f:"h\u030c",\u0125:"h\u0302",\u1e23:"h\u0307",\u1e29:"h\u0327",\u00ed:"i\u0301",\u00ec:"i\u0300",\u00ef:"i\u0308",\u1e2f:"i\u0308\u0301",\u0129:"i\u0303",\u012b:"i\u0304",\u012d:"i\u0306",\u01d0:"i\u030c",\u00ee:"i\u0302",\u01f0:"j\u030c",\u0135:"j\u0302",\u1e31:"k\u0301",\u01e9:"k\u030c",\u0137:"k\u0327",\u013a:"l\u0301",\u013e:"l\u030c",\u013c:"l\u0327",\u1e3f:"m\u0301",\u1e41:"m\u0307",\u0144:"n\u0301",\u01f9:"n\u0300",\u00f1:"n\u0303",\u0148:"n\u030c",\u1e45:"n\u0307",\u0146:"n\u0327",\u00f3:"o\u0301",\u00f2:"o\u0300",\u00f6:"o\u0308",\u022b:"o\u0308\u0304",\u00f5:"o\u0303",\u1e4d:"o\u0303\u0301",\u1e4f:"o\u0303\u0308",\u022d:"o\u0303\u0304",\u014d:"o\u0304",\u1e53:"o\u0304\u0301",\u1e51:"o\u0304\u0300",\u014f:"o\u0306",\u01d2:"o\u030c",\u00f4:"o\u0302",\u1ed1:"o\u0302\u0301",\u1ed3:"o\u0302\u0300",\u1ed7:"o\u0302\u0303",\u022f:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030b",\u1e55:"p\u0301",\u1e57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030c",\u1e59:"r\u0307",\u0157:"r\u0327",\u015b:"s\u0301",\u1e65:"s\u0301\u0307",\u0161:"s\u030c",\u1e67:"s\u030c\u0307",\u015d:"s\u0302",\u1e61:"s\u0307",\u015f:"s\u0327",\u1e97:"t\u0308",\u0165:"t\u030c",\u1e6b:"t\u0307",\u0163:"t\u0327",\u00fa:"u\u0301",\u00f9:"u\u0300",\u00fc:"u\u0308",\u01d8:"u\u0308\u0301",\u01dc:"u\u0308\u0300",\u01d6:"u\u0308\u0304",\u01da:"u\u0308\u030c",\u0169:"u\u0303",\u1e79:"u\u0303\u0301",\u016b:"u\u0304",\u1e7b:"u\u0304\u0308",\u016d:"u\u0306",\u01d4:"u\u030c",\u00fb:"u\u0302",\u016f:"u\u030a",\u0171:"u\u030b",\u1e7d:"v\u0303",\u1e83:"w\u0301",\u1e81:"w\u0300",\u1e85:"w\u0308",\u0175:"w\u0302",\u1e87:"w\u0307",\u1e98:"w\u030a",\u1e8d:"x\u0308",\u1e8b:"x\u0307",\u00fd:"y\u0301",\u1ef3:"y\u0300",\u00ff:"y\u0308",\u1ef9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1e8f:"y\u0307",\u1e99:"y\u030a",\u017a:"z\u0301",\u017e:"z\u030c",\u1e91:"z\u0302",\u017c:"z\u0307",\u00c1:"A\u0301",\u00c0:"A\u0300",\u00c4:"A\u0308",\u01de:"A\u0308\u0304",\u00c3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1eae:"A\u0306\u0301",\u1eb0:"A\u0306\u0300",\u1eb4:"A\u0306\u0303",\u01cd:"A\u030c",\u00c2:"A\u0302",\u1ea4:"A\u0302\u0301",\u1ea6:"A\u0302\u0300",\u1eaa:"A\u0302\u0303",\u0226:"A\u0307",\u01e0:"A\u0307\u0304",\u00c5:"A\u030a",\u01fa:"A\u030a\u0301",\u1e02:"B\u0307",\u0106:"C\u0301",\u1e08:"C\u0327\u0301",\u010c:"C\u030c",\u0108:"C\u0302",\u010a:"C\u0307",\u00c7:"C\u0327",\u010e:"D\u030c",\u1e0a:"D\u0307",\u1e10:"D\u0327",\u00c9:"E\u0301",\u00c8:"E\u0300",\u00cb:"E\u0308",\u1ebc:"E\u0303",\u0112:"E\u0304",\u1e16:"E\u0304\u0301",\u1e14:"E\u0304\u0300",\u0114:"E\u0306",\u1e1c:"E\u0327\u0306",\u011a:"E\u030c",\u00ca:"E\u0302",\u1ebe:"E\u0302\u0301",\u1ec0:"E\u0302\u0300",\u1ec4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1e1e:"F\u0307",\u01f4:"G\u0301",\u1e20:"G\u0304",\u011e:"G\u0306",\u01e6:"G\u030c",\u011c:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1e26:"H\u0308",\u021e:"H\u030c",\u0124:"H\u0302",\u1e22:"H\u0307",\u1e28:"H\u0327",\u00cd:"I\u0301",\u00cc:"I\u0300",\u00cf:"I\u0308",\u1e2e:"I\u0308\u0301",\u0128:"I\u0303",\u012a:"I\u0304",\u012c:"I\u0306",\u01cf:"I\u030c",\u00ce:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1e30:"K\u0301",\u01e8:"K\u030c",\u0136:"K\u0327",\u0139:"L\u0301",\u013d:"L\u030c",\u013b:"L\u0327",\u1e3e:"M\u0301",\u1e40:"M\u0307",\u0143:"N\u0301",\u01f8:"N\u0300",\u00d1:"N\u0303",\u0147:"N\u030c",\u1e44:"N\u0307",\u0145:"N\u0327",\u00d3:"O\u0301",\u00d2:"O\u0300",\u00d6:"O\u0308",\u022a:"O\u0308\u0304",\u00d5:"O\u0303",\u1e4c:"O\u0303\u0301",\u1e4e:"O\u0303\u0308",\u022c:"O\u0303\u0304",\u014c:"O\u0304",\u1e52:"O\u0304\u0301",\u1e50:"O\u0304\u0300",\u014e:"O\u0306",\u01d1:"O\u030c",\u00d4:"O\u0302",\u1ed0:"O\u0302\u0301",\u1ed2:"O\u0302\u0300",\u1ed6:"O\u0302\u0303",\u022e:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030b",\u1e54:"P\u0301",\u1e56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030c",\u1e58:"R\u0307",\u0156:"R\u0327",\u015a:"S\u0301",\u1e64:"S\u0301\u0307",\u0160:"S\u030c",\u1e66:"S\u030c\u0307",\u015c:"S\u0302",\u1e60:"S\u0307",\u015e:"S\u0327",\u0164:"T\u030c",\u1e6a:"T\u0307",\u0162:"T\u0327",\u00da:"U\u0301",\u00d9:"U\u0300",\u00dc:"U\u0308",\u01d7:"U\u0308\u0301",\u01db:"U\u0308\u0300",\u01d5:"U\u0308\u0304",\u01d9:"U\u0308\u030c",\u0168:"U\u0303",\u1e78:"U\u0303\u0301",\u016a:"U\u0304",\u1e7a:"U\u0304\u0308",\u016c:"U\u0306",\u01d3:"U\u030c",\u00db:"U\u0302",\u016e:"U\u030a",\u0170:"U\u030b",\u1e7c:"V\u0303",\u1e82:"W\u0301",\u1e80:"W\u0300",\u1e84:"W\u0308",\u0174:"W\u0302",\u1e86:"W\u0307",\u1e8c:"X\u0308",\u1e8a:"X\u0307",\u00dd:"Y\u0301",\u1ef2:"Y\u0300",\u0178:"Y\u0308",\u1ef8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1e8e:"Y\u0307",\u0179:"Z\u0301",\u017d:"Z\u030c",\u1e90:"Z\u0302",\u017b:"Z\u0307",\u03ac:"\u03b1\u0301",\u1f70:"\u03b1\u0300",\u1fb1:"\u03b1\u0304",\u1fb0:"\u03b1\u0306",\u03ad:"\u03b5\u0301",\u1f72:"\u03b5\u0300",\u03ae:"\u03b7\u0301",\u1f74:"\u03b7\u0300",\u03af:"\u03b9\u0301",\u1f76:"\u03b9\u0300",\u03ca:"\u03b9\u0308",\u0390:"\u03b9\u0308\u0301",\u1fd2:"\u03b9\u0308\u0300",\u1fd1:"\u03b9\u0304",\u1fd0:"\u03b9\u0306",\u03cc:"\u03bf\u0301",\u1f78:"\u03bf\u0300",\u03cd:"\u03c5\u0301",\u1f7a:"\u03c5\u0300",\u03cb:"\u03c5\u0308",\u03b0:"\u03c5\u0308\u0301",\u1fe2:"\u03c5\u0308\u0300",\u1fe1:"\u03c5\u0304",\u1fe0:"\u03c5\u0306",\u03ce:"\u03c9\u0301",\u1f7c:"\u03c9\u0300",\u038e:"\u03a5\u0301",\u1fea:"\u03a5\u0300",\u03ab:"\u03a5\u0308",\u1fe9:"\u03a5\u0304",\u1fe8:"\u03a5\u0306",\u038f:"\u03a9\u0301",\u1ffa:"\u03a9\u0300"},ps=function(){function M(h,d){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Il(h,d,this.mode),this.settings=d,this.leftrightDepth=0}var u=M.prototype;return u.expect=function(d,m){if(void 0===m&&(m=!0),this.fetch().text!==d)throw new Se("Expected '"+d+"', got '"+this.fetch().text+"'",this.fetch());m&&this.consume()},u.consume=function(){this.nextToken=null},u.fetch=function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},u.switchMode=function(d){this.mode=d,this.gullet.switchMode(d)},u.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var d=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),d}finally{this.gullet.endGroups()}},u.subparse=function(d){var m=this.nextToken;this.consume(),this.gullet.pushToken(new Vt("}")),this.gullet.pushTokens(d);var I=this.parseExpression(!1);return this.expect("}"),this.nextToken=m,I},u.parseExpression=function(d,m){for(var I=[];;){"math"===this.mode&&this.consumeSpaces();var N=this.fetch();if(-1!==M.endOfExpression.indexOf(N.text)||m&&N.text===m||d&&da[N.text]&&da[N.text].infix)break;var P=this.parseAtom(m);if(!P)break;"internal"!==P.type&&I.push(P)}return"text"===this.mode&&this.formLigatures(I),this.handleInfixNodes(I)},u.handleInfixNodes=function(d){for(var I,m=-1,N=0;N<d.length;N++)if("infix"===d[N].type){if(-1!==m)throw new Se("only one infix operator per group",d[N].token);m=N,I=d[N].replaceWith}if(-1!==m&&I){var P,_,q=d.slice(0,m),ae=d.slice(m+1);return P=1===q.length&&"ordgroup"===q[0].type?q[0]:{type:"ordgroup",mode:this.mode,body:q},_=1===ae.length&&"ordgroup"===ae[0].type?ae[0]:{type:"ordgroup",mode:this.mode,body:ae},[this.callFunction(I,"\\\\abovefrac"===I?[P,d[m],_]:[P,_],[])]}return d},u.handleSupSubscript=function(d){var m=this.fetch(),I=m.text;this.consume(),this.consumeSpaces();var N=this.parseGroup(d);if(!N)throw new Se("Expected group after '"+I+"'",m);return N},u.formatUnsupportedCmd=function(d){for(var m=[],I=0;I<d.length;I++)m.push({type:"textord",mode:"text",text:d[I]});return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:m}]}},u.parseAtom=function(d){var I,N,m=this.parseGroup("atom",d);if("text"===this.mode)return m;for(;;){this.consumeSpaces();var P=this.fetch();if("\\limits"===P.text||"\\nolimits"===P.text){if(m&&"op"===m.type)m.limits="\\limits"===P.text,m.alwaysHandleSupSub=!0;else{if(!m||"operatorname"!==m.type)throw new Se("Limit controls must follow a math operator",P);m.alwaysHandleSupSub&&(m.limits="\\limits"===P.text)}this.consume()}else if("^"===P.text){if(I)throw new Se("Double superscript",P);I=this.handleSupSubscript("superscript")}else if("_"===P.text){if(N)throw new Se("Double subscript",P);N=this.handleSupSubscript("subscript")}else{if("'"!==P.text)break;if(I)throw new Se("Double superscript",P);var q={type:"textord",mode:this.mode,text:"\\prime"},ae=[q];for(this.consume();"'"===this.fetch().text;)ae.push(q),this.consume();"^"===this.fetch().text&&ae.push(this.handleSupSubscript("superscript")),I={type:"ordgroup",mode:this.mode,body:ae}}}return I||N?{type:"supsub",mode:this.mode,base:m,sup:I,sub:N}:m},u.parseFunction=function(d,m){var I=this.fetch(),N=I.text,P=da[N];if(!P)return null;if(this.consume(),m&&"atom"!==m&&!P.allowedInArgument)throw new Se("Got function '"+N+"' with no arguments"+(m?" as "+m:""),I);if("text"===this.mode&&!P.allowedInText)throw new Se("Can't use function '"+N+"' in text mode",I);if("math"===this.mode&&!1===P.allowedInMath)throw new Se("Can't use function '"+N+"' in math mode",I);var _=this.parseArguments(N,P);return this.callFunction(N,_.args,_.optArgs,I,d)},u.callFunction=function(d,m,I,N,P){var q=da[d];if(q&&q.handler)return q.handler({funcName:d,parser:this,token:N,breakOnTokenText:P},m,I);throw new Se("No function handler for "+d)},u.parseArguments=function(d,m){var I=m.numArgs+m.numOptionalArgs;if(0===I)return{args:[],optArgs:[]};for(var N=[],P=[],_=0;_<I;_++){var q=m.argTypes&&m.argTypes[_],ae=_<m.numOptionalArgs;(m.primitive&&null==q||"sqrt"===m.type&&1===_&&null==P[0])&&(q="primitive");var me=this.parseGroupOfType("argument to '"+d+"'",q,ae);if(ae)P.push(me);else{if(null==me)throw new Se("Null argument, please report this as a bug");N.push(me)}}return{args:N,optArgs:P}},u.parseGroupOfType=function(d,m,I){switch(m){case"color":return this.parseColorGroup(I);case"size":return this.parseSizeGroup(I);case"url":return this.parseUrlGroup(I);case"math":case"text":return this.parseArgumentGroup(I,m);case"hbox":var N=this.parseArgumentGroup(I,"text");return null!=N?{type:"styling",mode:N.mode,body:[N],style:"text"}:null;case"raw":var P=this.parseStringGroup("raw",I);return null!=P?{type:"raw",mode:"text",string:P.text}:null;case"primitive":if(I)throw new Se("A primitive argument cannot be optional");var _=this.parseGroup(d);if(null==_)throw new Se("Expected group as "+d,this.fetch());return _;case"original":case null:case void 0:return this.parseArgumentGroup(I);default:throw new Se("Unknown group type as "+d,this.fetch())}},u.consumeSpaces=function(){for(;" "===this.fetch().text;)this.consume()},u.parseStringGroup=function(d,m){var I=this.gullet.scanArgument(m);if(null==I)return null;for(var P,N="";"EOF"!==(P=this.fetch()).text;)N+=P.text,this.consume();return this.consume(),I.text=N,I},u.parseRegexGroup=function(d,m){for(var _,I=this.fetch(),N=I,P="";"EOF"!==(_=this.fetch()).text&&d.test(P+_.text);)P+=(N=_).text,this.consume();if(""===P)throw new Se("Invalid "+m+": '"+I.text+"'",I);return I.range(N,P)},u.parseColorGroup=function(d){var m=this.parseStringGroup("color",d);if(null==m)return null;var I=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(m.text);if(!I)throw new Se("Invalid color: '"+m.text+"'",m);var N=I[0];return/^[0-9a-f]{6}$/i.test(N)&&(N="#"+N),{type:"color-token",mode:this.mode,color:N}},u.parseSizeGroup=function(d){var m,I=!1;if(this.gullet.consumeSpaces(),!(m=d||"{"===this.gullet.future().text?this.parseStringGroup("size",d):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;!d&&0===m.text.length&&(m.text="0pt",I=!0);var N=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(m.text);if(!N)throw new Se("Invalid size: '"+m.text+"'",m);var P={number:+(N[1]+N[2]),unit:N[3]};if(!fn(P))throw new Se("Invalid unit: '"+P.unit+"'",m);return{type:"size",mode:this.mode,value:P,isBlank:I}},u.parseUrlGroup=function(d){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var m=this.parseStringGroup("url",d);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==m)return null;var I=m.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:I}},u.parseArgumentGroup=function(d,m){var I=this.gullet.scanArgument(d);if(null==I)return null;var N=this.mode;m&&this.switchMode(m),this.gullet.beginGroup();var P=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var _={type:"ordgroup",mode:this.mode,loc:I.loc,body:P};return m&&this.switchMode(N),_},u.parseGroup=function(d,m){var P,I=this.fetch(),N=I.text;if("{"===N||"\\begingroup"===N){this.consume();var _="{"===N?"}":"\\endgroup";this.gullet.beginGroup();var q=this.parseExpression(!1,_),ae=this.fetch();this.expect(_),this.gullet.endGroup(),P={type:"ordgroup",mode:this.mode,loc:Er.range(I,ae),body:q,semisimple:"\\begingroup"===N||void 0}}else if(null==(P=this.parseFunction(m,d)||this.parseSymbol())&&"\\"===N[0]&&!Wn.hasOwnProperty(N)){if(this.settings.throwOnError)throw new Se("Undefined control sequence: "+N,I);P=this.formatUnsupportedCmd(N),this.consume()}return P},u.formLigatures=function(d){for(var m=d.length-1,I=0;I<m;++I){var N=d[I],P=N.text;"-"===P&&"-"===d[I+1].text&&(I+1<m&&"-"===d[I+2].text?(d.splice(I,3,{type:"textord",mode:"text",loc:Er.range(N,d[I+2]),text:"---"}),m-=2):(d.splice(I,2,{type:"textord",mode:"text",loc:Er.range(N,d[I+1]),text:"--"}),m-=1)),("'"===P||"`"===P)&&d[I+1].text===P&&(d.splice(I,2,{type:"textord",mode:"text",loc:Er.range(N,d[I+1]),text:P+P}),m-=1)}},u.parseSymbol=function(){var d=this.fetch(),m=d.text;if(/^\\verb[^a-zA-Z]/.test(m)){this.consume();var I=m.slice(5),N="*"===I.charAt(0);if(N&&(I=I.slice(1)),I.length<2||I.charAt(0)!==I.slice(-1))throw new Se("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:I=I.slice(1,-1),star:N}}qa.hasOwnProperty(m[0])&&!Dr[this.mode][m[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+m[0]+'" used in math mode',d),m=qa[m[0]]+m.substr(1));var _,P=Pr.exec(m);if(P&&("i"===(m=m.substring(0,P.index))?m="\u0131":"j"===m&&(m="\u0237")),Dr[this.mode][m]){this.settings.strict&&"math"===this.mode&&"\xd0\xde\xfe".indexOf(m)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+m[0]+'" used in math mode',d);var q=Dr[this.mode][m].group,ae=Er.range(d);_=i0.hasOwnProperty(q)?{type:"atom",mode:this.mode,family:q,loc:ae,text:m}:{type:q,mode:this.mode,loc:ae,text:m}}else{if(!(m.charCodeAt(0)>=128))return null;this.settings.strict&&(ni(m.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+m[0]+'" used in math mode',d):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+m[0]+'" ('+m.charCodeAt(0)+")",d)),_={type:"textord",mode:"text",loc:Er.range(d),text:m}}if(this.consume(),P)for(var Be=0;Be<P[0].length;Be++){var Ee=P[0][Be];if(!yi[Ee])throw new Se("Unknown accent ' "+Ee+"'",d);var Ue=yi[Ee][this.mode]||yi[Ee].text;if(!Ue)throw new Se("Accent "+Ee+" unsupported in "+this.mode+" mode",d);_={type:"accent",mode:this.mode,loc:Er.range(d),label:Ue,isStretchy:!1,isShifty:!0,base:_}}return _},M}();ps.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var _n=function(u,h){if(!("string"==typeof u||u instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var d=new ps(u,h);delete d.gullet.macros.current["\\df@tag"];var m=d.parse();if(delete d.gullet.macros.current["\\current@color"],delete d.gullet.macros.current["\\color"],d.gullet.macros.get("\\df@tag")){if(!h.displayMode)throw new Se("\\tag works only in display equations");m=[{type:"tag",mode:"text",body:m,tag:d.subparse([new Vt("\\df@tag")])}]}return m},A0=function(u,h,d){h.textContent="";var m=I0(u,d).toNode();h.appendChild(m)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),A0=function(){throw new Se("KaTeX doesn't work in quirks mode.")});var Ai=function(u,h,d){if(d.throwOnError||!(u instanceof Se))throw u;var m=ye.makeSpan(["katex-error"],[new hi(h)]);return m.setAttribute("title",u.toString()),m.setAttribute("style","color:"+d.errorColor),m},I0=function(u,h){var d=new mn(h);try{return function(u,h,d){var I,m=Ir(d);if("mathml"===d.output)return dr(u,h,m,d.displayMode,!0);if("html"===d.output){var N=Ie(u,m);I=ye.makeSpan(["katex"],[N])}else{var P=dr(u,h,m,d.displayMode,!1),_=Ie(u,m);I=ye.makeSpan(["katex"],[P,_])}return Oi(I,d)}(_n(u,d),u,d)}catch(I){return Ai(I,u,d)}},bl={version:"0.15.3",render:A0,renderToString:function(u,h){return I0(u,h).toMarkup()},ParseError:Se,SETTINGS_SCHEMA:kt,__parse:function(u,h){var d=new mn(h);return _n(u,d)},__renderToDomTree:I0,__renderToHTMLTree:function(u,h){var d=new mn(h);try{return function(u,h,d){var I=Ie(u,Ir(d)),N=ye.makeSpan(["katex"],[I]);return Oi(N,d)}(_n(u,d),0,d)}catch(I){return Ai(I,u,d)}},__setFontMetrics:function qe(M,u){pe[M]=u},__defineSymbol:b,__defineMacro:F,__domTree:{Span:Cs,Anchor:xs,SymbolNode:hi,SvgNode:Ui,PathNode:Vi,LineNode:Ss}};return Je.default}()});